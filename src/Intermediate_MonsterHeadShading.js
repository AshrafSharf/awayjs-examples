/*

Monster Head example in Away3d

Demonstrates:

How to use the AssetLibrary to load an internal AWD model.
How to set custom material methods on a model.
How to setup soft shadows and multiple lightsources with a multipass texture
How to use a diffuse gradient method as a cheap way to simulate sub-surface scattering

Code by Rob Bateman & David Lenaerts
rob@infiniteturtles.co.uk
http://www.infiniteturtles.co.uk
david.lenaerts@gmail.com
http://www.derschmale.com

This code is distributed under the MIT License

Copyright (c) The Away Foundation http://www.theawayfoundation.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var AssetEvent = require("awayjs-core/lib/events/AssetEvent");
var AwayEvent = require("awayjs-core/lib/events/Event");
var LoaderEvent = require("awayjs-core/lib/events/LoaderEvent");
var ProgressEvent = require("awayjs-core/lib/events/ProgressEvent");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var AssetLibrary = require("awayjs-core/lib/library/AssetLibrary");
var AssetLoaderContext = require("awayjs-core/lib/library/AssetLoaderContext");
var AssetType = require("awayjs-core/lib/library/AssetType");
var URLLoader = require("awayjs-core/lib/net/URLLoader");
var URLLoaderDataFormat = require("awayjs-core/lib/net/URLLoaderDataFormat");
var URLRequest = require("awayjs-core/lib/net/URLRequest");
var ParserUtils = require("awayjs-core/lib/parsers/ParserUtils");
var ImageTexture = require("awayjs-core/lib/textures/ImageTexture");
var SpecularBitmapTexture = require("awayjs-core/lib/textures/SpecularBitmapTexture");
var RequestAnimationFrame = require("awayjs-core/lib/utils/RequestAnimationFrame");
var Scene = require("awayjs-display/lib/containers/Scene");
var View = require("awayjs-display/lib/containers/View");
var HoverController = require("awayjs-display/lib/controllers/HoverController");
var Camera = require("awayjs-display/lib/entities/Camera");
var DirectionalLight = require("awayjs-display/lib/entities/DirectionalLight");
var PointLight = require("awayjs-display/lib/entities/PointLight");
var StaticLightPicker = require("awayjs-display/lib/materials/lightpickers/StaticLightPicker");
var Cast = require("awayjs-display/lib/utils/Cast");
var TriangleMethodMaterial = require("awayjs-renderergl/lib/materials/TriangleMethodMaterial");
var TriangleMaterialMode = require("awayjs-renderergl/lib/materials/TriangleMaterialMode");
var SpecularFresnelMethod = require("awayjs-renderergl/lib/materials/methods/SpecularFresnelMethod");
var ShadowSoftMethod = require("awayjs-renderergl/lib/materials/methods/ShadowSoftMethod");
var AWDParser = require("awayjs-renderergl/lib/parsers/AWDParser");
var DefaultRenderer = require("awayjs-renderergl/lib/render/DefaultRenderer");
var Intermediate_MonsterHeadShading = (function () {
    /**
     * Constructor
     */
    function Intermediate_MonsterHeadShading() {
        //textures
        this._textureStrings = Array("monsterhead_diffuse.jpg", "monsterhead_specular.jpg", "monsterhead_normals.jpg");
        this._textureDictionary = new Object();
        this._advancedMethod = true;
        //loading variables
        this._numTextures = 0;
        this._currentTexture = 0;
        this._n = 0;
        //root filepath for asset loading
        this._assetsRoot = "assets/monsterhead/";
        //navigation variables
        this._move = false;
        this.time = 0;
        this._shadowRange = 3;
        this._lightDirection = 120 * Math.PI / 180;
        this._lightElevation = 30 * Math.PI / 180;
        this.init();
    }
    /**
     * Global initialise function
     */
    Intermediate_MonsterHeadShading.prototype.init = function () {
        this.initEngine();
        this.initLights();
        this.initListeners();
        //kickoff asset loading
        this._n = 0;
        this._numTextures = this._textureStrings.length;
        this.load(this._textureStrings[this._n]);
    };
    /**
     * Initialise the engine
     */
    Intermediate_MonsterHeadShading.prototype.initEngine = function () {
        this._scene = new Scene();
        this._camera = new Camera();
        this._camera.projection.near = 20;
        this._camera.projection.far = 1000;
        this._view = new View(new DefaultRenderer(), this._scene, this._camera);
        //setup controller to be used on the camera
        this._cameraController = new HoverController(this._camera, null, 225, 10, 800);
        this._cameraController.yFactor = 1;
    };
    /**
     * Initialise the lights in a scene
     */
    Intermediate_MonsterHeadShading.prototype.initLights = function () {
        //var initialAzimuth:number = .6;
        //var initialArc:number = 2;
        var x = Math.sin(this._lightElevation) * Math.cos(this._lightDirection);
        var y = -Math.cos(this._lightElevation);
        var z = Math.sin(this._lightElevation) * Math.sin(this._lightDirection);
        // main light casting the shadows
        this._directionalLight = new DirectionalLight(x, y, z);
        this._directionalLight.color = 0xffeedd;
        this._directionalLight.ambient = 1;
        this._directionalLight.specular = .3;
        this._directionalLight.ambientColor = 0x101025;
        this._directionalLight.castsShadows = true;
        this._directionalLight.shadowMapper.lightOffset = 1000;
        this._scene.addChild(this._directionalLight);
        // blue point light coming from the right
        this._blueLight = new PointLight();
        this._blueLight.color = 0x4080ff;
        this._blueLight.x = 3000;
        this._blueLight.z = 700;
        this._blueLight.y = 20;
        this._scene.addChild(this._blueLight);
        // red light coming from the left
        this._redLight = new PointLight();
        this._redLight.color = 0x802010;
        this._redLight.x = -2000;
        this._redLight.z = 800;
        this._redLight.y = -400;
        this._scene.addChild(this._redLight);
        this._lightPicker = new StaticLightPicker([this._directionalLight, this._blueLight, this._redLight]);
    };
    /**
     * Initialise the listeners
     */
    Intermediate_MonsterHeadShading.prototype.initListeners = function () {
        var _this = this;
        window.onresize = function (event) { return _this.onResize(event); };
        document.onmousedown = function (event) { return _this.onMouseDown(event); };
        document.onmouseup = function (event) { return _this.onMouseUp(event); };
        document.onmousemove = function (event) { return _this.onMouseMove(event); };
        this.onResize();
        this.parseAWDDelegate = function (event) { return _this.parseAWD(event); };
        this.parseBitmapDelegate = function (event) { return _this.parseBitmap(event); };
        this.loadProgressDelegate = function (event) { return _this.loadProgress(event); };
        this.onBitmapCompleteDelegate = function (event) { return _this.onBitmapComplete(event); };
        this.onAssetCompleteDelegate = function (event) { return _this.onAssetComplete(event); };
        this.onResourceCompleteDelegate = function (event) { return _this.onResourceComplete(event); };
        this.timer = new RequestAnimationFrame(this.onEnterFrame, this);
        this.timer.start();
    };
    /**
     * Updates the direction of the directional lightsource
     */
    Intermediate_MonsterHeadShading.prototype.updateDirection = function () {
        this._directionalLight.direction = new Vector3D(Math.sin(this._lightElevation) * Math.cos(this._lightDirection), -Math.cos(this._lightElevation), Math.sin(this._lightElevation) * Math.sin(this._lightDirection));
    };
    Intermediate_MonsterHeadShading.prototype.updateRange = function () {
        this._softShadowMethod.range = this._shadowRange;
    };
    /**
     * Global binary file loader
     */
    Intermediate_MonsterHeadShading.prototype.load = function (url) {
        var loader = new URLLoader();
        switch (url.substring(url.length - 3)) {
            case "AWD":
            case "awd":
                loader.dataFormat = URLLoaderDataFormat.ARRAY_BUFFER;
                this._loadingText = "Loading Model";
                loader.addEventListener(AwayEvent.COMPLETE, this.parseAWDDelegate);
                break;
            case "png":
            case "jpg":
                loader.dataFormat = URLLoaderDataFormat.BLOB;
                this._currentTexture++;
                this._loadingText = "Loading Textures";
                loader.addEventListener(AwayEvent.COMPLETE, this.parseBitmapDelegate);
                break;
        }
        loader.addEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        loader.load(new URLRequest(this._assetsRoot + url));
    };
    /**
     * Display current load
     */
    Intermediate_MonsterHeadShading.prototype.loadProgress = function (event) {
        //TODO work out why the casting on ProgressEvent fails for bytesLoaded and bytesTotal properties
        var P = Math.floor(event["bytesLoaded"] / event["bytesTotal"] * 100);
        if (P != 100) {
            console.log(this._loadingText + '\n' + ((this._loadingText == "Loading Model") ? Math.floor((event["bytesLoaded"] / 1024) << 0) + 'kb | ' + Math.floor((event["bytesTotal"] / 1024) << 0) + 'kb' : this._currentTexture + ' | ' + this._numTextures));
        }
    };
    /**
     * Parses the Bitmap file
     */
    Intermediate_MonsterHeadShading.prototype.parseBitmap = function (event) {
        var urlLoader = event.target;
        var image = ParserUtils.blobToImage(urlLoader.data);
        image.onload = this.onBitmapCompleteDelegate;
        urlLoader.removeEventListener(AwayEvent.COMPLETE, this.parseBitmapDelegate);
        urlLoader.removeEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        urlLoader = null;
    };
    /**
     * Parses the AWD file
     */
    Intermediate_MonsterHeadShading.prototype.parseAWD = function (event) {
        console.log("Parsing Data");
        var urlLoader = event.target;
        //setup parser
        AssetLibrary.addEventListener(AssetEvent.ASSET_COMPLETE, this.onAssetCompleteDelegate);
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, this.onResourceCompleteDelegate);
        AssetLibrary.loadData(urlLoader.data, new AssetLoaderContext(false), null, new AWDParser());
        urlLoader.removeEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        urlLoader.removeEventListener(AwayEvent.COMPLETE, this.parseAWDDelegate);
        urlLoader = null;
    };
    /**
     * Listener for bitmap complete event on loader
     */
    Intermediate_MonsterHeadShading.prototype.onBitmapComplete = function (event) {
        var image = event.target;
        image.onload = null;
        //create bitmap texture in dictionary
        if (!this._textureDictionary[this._textureStrings[this._n]])
            this._textureDictionary[this._textureStrings[this._n]] = (this._n == 1) ? new SpecularBitmapTexture(Cast.bitmapData(image)) : new ImageTexture(image, true);
        this._n++;
        //switch to next teture set
        if (this._n < this._textureStrings.length) {
            this.load(this._textureStrings[this._n]);
        }
        else {
            this.load("MonsterHead.awd");
        }
    };
    /**
     * Navigation and render loop
     */
    Intermediate_MonsterHeadShading.prototype.onEnterFrame = function (dt) {
        this._view.render();
    };
    /**
     * Listener for asset complete event on loader
     */
    Intermediate_MonsterHeadShading.prototype.onAssetComplete = function (event) {
        if (event.asset.assetType == AssetType.MESH) {
            this._headModel = event.asset;
            this._headModel.geometry.scale(4);
            this._headModel.y = -20;
            this._scene.addChild(this._headModel);
        }
    };
    /**
     * Triggered once all resources are loaded
     */
    Intermediate_MonsterHeadShading.prototype.onResourceComplete = function (e) {
        var _this = this;
        AssetLibrary.removeEventListener(AssetEvent.ASSET_COMPLETE, this.onAssetCompleteDelegate);
        AssetLibrary.removeEventListener(LoaderEvent.RESOURCE_COMPLETE, this.onResourceCompleteDelegate);
        //setup custom multipass material
        this._headMaterial = new TriangleMethodMaterial(this._textureDictionary["monsterhead_diffuse.jpg"]);
        this._headMaterial.materialMode = TriangleMaterialMode.MULTI_PASS;
        this._headMaterial.mipmap = false;
        this._headMaterial.normalMap = this._textureDictionary["monsterhead_normals.jpg"];
        this._headMaterial.lightPicker = this._lightPicker;
        this._headMaterial.ambientColor = 0x303040;
        // create soft shadows with a lot of samples for best results. With the current method setup, any more samples would fail to compile
        this._softShadowMethod = new ShadowSoftMethod(this._directionalLight, 20);
        this._softShadowMethod.range = this._shadowRange; // the sample radius defines the softness of the shadows
        this._softShadowMethod.epsilon = .1;
        this._headMaterial.shadowMethod = this._softShadowMethod;
        // create specular reflections that are stronger from the sides
        this._fresnelMethod = new SpecularFresnelMethod(true);
        this._fresnelMethod.fresnelPower = 3;
        this._headMaterial.specularMethod = this._fresnelMethod;
        this._headMaterial.specularMap = this._textureDictionary["monsterhead_specular.jpg"];
        this._headMaterial.specular = 3;
        this._headMaterial.gloss = 10;
        //apply material to head model
        var len = this._headModel.subMeshes.length;
        for (var i = 0; i < len; i++)
            this._headModel.subMeshes[i].material = this._headMaterial;
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, function (event) { return _this.onExtraResourceComplete(event); });
        //diffuse gradient texture
        AssetLibrary.load(new URLRequest("assets/diffuseGradient.jpg"));
    };
    /**
     * Triggered once extra resources are loaded
     */
    Intermediate_MonsterHeadShading.prototype.onExtraResourceComplete = function (event) {
        switch (event.url) {
            case "assets/diffuseGradient.jpg":
                break;
        }
    };
    /**
     * Mouse down listener for navigation
     */
    Intermediate_MonsterHeadShading.prototype.onMouseDown = function (event) {
        this._lastPanAngle = this._cameraController.panAngle;
        this._lastTiltAngle = this._cameraController.tiltAngle;
        this._lastMouseX = event.clientX;
        this._lastMouseY = event.clientY;
        this._move = true;
    };
    /**
     * Mouse up listener for navigation
     */
    Intermediate_MonsterHeadShading.prototype.onMouseUp = function (event) {
        this._move = false;
    };
    /**
     * Mouse move listener for mouseLock
     */
    Intermediate_MonsterHeadShading.prototype.onMouseMove = function (event) {
        if (this._move) {
            this._cameraController.panAngle = 0.3 * (event.clientX - this._lastMouseX) + this._lastPanAngle;
            this._cameraController.tiltAngle = 0.3 * (event.clientY - this._lastMouseY) + this._lastTiltAngle;
        }
    };
    /**
     * window listener for resize events
     */
    Intermediate_MonsterHeadShading.prototype.onResize = function (event) {
        if (event === void 0) { event = null; }
        this._view.y = 0;
        this._view.x = 0;
        this._view.width = window.innerWidth;
        this._view.height = window.innerHeight;
    };
    return Intermediate_MonsterHeadShading;
})();
window.onload = function () {
    new Intermediate_MonsterHeadShading();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnRzIl0sIm5hbWVzIjpbIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmciLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLmNvbnN0cnVjdG9yIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0IiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0RW5naW5lIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0TGlnaHRzIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0TGlzdGVuZXJzIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy51cGRhdGVEaXJlY3Rpb24iLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnVwZGF0ZVJhbmdlIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5sb2FkIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5sb2FkUHJvZ3Jlc3MiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnBhcnNlQml0bWFwIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5wYXJzZUFXRCIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25CaXRtYXBDb21wbGV0ZSIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25FbnRlckZyYW1lIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vbkFzc2V0Q29tcGxldGUiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uUmVzb3VyY2VDb21wbGV0ZSIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25FeHRyYVJlc291cmNlQ29tcGxldGUiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uTW91c2VEb3duIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vbk1vdXNlVXAiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uTW91c2VNb3ZlIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vblJlc2l6ZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXVDRTtBQUVGLElBQU8sVUFBVSxXQUFlLG1DQUFtQyxDQUFDLENBQUM7QUFDckUsSUFBTyxTQUFTLFdBQWUsOEJBQThCLENBQUMsQ0FBQztBQUMvRCxJQUFPLFdBQVcsV0FBZSxvQ0FBb0MsQ0FBQyxDQUFDO0FBQ3ZFLElBQU8sYUFBYSxXQUFjLHNDQUFzQyxDQUFDLENBQUM7QUFDMUUsSUFBTyxRQUFRLFdBQWdCLCtCQUErQixDQUFDLENBQUM7QUFDaEUsSUFBTyxZQUFZLFdBQWUsc0NBQXNDLENBQUMsQ0FBQztBQUMxRSxJQUFPLGtCQUFrQixXQUFhLDRDQUE0QyxDQUFDLENBQUM7QUFDcEYsSUFBTyxTQUFTLFdBQWUsbUNBQW1DLENBQUMsQ0FBQztBQUNwRSxJQUFPLFNBQVMsV0FBZSwrQkFBK0IsQ0FBQyxDQUFDO0FBQ2hFLElBQU8sbUJBQW1CLFdBQWEseUNBQXlDLENBQUMsQ0FBQztBQUNsRixJQUFPLFVBQVUsV0FBZSxnQ0FBZ0MsQ0FBQyxDQUFDO0FBQ2xFLElBQU8sV0FBVyxXQUFlLHFDQUFxQyxDQUFDLENBQUM7QUFDeEUsSUFBTyxZQUFZLFdBQWUsdUNBQXVDLENBQUMsQ0FBQztBQUMzRSxJQUFPLHFCQUFxQixXQUFZLGdEQUFnRCxDQUFDLENBQUM7QUFDMUYsSUFBTyxxQkFBcUIsV0FBWSw2Q0FBNkMsQ0FBQyxDQUFDO0FBRXZGLElBQU8sS0FBSyxXQUFnQixxQ0FBcUMsQ0FBQyxDQUFDO0FBQ25FLElBQU8sSUFBSSxXQUFpQixvQ0FBb0MsQ0FBQyxDQUFDO0FBQ2xFLElBQU8sZUFBZSxXQUFjLGdEQUFnRCxDQUFDLENBQUM7QUFD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Q0FBQztBQUN2QyxDQUFDLENBQUEiLCJmaWxlIjoiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXNDb250ZW50IjpbIu+7vy8qXG5cbk1vbnN0ZXIgSGVhZCBleGFtcGxlIGluIEF3YXkzZFxuXG5EZW1vbnN0cmF0ZXM6XG5cbkhvdyB0byB1c2UgdGhlIEFzc2V0TGlicmFyeSB0byBsb2FkIGFuIGludGVybmFsIEFXRCBtb2RlbC5cbkhvdyB0byBzZXQgY3VzdG9tIG1hdGVyaWFsIG1ldGhvZHMgb24gYSBtb2RlbC5cbkhvdyB0byBzZXR1cCBzb2Z0IHNoYWRvd3MgYW5kIG11bHRpcGxlIGxpZ2h0c291cmNlcyB3aXRoIGEgbXVsdGlwYXNzIHRleHR1cmVcbkhvdyB0byB1c2UgYSBkaWZmdXNlIGdyYWRpZW50IG1ldGhvZCBhcyBhIGNoZWFwIHdheSB0byBzaW11bGF0ZSBzdWItc3VyZmFjZSBzY2F0dGVyaW5nXG5cbkNvZGUgYnkgUm9iIEJhdGVtYW4gJiBEYXZpZCBMZW5hZXJ0c1xucm9iQGluZmluaXRldHVydGxlcy5jby51a1xuaHR0cDovL3d3dy5pbmZpbml0ZXR1cnRsZXMuY28udWtcbmRhdmlkLmxlbmFlcnRzQGdtYWlsLmNvbVxuaHR0cDovL3d3dy5kZXJzY2htYWxlLmNvbVxuXG5UaGlzIGNvZGUgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG5cbkNvcHlyaWdodCAoYykgVGhlIEF3YXkgRm91bmRhdGlvbiBodHRwOi8vd3d3LnRoZWF3YXlmb3VuZGF0aW9uLm9yZ1xuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSDigJxTb2Z0d2FyZeKAnSksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQg4oCcQVMgSVPigJ0sIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5pbXBvcnQgQXNzZXRFdmVudFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0Fzc2V0RXZlbnRcIik7XG5pbXBvcnQgQXdheUV2ZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvRXZlbnRcIik7XG5pbXBvcnQgTG9hZGVyRXZlbnRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2V2ZW50cy9Mb2FkZXJFdmVudFwiKTtcbmltcG9ydCBQcm9ncmVzc0V2ZW50XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL1Byb2dyZXNzRXZlbnRcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9WZWN0b3IzRFwiKTtcbmltcG9ydCBBc3NldExpYnJhcnlcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2xpYnJhcnkvQXNzZXRMaWJyYXJ5XCIpO1xuaW1wb3J0IEFzc2V0TG9hZGVyQ29udGV4dFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9saWJyYXJ5L0Fzc2V0TG9hZGVyQ29udGV4dFwiKTtcbmltcG9ydCBBc3NldFR5cGVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2xpYnJhcnkvQXNzZXRUeXBlXCIpO1xuaW1wb3J0IFVSTExvYWRlclx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbmV0L1VSTExvYWRlclwiKTtcbmltcG9ydCBVUkxMb2FkZXJEYXRhRm9ybWF0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL25ldC9VUkxMb2FkZXJEYXRhRm9ybWF0XCIpO1xuaW1wb3J0IFVSTFJlcXVlc3RcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL25ldC9VUkxSZXF1ZXN0XCIpO1xuaW1wb3J0IFBhcnNlclV0aWxzXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9wYXJzZXJzL1BhcnNlclV0aWxzXCIpO1xuaW1wb3J0IEltYWdlVGV4dHVyZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdGV4dHVyZXMvSW1hZ2VUZXh0dXJlXCIpO1xuaW1wb3J0IFNwZWN1bGFyQml0bWFwVGV4dHVyZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdGV4dHVyZXMvU3BlY3VsYXJCaXRtYXBUZXh0dXJlXCIpO1xuaW1wb3J0IFJlcXVlc3RBbmltYXRpb25GcmFtZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIpO1xuXG5pbXBvcnQgU2NlbmVcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udGFpbmVycy9TY2VuZVwiKTtcbmltcG9ydCBWaWV3XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udGFpbmVycy9WaWV3XCIpO1xuaW1wb3J0IEhvdmVyQ29udHJvbGxlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRyb2xsZXJzL0hvdmVyQ29udHJvbGxlclwiKTtcbmltcG9ydCBDYW1lcmFcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvQ2FtZXJhXCIpO1xuaW1wb3J0IERpcmVjdGlvbmFsTGlnaHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9EaXJlY3Rpb25hbExpZ2h0XCIpO1xuaW1wb3J0IFBvaW50TGlnaHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL1BvaW50TGlnaHRcIik7XG5pbXBvcnQgTWVzaFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL01lc2hcIik7XG5pbXBvcnQgU3RhdGljTGlnaHRQaWNrZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvbWF0ZXJpYWxzL2xpZ2h0cGlja2Vycy9TdGF0aWNMaWdodFBpY2tlclwiKTtcbmltcG9ydCBEaXJlY3Rpb25hbFNoYWRvd01hcHBlclx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvbWF0ZXJpYWxzL3NoYWRvd21hcHBlcnMvRGlyZWN0aW9uYWxTaGFkb3dNYXBwZXJcIik7XG5pbXBvcnQgQ2FzdFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3V0aWxzL0Nhc3RcIik7XG5cbmltcG9ydCBUcmlhbmdsZU1ldGhvZE1hdGVyaWFsXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9tYXRlcmlhbHMvVHJpYW5nbGVNZXRob2RNYXRlcmlhbFwiKTtcbmltcG9ydCBUcmlhbmdsZU1hdGVyaWFsTW9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9tYXRlcmlhbHMvVHJpYW5nbGVNYXRlcmlhbE1vZGVcIik7XG5pbXBvcnQgRGlmZnVzZUdyYWRpZW50TWV0aG9kXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9tYXRlcmlhbHMvbWV0aG9kcy9EaWZmdXNlR3JhZGllbnRNZXRob2RcIik7XG5pbXBvcnQgU3BlY3VsYXJGcmVzbmVsTWV0aG9kXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9tYXRlcmlhbHMvbWV0aG9kcy9TcGVjdWxhckZyZXNuZWxNZXRob2RcIik7XG5pbXBvcnQgU2hhZG93U29mdE1ldGhvZFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL21hdGVyaWFscy9tZXRob2RzL1NoYWRvd1NvZnRNZXRob2RcIik7XG5pbXBvcnQgQVdEUGFyc2VyXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9wYXJzZXJzL0FXRFBhcnNlclwiKTtcbmltcG9ydCBEZWZhdWx0UmVuZGVyZXJcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9yZW5kZXIvRGVmYXVsdFJlbmRlcmVyXCIpO1xuXG5jbGFzcyBJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nXG57XG5cdC8vdGV4dHVyZXNcblx0cHJpdmF0ZSBfdGV4dHVyZVN0cmluZ3M6QXJyYXk8c3RyaW5nPiA9IEFycmF5PHN0cmluZz4oXCJtb25zdGVyaGVhZF9kaWZmdXNlLmpwZ1wiLCBcIm1vbnN0ZXJoZWFkX3NwZWN1bGFyLmpwZ1wiLCBcIm1vbnN0ZXJoZWFkX25vcm1hbHMuanBnXCIpO1xuXHRwcml2YXRlIF90ZXh0dXJlRGljdGlvbmFyeTpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG5cblx0Ly9lbmdpbmUgdmFyaWFibGVzXG5cdHByaXZhdGUgX3NjZW5lOlNjZW5lO1xuXHRwcml2YXRlIF9jYW1lcmE6Q2FtZXJhO1xuXHRwcml2YXRlIF92aWV3OlZpZXc7XG5cdHByaXZhdGUgX2NhbWVyYUNvbnRyb2xsZXI6SG92ZXJDb250cm9sbGVyO1xuXG5cdC8vbWF0ZXJpYWwgb2JqZWN0c1xuXHRwcml2YXRlIF9oZWFkTWF0ZXJpYWw6VHJpYW5nbGVNZXRob2RNYXRlcmlhbDtcblx0cHJpdmF0ZSBfc29mdFNoYWRvd01ldGhvZDpTaGFkb3dTb2Z0TWV0aG9kO1xuXHRwcml2YXRlIF9mcmVzbmVsTWV0aG9kOlNwZWN1bGFyRnJlc25lbE1ldGhvZDtcblx0Ly9wcml2YXRlIF9kaWZmdXNlTWV0aG9kOkJhc2ljRGlmZnVzZU1ldGhvZDtcblx0Ly9wcml2YXRlIF9zcGVjdWxhck1ldGhvZDpCYXNpY1NwZWN1bGFyTWV0aG9kO1xuXG5cdC8vc2NlbmUgb2JqZWN0c1xuXHRwcml2YXRlIF9ibHVlTGlnaHQ6UG9pbnRMaWdodDtcblx0cHJpdmF0ZSBfcmVkTGlnaHQ6UG9pbnRMaWdodDtcblx0cHJpdmF0ZSBfZGlyZWN0aW9uYWxMaWdodDpEaXJlY3Rpb25hbExpZ2h0O1xuXHRwcml2YXRlIF9saWdodFBpY2tlcjpTdGF0aWNMaWdodFBpY2tlcjtcblx0cHJpdmF0ZSBfaGVhZE1vZGVsOk1lc2g7XG5cdHByaXZhdGUgX2FkdmFuY2VkTWV0aG9kOkJvb2xlYW4gPSB0cnVlO1xuXG5cdC8vbG9hZGluZyB2YXJpYWJsZXNcblx0cHJpdmF0ZSBfbnVtVGV4dHVyZXM6bnVtYmVyIC8qdWludCovID0gMDtcblx0cHJpdmF0ZSBfY3VycmVudFRleHR1cmU6bnVtYmVyIC8qdWludCovID0gMDtcblx0cHJpdmF0ZSBfbjpudW1iZXIgLyp1aW50Ki8gPSAwO1xuXHRwcml2YXRlIF9sb2FkaW5nVGV4dDpzdHJpbmc7XG5cblx0Ly9yb290IGZpbGVwYXRoIGZvciBhc3NldCBsb2FkaW5nXG5cdHByaXZhdGUgX2Fzc2V0c1Jvb3Q6c3RyaW5nID0gXCJhc3NldHMvbW9uc3RlcmhlYWQvXCI7XG5cblx0Ly9uYXZpZ2F0aW9uIHZhcmlhYmxlc1xuXHRwcml2YXRlIF9tb3ZlOkJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBfbGFzdFBhbkFuZ2xlOm51bWJlcjtcblx0cHJpdmF0ZSBfbGFzdFRpbHRBbmdsZTpudW1iZXI7XG5cdHByaXZhdGUgX2xhc3RNb3VzZVg6bnVtYmVyO1xuXHRwcml2YXRlIF9sYXN0TW91c2VZOm51bWJlcjtcblx0cHJpdmF0ZSB0aW1lcjpSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cdHByaXZhdGUgdGltZTpudW1iZXIgPSAwO1xuXG5cdHByaXZhdGUgcGFyc2VBV0REZWxlZ2F0ZTooZXZlbnQ6QXdheUV2ZW50KSA9PiB2b2lkO1xuXHRwcml2YXRlIHBhcnNlQml0bWFwRGVsZWdhdGU6KGV2ZW50OkF3YXlFdmVudCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBsb2FkUHJvZ3Jlc3NEZWxlZ2F0ZTooZXZlbnQ6UHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBvbkJpdG1hcENvbXBsZXRlRGVsZWdhdGU6KGV2ZW50OkV2ZW50KSA9PiB2b2lkO1xuXHRwcml2YXRlIG9uQXNzZXRDb21wbGV0ZURlbGVnYXRlOihldmVudDpBc3NldEV2ZW50KSA9PiB2b2lkO1xuXHRwcml2YXRlIG9uUmVzb3VyY2VDb21wbGV0ZURlbGVnYXRlOihldmVudDpMb2FkZXJFdmVudCkgPT4gdm9pZDtcblxuXHRwcml2YXRlIF9zaGFkb3dSYW5nZTpudW1iZXIgPSAzO1xuXHRwcml2YXRlIF9saWdodERpcmVjdGlvbjpudW1iZXIgPSAxMjAqTWF0aC5QSS8xODA7XG5cdHByaXZhdGUgX2xpZ2h0RWxldmF0aW9uOm51bWJlciA9IDMwKk1hdGguUEkvMTgwO1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RvclxuXHQgKi9cblx0cHVibGljIGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdsb2JhbCBpbml0aWFsaXNlIGZ1bmN0aW9uXG5cdCAqL1xuXHRwcml2YXRlIGluaXQoKVxuXHR7XG5cdFx0dGhpcy5pbml0RW5naW5lKCk7XG5cdFx0dGhpcy5pbml0TGlnaHRzKCk7XG5cdFx0dGhpcy5pbml0TGlzdGVuZXJzKCk7XG5cblx0XHQvL2tpY2tvZmYgYXNzZXQgbG9hZGluZ1xuXHRcdHRoaXMuX24gPSAwO1xuXHRcdHRoaXMuX251bVRleHR1cmVzID0gdGhpcy5fdGV4dHVyZVN0cmluZ3MubGVuZ3RoO1xuXHRcdHRoaXMubG9hZCh0aGlzLl90ZXh0dXJlU3RyaW5nc1t0aGlzLl9uXSk7XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGlzZSB0aGUgZW5naW5lXG5cdCAqL1xuXHRwcml2YXRlIGluaXRFbmdpbmUoKVxuXHR7XG5cdFx0dGhpcy5fc2NlbmUgPSBuZXcgU2NlbmUoKTtcblxuXHRcdHRoaXMuX2NhbWVyYSA9IG5ldyBDYW1lcmEoKTtcblx0XHR0aGlzLl9jYW1lcmEucHJvamVjdGlvbi5uZWFyID0gMjA7XG5cdFx0dGhpcy5fY2FtZXJhLnByb2plY3Rpb24uZmFyID0gMTAwMDtcblxuXHRcdHRoaXMuX3ZpZXcgPSBuZXcgVmlldyhuZXcgRGVmYXVsdFJlbmRlcmVyKCksIHRoaXMuX3NjZW5lLCB0aGlzLl9jYW1lcmEpO1xuXG5cdFx0Ly9zZXR1cCBjb250cm9sbGVyIHRvIGJlIHVzZWQgb24gdGhlIGNhbWVyYVxuXHRcdHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIgPSBuZXcgSG92ZXJDb250cm9sbGVyKHRoaXMuX2NhbWVyYSwgbnVsbCwgMjI1LCAxMCwgODAwKTtcblx0XHR0aGlzLl9jYW1lcmFDb250cm9sbGVyLnlGYWN0b3IgPSAxO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpc2UgdGhlIGxpZ2h0cyBpbiBhIHNjZW5lXG5cdCAqL1xuXHRwcml2YXRlIGluaXRMaWdodHMoKVxuXHR7XG5cdFx0Ly92YXIgaW5pdGlhbEF6aW11dGg6bnVtYmVyID0gLjY7XG5cdFx0Ly92YXIgaW5pdGlhbEFyYzpudW1iZXIgPSAyO1xuXHRcdHZhciB4Om51bWJlciA9IE1hdGguc2luKHRoaXMuX2xpZ2h0RWxldmF0aW9uKSpNYXRoLmNvcyh0aGlzLl9saWdodERpcmVjdGlvbik7XG5cdFx0dmFyIHk6bnVtYmVyID0gLU1hdGguY29zKHRoaXMuX2xpZ2h0RWxldmF0aW9uKTtcblx0XHR2YXIgejpudW1iZXIgPSBNYXRoLnNpbih0aGlzLl9saWdodEVsZXZhdGlvbikqTWF0aC5zaW4odGhpcy5fbGlnaHREaXJlY3Rpb24pO1xuXG5cdFx0Ly8gbWFpbiBsaWdodCBjYXN0aW5nIHRoZSBzaGFkb3dzXG5cdFx0dGhpcy5fZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KHgsIHksIHopO1xuXHRcdHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQuY29sb3IgPSAweGZmZWVkZDtcblx0XHR0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LmFtYmllbnQgPSAxO1xuXHRcdHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQuc3BlY3VsYXIgPSAuMztcblx0XHR0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LmFtYmllbnRDb2xvciA9IDB4MTAxMDI1O1xuXHRcdHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQuY2FzdHNTaGFkb3dzID0gdHJ1ZTtcblx0XHQoPERpcmVjdGlvbmFsU2hhZG93TWFwcGVyPiB0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LnNoYWRvd01hcHBlcikubGlnaHRPZmZzZXQgPSAxMDAwO1xuXHRcdHRoaXMuX3NjZW5lLmFkZENoaWxkKHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQpO1xuXG5cdFx0Ly8gYmx1ZSBwb2ludCBsaWdodCBjb21pbmcgZnJvbSB0aGUgcmlnaHRcblx0XHR0aGlzLl9ibHVlTGlnaHQgPSBuZXcgUG9pbnRMaWdodCgpO1xuXHRcdHRoaXMuX2JsdWVMaWdodC5jb2xvciA9IDB4NDA4MGZmO1xuXHRcdHRoaXMuX2JsdWVMaWdodC54ID0gMzAwMDtcblx0XHR0aGlzLl9ibHVlTGlnaHQueiA9IDcwMDtcblx0XHR0aGlzLl9ibHVlTGlnaHQueSA9IDIwO1xuXHRcdHRoaXMuX3NjZW5lLmFkZENoaWxkKHRoaXMuX2JsdWVMaWdodCk7XG5cblx0XHQvLyByZWQgbGlnaHQgY29taW5nIGZyb20gdGhlIGxlZnRcblx0XHR0aGlzLl9yZWRMaWdodCA9IG5ldyBQb2ludExpZ2h0KCk7XG5cdFx0dGhpcy5fcmVkTGlnaHQuY29sb3IgPSAweDgwMjAxMDtcblx0XHR0aGlzLl9yZWRMaWdodC54ID0gLTIwMDA7XG5cdFx0dGhpcy5fcmVkTGlnaHQueiA9IDgwMDtcblx0XHR0aGlzLl9yZWRMaWdodC55ID0gLTQwMDtcblx0XHR0aGlzLl9zY2VuZS5hZGRDaGlsZCh0aGlzLl9yZWRMaWdodCk7XG5cblx0XHR0aGlzLl9saWdodFBpY2tlciA9IG5ldyBTdGF0aWNMaWdodFBpY2tlcihbdGhpcy5fZGlyZWN0aW9uYWxMaWdodCwgdGhpcy5fYmx1ZUxpZ2h0LCB0aGlzLl9yZWRMaWdodF0pO1xuXG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGlzZSB0aGUgbGlzdGVuZXJzXG5cdCAqL1xuXHRwcml2YXRlIGluaXRMaXN0ZW5lcnMoKVxuXHR7XG5cdFx0d2luZG93Lm9ucmVzaXplICA9IChldmVudDpVSUV2ZW50KSA9PiB0aGlzLm9uUmVzaXplKGV2ZW50KTtcblxuXHRcdGRvY3VtZW50Lm9ubW91c2Vkb3duID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHRoaXMub25Nb3VzZURvd24oZXZlbnQpO1xuXHRcdGRvY3VtZW50Lm9ubW91c2V1cCA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VVcChldmVudCk7XG5cdFx0ZG9jdW1lbnQub25tb3VzZW1vdmUgPSAoZXZlbnQ6TW91c2VFdmVudCkgPT4gdGhpcy5vbk1vdXNlTW92ZShldmVudCk7XG5cblx0XHR0aGlzLm9uUmVzaXplKCk7XG5cblx0XHR0aGlzLnBhcnNlQVdERGVsZWdhdGUgPSAoZXZlbnQ6QXdheUV2ZW50KSA9PiB0aGlzLnBhcnNlQVdEKGV2ZW50KTtcblx0XHR0aGlzLnBhcnNlQml0bWFwRGVsZWdhdGUgPSAoZXZlbnQ6QXdheUV2ZW50KSA9PiB0aGlzLnBhcnNlQml0bWFwKGV2ZW50KTtcblx0XHR0aGlzLmxvYWRQcm9ncmVzc0RlbGVnYXRlID0gKGV2ZW50OlByb2dyZXNzRXZlbnQpID0+IHRoaXMubG9hZFByb2dyZXNzKGV2ZW50KTtcblx0XHR0aGlzLm9uQml0bWFwQ29tcGxldGVEZWxlZ2F0ZSA9IChldmVudDpFdmVudCkgPT4gdGhpcy5vbkJpdG1hcENvbXBsZXRlKGV2ZW50KTtcblx0XHR0aGlzLm9uQXNzZXRDb21wbGV0ZURlbGVnYXRlID0gKGV2ZW50OkFzc2V0RXZlbnQpID0+IHRoaXMub25Bc3NldENvbXBsZXRlKGV2ZW50KTtcblx0XHR0aGlzLm9uUmVzb3VyY2VDb21wbGV0ZURlbGVnYXRlID0gKGV2ZW50OkxvYWRlckV2ZW50KSA9PiB0aGlzLm9uUmVzb3VyY2VDb21wbGV0ZShldmVudCk7XG5cblx0XHR0aGlzLnRpbWVyID0gbmV3IFJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm9uRW50ZXJGcmFtZSwgdGhpcyk7XG5cdFx0dGhpcy50aW1lci5zdGFydCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZGlyZWN0aW9uYWwgbGlnaHRzb3VyY2Vcblx0ICovXG5cdHByaXZhdGUgdXBkYXRlRGlyZWN0aW9uKClcblx0e1xuXHRcdHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQuZGlyZWN0aW9uID0gbmV3IFZlY3RvcjNEKFxuXHRcdFx0TWF0aC5zaW4odGhpcy5fbGlnaHRFbGV2YXRpb24pKk1hdGguY29zKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxcblx0XHRcdC1NYXRoLmNvcyh0aGlzLl9saWdodEVsZXZhdGlvbiksXG5cdFx0XHRNYXRoLnNpbih0aGlzLl9saWdodEVsZXZhdGlvbikqTWF0aC5zaW4odGhpcy5fbGlnaHREaXJlY3Rpb24pXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgdXBkYXRlUmFuZ2UoKVxuXHR7XG5cdFx0dGhpcy5fc29mdFNoYWRvd01ldGhvZC5yYW5nZSA9IHRoaXMuX3NoYWRvd1JhbmdlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdsb2JhbCBiaW5hcnkgZmlsZSBsb2FkZXJcblx0ICovXG5cdHByaXZhdGUgbG9hZCh1cmw6c3RyaW5nKVxuXHR7XG5cdFx0dmFyIGxvYWRlcjpVUkxMb2FkZXIgPSBuZXcgVVJMTG9hZGVyKCk7XG5cdFx0c3dpdGNoICh1cmwuc3Vic3RyaW5nKHVybC5sZW5ndGggLSAzKSkge1xuXHRcdFx0Y2FzZSBcIkFXRFwiOlxuXHRcdFx0Y2FzZSBcImF3ZFwiOlxuXHRcdFx0XHRsb2FkZXIuZGF0YUZvcm1hdCA9IFVSTExvYWRlckRhdGFGb3JtYXQuQVJSQVlfQlVGRkVSO1xuXHRcdFx0XHR0aGlzLl9sb2FkaW5nVGV4dCA9IFwiTG9hZGluZyBNb2RlbFwiO1xuXHRcdFx0XHRsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihBd2F5RXZlbnQuQ09NUExFVEUsIHRoaXMucGFyc2VBV0REZWxlZ2F0ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInBuZ1wiOlxuXHRcdFx0Y2FzZSBcImpwZ1wiOlxuXHRcdFx0XHRsb2FkZXIuZGF0YUZvcm1hdCA9IFVSTExvYWRlckRhdGFGb3JtYXQuQkxPQjtcblx0XHRcdFx0dGhpcy5fY3VycmVudFRleHR1cmUrKztcblx0XHRcdFx0dGhpcy5fbG9hZGluZ1RleHQgPSBcIkxvYWRpbmcgVGV4dHVyZXNcIjtcblx0XHRcdFx0bG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoQXdheUV2ZW50LkNPTVBMRVRFLCB0aGlzLnBhcnNlQml0bWFwRGVsZWdhdGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihQcm9ncmVzc0V2ZW50LlBST0dSRVNTLCB0aGlzLmxvYWRQcm9ncmVzc0RlbGVnYXRlKTtcblx0XHRsb2FkZXIubG9hZChuZXcgVVJMUmVxdWVzdCh0aGlzLl9hc3NldHNSb290K3VybCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERpc3BsYXkgY3VycmVudCBsb2FkXG5cdCAqL1xuXHRwcml2YXRlIGxvYWRQcm9ncmVzcyhldmVudDpQcm9ncmVzc0V2ZW50KVxuXHR7XG5cdFx0Ly9UT0RPIHdvcmsgb3V0IHdoeSB0aGUgY2FzdGluZyBvbiBQcm9ncmVzc0V2ZW50IGZhaWxzIGZvciBieXRlc0xvYWRlZCBhbmQgYnl0ZXNUb3RhbCBwcm9wZXJ0aWVzXG5cdFx0dmFyIFA6bnVtYmVyID0gTWF0aC5mbG9vcihldmVudFtcImJ5dGVzTG9hZGVkXCJdIC8gZXZlbnRbXCJieXRlc1RvdGFsXCJdICogMTAwKTtcblx0XHRpZiAoUCAhPSAxMDApIHtcblx0XHRcdGNvbnNvbGUubG9nKHRoaXMuX2xvYWRpbmdUZXh0ICsgJ1xcbicgKyAoKHRoaXMuX2xvYWRpbmdUZXh0ID09IFwiTG9hZGluZyBNb2RlbFwiKT8gTWF0aC5mbG9vcigoZXZlbnRbXCJieXRlc0xvYWRlZFwiXSAvIDEwMjQpIDw8IDApICsgJ2tiIHwgJyArIE1hdGguZmxvb3IoKGV2ZW50W1wiYnl0ZXNUb3RhbFwiXSAvIDEwMjQpIDw8IDApICsgJ2tiJyA6IHRoaXMuX2N1cnJlbnRUZXh0dXJlICsgJyB8ICcgKyB0aGlzLl9udW1UZXh0dXJlcykpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBQYXJzZXMgdGhlIEJpdG1hcCBmaWxlXG5cdCAqL1xuXHRwcml2YXRlIHBhcnNlQml0bWFwKGV2ZW50OkF3YXlFdmVudClcblx0e1xuXHRcdHZhciB1cmxMb2FkZXI6VVJMTG9hZGVyID0gPFVSTExvYWRlcj4gZXZlbnQudGFyZ2V0O1xuXHRcdHZhciBpbWFnZTpIVE1MSW1hZ2VFbGVtZW50ID0gUGFyc2VyVXRpbHMuYmxvYlRvSW1hZ2UodXJsTG9hZGVyLmRhdGEpO1xuXHRcdGltYWdlLm9ubG9hZCA9IHRoaXMub25CaXRtYXBDb21wbGV0ZURlbGVnYXRlO1xuXHRcdHVybExvYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKEF3YXlFdmVudC5DT01QTEVURSwgdGhpcy5wYXJzZUJpdG1hcERlbGVnYXRlKTtcblx0XHR1cmxMb2FkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihQcm9ncmVzc0V2ZW50LlBST0dSRVNTLCB0aGlzLmxvYWRQcm9ncmVzc0RlbGVnYXRlKTtcblx0XHR1cmxMb2FkZXIgPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFBhcnNlcyB0aGUgQVdEIGZpbGVcblx0ICovXG5cdHByaXZhdGUgcGFyc2VBV0QoZXZlbnQ6QXdheUV2ZW50KVxuXHR7XG5cdFx0Y29uc29sZS5sb2coXCJQYXJzaW5nIERhdGFcIik7XG5cdFx0dmFyIHVybExvYWRlcjpVUkxMb2FkZXIgPSA8VVJMTG9hZGVyPiBldmVudC50YXJnZXQ7XG5cblx0XHQvL3NldHVwIHBhcnNlclxuXHRcdEFzc2V0TGlicmFyeS5hZGRFdmVudExpc3RlbmVyKEFzc2V0RXZlbnQuQVNTRVRfQ09NUExFVEUsIHRoaXMub25Bc3NldENvbXBsZXRlRGVsZWdhdGUpO1xuXHRcdEFzc2V0TGlicmFyeS5hZGRFdmVudExpc3RlbmVyKExvYWRlckV2ZW50LlJFU09VUkNFX0NPTVBMRVRFLCB0aGlzLm9uUmVzb3VyY2VDb21wbGV0ZURlbGVnYXRlKTtcblx0XHRBc3NldExpYnJhcnkubG9hZERhdGEodXJsTG9hZGVyLmRhdGEsIG5ldyBBc3NldExvYWRlckNvbnRleHQoZmFsc2UpLCBudWxsLCBuZXcgQVdEUGFyc2VyKCkpO1xuXG5cdFx0dXJsTG9hZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoUHJvZ3Jlc3NFdmVudC5QUk9HUkVTUywgdGhpcy5sb2FkUHJvZ3Jlc3NEZWxlZ2F0ZSk7XG5cdFx0dXJsTG9hZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoQXdheUV2ZW50LkNPTVBMRVRFLCB0aGlzLnBhcnNlQVdERGVsZWdhdGUpO1xuXHRcdHVybExvYWRlciA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogTGlzdGVuZXIgZm9yIGJpdG1hcCBjb21wbGV0ZSBldmVudCBvbiBsb2FkZXJcblx0ICovXG5cdHByaXZhdGUgb25CaXRtYXBDb21wbGV0ZShldmVudDpFdmVudClcblx0e1xuXHRcdHZhciBpbWFnZTpIVE1MSW1hZ2VFbGVtZW50ID0gPEhUTUxJbWFnZUVsZW1lbnQ+IGV2ZW50LnRhcmdldDtcblx0XHRpbWFnZS5vbmxvYWQgPSBudWxsO1xuXG5cdFx0Ly9jcmVhdGUgYml0bWFwIHRleHR1cmUgaW4gZGljdGlvbmFyeVxuXHRcdGlmICghdGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbdGhpcy5fdGV4dHVyZVN0cmluZ3NbdGhpcy5fbl1dKVxuXHRcdFx0dGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbdGhpcy5fdGV4dHVyZVN0cmluZ3NbdGhpcy5fbl1dID0gKHRoaXMuX24gPT0gMSk/IG5ldyBTcGVjdWxhckJpdG1hcFRleHR1cmUoQ2FzdC5iaXRtYXBEYXRhKGltYWdlKSkgOiBuZXcgSW1hZ2VUZXh0dXJlKGltYWdlLCB0cnVlKTtcblxuXHRcdHRoaXMuX24rKztcblxuXHRcdC8vc3dpdGNoIHRvIG5leHQgdGV0dXJlIHNldFxuXHRcdGlmICh0aGlzLl9uIDwgdGhpcy5fdGV4dHVyZVN0cmluZ3MubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLmxvYWQodGhpcy5fdGV4dHVyZVN0cmluZ3NbdGhpcy5fbl0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmxvYWQoXCJNb25zdGVySGVhZC5hd2RcIik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE5hdmlnYXRpb24gYW5kIHJlbmRlciBsb29wXG5cdCAqL1xuXHRwcml2YXRlIG9uRW50ZXJGcmFtZShkdDpudW1iZXIpXG5cdHtcblx0XHR0aGlzLl92aWV3LnJlbmRlcigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpc3RlbmVyIGZvciBhc3NldCBjb21wbGV0ZSBldmVudCBvbiBsb2FkZXJcblx0ICovXG5cdHByaXZhdGUgb25Bc3NldENvbXBsZXRlKGV2ZW50OkFzc2V0RXZlbnQpXG5cdHtcblx0XHRpZiAoZXZlbnQuYXNzZXQuYXNzZXRUeXBlID09IEFzc2V0VHlwZS5NRVNIKSB7XG5cdFx0XHR0aGlzLl9oZWFkTW9kZWwgPSA8TWVzaD4gZXZlbnQuYXNzZXQ7XG5cdFx0XHR0aGlzLl9oZWFkTW9kZWwuZ2VvbWV0cnkuc2NhbGUoNCk7XG5cdFx0XHR0aGlzLl9oZWFkTW9kZWwueSA9IC0yMDtcblx0XHRcdHRoaXMuX3NjZW5lLmFkZENoaWxkKHRoaXMuX2hlYWRNb2RlbCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFRyaWdnZXJlZCBvbmNlIGFsbCByZXNvdXJjZXMgYXJlIGxvYWRlZFxuXHQgKi9cblx0cHJpdmF0ZSBvblJlc291cmNlQ29tcGxldGUoZTpMb2FkZXJFdmVudClcblx0e1xuXHRcdEFzc2V0TGlicmFyeS5yZW1vdmVFdmVudExpc3RlbmVyKEFzc2V0RXZlbnQuQVNTRVRfQ09NUExFVEUsIHRoaXMub25Bc3NldENvbXBsZXRlRGVsZWdhdGUpO1xuXHRcdEFzc2V0TGlicmFyeS5yZW1vdmVFdmVudExpc3RlbmVyKExvYWRlckV2ZW50LlJFU09VUkNFX0NPTVBMRVRFLCB0aGlzLm9uUmVzb3VyY2VDb21wbGV0ZURlbGVnYXRlKTtcblxuXHRcdC8vc2V0dXAgY3VzdG9tIG11bHRpcGFzcyBtYXRlcmlhbFxuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbCA9IG5ldyBUcmlhbmdsZU1ldGhvZE1hdGVyaWFsKHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W1wibW9uc3RlcmhlYWRfZGlmZnVzZS5qcGdcIl0pO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5tYXRlcmlhbE1vZGUgPSBUcmlhbmdsZU1hdGVyaWFsTW9kZS5NVUxUSV9QQVNTO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5taXBtYXAgPSBmYWxzZTtcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwubm9ybWFsTWFwID0gdGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbXCJtb25zdGVyaGVhZF9ub3JtYWxzLmpwZ1wiXTtcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwubGlnaHRQaWNrZXIgPSB0aGlzLl9saWdodFBpY2tlcjtcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwuYW1iaWVudENvbG9yID0gMHgzMDMwNDA7XG5cblx0XHQvLyBjcmVhdGUgc29mdCBzaGFkb3dzIHdpdGggYSBsb3Qgb2Ygc2FtcGxlcyBmb3IgYmVzdCByZXN1bHRzLiBXaXRoIHRoZSBjdXJyZW50IG1ldGhvZCBzZXR1cCwgYW55IG1vcmUgc2FtcGxlcyB3b3VsZCBmYWlsIHRvIGNvbXBpbGVcblx0XHR0aGlzLl9zb2Z0U2hhZG93TWV0aG9kID0gbmV3IFNoYWRvd1NvZnRNZXRob2QodGhpcy5fZGlyZWN0aW9uYWxMaWdodCwgMjApO1xuXHRcdHRoaXMuX3NvZnRTaGFkb3dNZXRob2QucmFuZ2UgPSB0aGlzLl9zaGFkb3dSYW5nZTtcdC8vIHRoZSBzYW1wbGUgcmFkaXVzIGRlZmluZXMgdGhlIHNvZnRuZXNzIG9mIHRoZSBzaGFkb3dzXG5cdFx0dGhpcy5fc29mdFNoYWRvd01ldGhvZC5lcHNpbG9uID0gLjE7XG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsLnNoYWRvd01ldGhvZCA9IHRoaXMuX3NvZnRTaGFkb3dNZXRob2Q7XG5cblx0XHQvLyBjcmVhdGUgc3BlY3VsYXIgcmVmbGVjdGlvbnMgdGhhdCBhcmUgc3Ryb25nZXIgZnJvbSB0aGUgc2lkZXNcblx0XHR0aGlzLl9mcmVzbmVsTWV0aG9kID0gbmV3IFNwZWN1bGFyRnJlc25lbE1ldGhvZCh0cnVlKTtcblx0XHR0aGlzLl9mcmVzbmVsTWV0aG9kLmZyZXNuZWxQb3dlciA9IDM7XG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsLnNwZWN1bGFyTWV0aG9kID0gdGhpcy5fZnJlc25lbE1ldGhvZDtcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwuc3BlY3VsYXJNYXAgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtcIm1vbnN0ZXJoZWFkX3NwZWN1bGFyLmpwZ1wiXTtcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwuc3BlY3VsYXIgPSAzO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5nbG9zcyA9IDEwO1xuXG5cdFx0Ly9hcHBseSBtYXRlcmlhbCB0byBoZWFkIG1vZGVsXG5cdFx0dmFyIGxlbjpudW1iZXIgPSB0aGlzLl9oZWFkTW9kZWwuc3ViTWVzaGVzLmxlbmd0aDtcblx0XHRmb3IgKHZhciBpOm51bWJlciA9IDA7IGkgPCBsZW47IGkrKylcblx0XHRcdHRoaXMuX2hlYWRNb2RlbC5zdWJNZXNoZXNbaV0ubWF0ZXJpYWwgPSB0aGlzLl9oZWFkTWF0ZXJpYWw7XG5cblx0XHRBc3NldExpYnJhcnkuYWRkRXZlbnRMaXN0ZW5lcihMb2FkZXJFdmVudC5SRVNPVVJDRV9DT01QTEVURSwgKGV2ZW50OkxvYWRlckV2ZW50KSA9PiB0aGlzLm9uRXh0cmFSZXNvdXJjZUNvbXBsZXRlKGV2ZW50KSk7XG5cblx0XHQvL2RpZmZ1c2UgZ3JhZGllbnQgdGV4dHVyZVxuXHRcdEFzc2V0TGlicmFyeS5sb2FkKG5ldyBVUkxSZXF1ZXN0KFwiYXNzZXRzL2RpZmZ1c2VHcmFkaWVudC5qcGdcIikpO1xuXHR9XG5cblxuXHQvKipcblx0ICogVHJpZ2dlcmVkIG9uY2UgZXh0cmEgcmVzb3VyY2VzIGFyZSBsb2FkZWRcblx0ICovXG5cdHByaXZhdGUgb25FeHRyYVJlc291cmNlQ29tcGxldGUoZXZlbnQ6TG9hZGVyRXZlbnQpXG5cdHtcblx0XHRzd2l0Y2ggKGV2ZW50LnVybCkge1xuXHRcdFx0Y2FzZSBcImFzc2V0cy9kaWZmdXNlR3JhZGllbnQuanBnXCIgOlxuXHRcdFx0XHQvLyB2ZXJ5IGxvdy1jb3N0IGFuZCBjcnVkZSBzdWJzdXJmYWNlIHNjYXR0ZXJpbmcgZm9yIGRpZmZ1c2Ugc2hhZGluZ1xuXHRcdFx0XHQvL3RoaXMuX2hlYWRNYXRlcmlhbC5kaWZmdXNlTWV0aG9kID0gbmV3IERpZmZ1c2VHcmFkaWVudE1ldGhvZCg8SW1hZ2VUZXh0dXJlPiBldmVudC5hc3NldHNbIDAgXSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBNb3VzZSBkb3duIGxpc3RlbmVyIGZvciBuYXZpZ2F0aW9uXG5cdCAqL1xuXHRwcml2YXRlIG9uTW91c2VEb3duKGV2ZW50Ok1vdXNlRXZlbnQpXG5cdHtcblx0XHR0aGlzLl9sYXN0UGFuQW5nbGUgPSB0aGlzLl9jYW1lcmFDb250cm9sbGVyLnBhbkFuZ2xlO1xuXHRcdHRoaXMuX2xhc3RUaWx0QW5nbGUgPSB0aGlzLl9jYW1lcmFDb250cm9sbGVyLnRpbHRBbmdsZTtcblx0XHR0aGlzLl9sYXN0TW91c2VYID0gZXZlbnQuY2xpZW50WDtcblx0XHR0aGlzLl9sYXN0TW91c2VZID0gZXZlbnQuY2xpZW50WTtcblx0XHR0aGlzLl9tb3ZlID0gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBNb3VzZSB1cCBsaXN0ZW5lciBmb3IgbmF2aWdhdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBvbk1vdXNlVXAoZXZlbnQ6TW91c2VFdmVudClcblx0e1xuXHRcdHRoaXMuX21vdmUgPSBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBNb3VzZSBtb3ZlIGxpc3RlbmVyIGZvciBtb3VzZUxvY2tcblx0ICovXG5cdHByaXZhdGUgb25Nb3VzZU1vdmUoZXZlbnQ6TW91c2VFdmVudClcblx0e1xuXHRcdGlmICh0aGlzLl9tb3ZlKSB7XG5cdFx0XHR0aGlzLl9jYW1lcmFDb250cm9sbGVyLnBhbkFuZ2xlID0gMC4zKihldmVudC5jbGllbnRYIC0gdGhpcy5fbGFzdE1vdXNlWCkgKyB0aGlzLl9sYXN0UGFuQW5nbGU7XG5cdFx0XHR0aGlzLl9jYW1lcmFDb250cm9sbGVyLnRpbHRBbmdsZSA9IDAuMyooZXZlbnQuY2xpZW50WSAtIHRoaXMuX2xhc3RNb3VzZVkpICsgdGhpcy5fbGFzdFRpbHRBbmdsZTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogd2luZG93IGxpc3RlbmVyIGZvciByZXNpemUgZXZlbnRzXG5cdCAqL1xuXHRwcml2YXRlIG9uUmVzaXplKGV2ZW50OlVJRXZlbnQgPSBudWxsKVxuXHR7XG5cdFx0dGhpcy5fdmlldy55ID0gMDtcblx0XHR0aGlzLl92aWV3LnggPSAwO1xuXHRcdHRoaXMuX3ZpZXcud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0XHR0aGlzLl92aWV3LmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblx0fVxufVxuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKClcbntcblx0bmV3IEludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcoKTtcbn0iXX0=