/*

Monster Head example in Away3d

Demonstrates:

How to use the AssetLibrary to load an internal AWD model.
How to set custom material methods on a model.
How to setup soft shadows and multiple lightsources with a multipass texture
How to use a diffuse gradient method as a cheap way to simulate sub-surface scattering

Code by Rob Bateman & David Lenaerts
rob@infiniteturtles.co.uk
http://www.infiniteturtles.co.uk
david.lenaerts@gmail.com
http://www.derschmale.com

This code is distributed under the MIT License

Copyright (c) The Away Foundation http://www.theawayfoundation.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var AssetEvent = require("awayjs-core/lib/events/AssetEvent");
var AwayEvent = require("awayjs-core/lib/events/Event");
var LoaderEvent = require("awayjs-core/lib/events/LoaderEvent");
var ProgressEvent = require("awayjs-core/lib/events/ProgressEvent");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var AssetLibrary = require("awayjs-core/lib/library/AssetLibrary");
var AssetLoaderContext = require("awayjs-core/lib/library/AssetLoaderContext");
var URLLoader = require("awayjs-core/lib/net/URLLoader");
var URLLoaderDataFormat = require("awayjs-core/lib/net/URLLoaderDataFormat");
var URLRequest = require("awayjs-core/lib/net/URLRequest");
var ParserUtils = require("awayjs-core/lib/parsers/ParserUtils");
var ImageTexture = require("awayjs-core/lib/textures/ImageTexture");
var SpecularBitmapTexture = require("awayjs-core/lib/textures/SpecularBitmapTexture");
var RequestAnimationFrame = require("awayjs-core/lib/utils/RequestAnimationFrame");
var Scene = require("awayjs-display/lib/containers/Scene");
var View = require("awayjs-display/lib/containers/View");
var HoverController = require("awayjs-display/lib/controllers/HoverController");
var Camera = require("awayjs-display/lib/entities/Camera");
var DirectionalLight = require("awayjs-display/lib/entities/DirectionalLight");
var PointLight = require("awayjs-display/lib/entities/PointLight");
var Mesh = require("awayjs-display/lib/entities/Mesh");
var StaticLightPicker = require("awayjs-display/lib/materials/lightpickers/StaticLightPicker");
var Cast = require("awayjs-display/lib/utils/Cast");
var DefaultRenderer = require("awayjs-renderergl/lib/DefaultRenderer");
var MethodMaterial = require("awayjs-methodmaterials/lib/MethodMaterial");
var MethodRendererPool = require("awayjs-methodmaterials/lib/pool/MethodRendererPool");
var MethodMaterialMode = require("awayjs-methodmaterials/lib/MethodMaterialMode");
var SpecularFresnelMethod = require("awayjs-methodmaterials/lib/methods/SpecularFresnelMethod");
var ShadowSoftMethod = require("awayjs-methodmaterials/lib/methods/ShadowSoftMethod");
var AWDParser = require("awayjs-parsers/lib/AWDParser");
var Intermediate_MonsterHeadShading = (function () {
    /**
     * Constructor
     */
    function Intermediate_MonsterHeadShading() {
        //textures
        this._textureStrings = Array("monsterhead_diffuse.jpg", "monsterhead_specular.jpg", "monsterhead_normals.jpg");
        this._textureDictionary = new Object();
        this._advancedMethod = true;
        //loading variables
        this._numTextures = 0;
        this._currentTexture = 0;
        this._n = 0;
        //root filepath for asset loading
        this._assetsRoot = "assets/monsterhead/";
        //navigation variables
        this._move = false;
        this.time = 0;
        this._shadowRange = 3;
        this._lightDirection = 120 * Math.PI / 180;
        this._lightElevation = 30 * Math.PI / 180;
        this.init();
    }
    /**
     * Global initialise function
     */
    Intermediate_MonsterHeadShading.prototype.init = function () {
        this.initEngine();
        this.initLights();
        this.initListeners();
        //kickoff asset loading
        this._n = 0;
        this._numTextures = this._textureStrings.length;
        this.load(this._textureStrings[this._n]);
    };
    /**
     * Initialise the engine
     */
    Intermediate_MonsterHeadShading.prototype.initEngine = function () {
        this._scene = new Scene();
        this._camera = new Camera();
        this._camera.projection.near = 20;
        this._camera.projection.far = 1000;
        this._view = new View(new DefaultRenderer(MethodRendererPool), this._scene, this._camera);
        //setup controller to be used on the camera
        this._cameraController = new HoverController(this._camera, null, 225, 10, 800);
        this._cameraController.yFactor = 1;
    };
    /**
     * Initialise the lights in a scene
     */
    Intermediate_MonsterHeadShading.prototype.initLights = function () {
        //var initialAzimuth:number = .6;
        //var initialArc:number = 2;
        var x = Math.sin(this._lightElevation) * Math.cos(this._lightDirection);
        var y = -Math.cos(this._lightElevation);
        var z = Math.sin(this._lightElevation) * Math.sin(this._lightDirection);
        // main light casting the shadows
        this._directionalLight = new DirectionalLight(x, y, z);
        this._directionalLight.color = 0xffeedd;
        this._directionalLight.ambient = 1;
        this._directionalLight.specular = .3;
        this._directionalLight.ambientColor = 0x101025;
        this._directionalLight.castsShadows = true;
        this._directionalLight.shadowMapper.lightOffset = 1000;
        this._scene.addChild(this._directionalLight);
        // blue point light coming from the right
        this._blueLight = new PointLight();
        this._blueLight.color = 0x4080ff;
        this._blueLight.x = 3000;
        this._blueLight.z = 700;
        this._blueLight.y = 20;
        this._scene.addChild(this._blueLight);
        // red light coming from the left
        this._redLight = new PointLight();
        this._redLight.color = 0x802010;
        this._redLight.x = -2000;
        this._redLight.z = 800;
        this._redLight.y = -400;
        this._scene.addChild(this._redLight);
        this._lightPicker = new StaticLightPicker([this._directionalLight, this._blueLight, this._redLight]);
    };
    /**
     * Initialise the listeners
     */
    Intermediate_MonsterHeadShading.prototype.initListeners = function () {
        var _this = this;
        window.onresize = function (event) { return _this.onResize(event); };
        document.onmousedown = function (event) { return _this.onMouseDown(event); };
        document.onmouseup = function (event) { return _this.onMouseUp(event); };
        document.onmousemove = function (event) { return _this.onMouseMove(event); };
        this.onResize();
        this.parseAWDDelegate = function (event) { return _this.parseAWD(event); };
        this.parseBitmapDelegate = function (event) { return _this.parseBitmap(event); };
        this.loadProgressDelegate = function (event) { return _this.loadProgress(event); };
        this.onBitmapCompleteDelegate = function (event) { return _this.onBitmapComplete(event); };
        this.onAssetCompleteDelegate = function (event) { return _this.onAssetComplete(event); };
        this.onResourceCompleteDelegate = function (event) { return _this.onResourceComplete(event); };
        this.timer = new RequestAnimationFrame(this.onEnterFrame, this);
        this.timer.start();
    };
    /**
     * Updates the direction of the directional lightsource
     */
    Intermediate_MonsterHeadShading.prototype.updateDirection = function () {
        this._directionalLight.direction = new Vector3D(Math.sin(this._lightElevation) * Math.cos(this._lightDirection), -Math.cos(this._lightElevation), Math.sin(this._lightElevation) * Math.sin(this._lightDirection));
    };
    Intermediate_MonsterHeadShading.prototype.updateRange = function () {
        this._softShadowMethod.range = this._shadowRange;
    };
    /**
     * Global binary file loader
     */
    Intermediate_MonsterHeadShading.prototype.load = function (url) {
        var loader = new URLLoader();
        switch (url.substring(url.length - 3)) {
            case "AWD":
            case "awd":
                loader.dataFormat = URLLoaderDataFormat.ARRAY_BUFFER;
                this._loadingText = "Loading Model";
                loader.addEventListener(AwayEvent.COMPLETE, this.parseAWDDelegate);
                break;
            case "png":
            case "jpg":
                loader.dataFormat = URLLoaderDataFormat.BLOB;
                this._currentTexture++;
                this._loadingText = "Loading Textures";
                loader.addEventListener(AwayEvent.COMPLETE, this.parseBitmapDelegate);
                break;
        }
        loader.addEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        loader.load(new URLRequest(this._assetsRoot + url));
    };
    /**
     * Display current load
     */
    Intermediate_MonsterHeadShading.prototype.loadProgress = function (event) {
        //TODO work out why the casting on ProgressEvent fails for bytesLoaded and bytesTotal properties
        var P = Math.floor(event["bytesLoaded"] / event["bytesTotal"] * 100);
        if (P != 100) {
            console.log(this._loadingText + '\n' + ((this._loadingText == "Loading Model") ? Math.floor((event["bytesLoaded"] / 1024) << 0) + 'kb | ' + Math.floor((event["bytesTotal"] / 1024) << 0) + 'kb' : this._currentTexture + ' | ' + this._numTextures));
        }
    };
    /**
     * Parses the Bitmap file
     */
    Intermediate_MonsterHeadShading.prototype.parseBitmap = function (event) {
        var urlLoader = event.target;
        var image = ParserUtils.blobToImage(urlLoader.data);
        image.onload = this.onBitmapCompleteDelegate;
        urlLoader.removeEventListener(AwayEvent.COMPLETE, this.parseBitmapDelegate);
        urlLoader.removeEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        urlLoader = null;
    };
    /**
     * Parses the AWD file
     */
    Intermediate_MonsterHeadShading.prototype.parseAWD = function (event) {
        console.log("Parsing Data");
        var urlLoader = event.target;
        //setup parser
        AssetLibrary.addEventListener(AssetEvent.ASSET_COMPLETE, this.onAssetCompleteDelegate);
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, this.onResourceCompleteDelegate);
        AssetLibrary.loadData(urlLoader.data, new AssetLoaderContext(false), null, new AWDParser());
        urlLoader.removeEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        urlLoader.removeEventListener(AwayEvent.COMPLETE, this.parseAWDDelegate);
        urlLoader = null;
    };
    /**
     * Listener for bitmap complete event on loader
     */
    Intermediate_MonsterHeadShading.prototype.onBitmapComplete = function (event) {
        var image = event.target;
        image.onload = null;
        //create bitmap texture in dictionary
        if (!this._textureDictionary[this._textureStrings[this._n]])
            this._textureDictionary[this._textureStrings[this._n]] = (this._n == 1) ? new SpecularBitmapTexture(Cast.bitmapData(image)) : new ImageTexture(image);
        this._n++;
        //switch to next teture set
        if (this._n < this._textureStrings.length) {
            this.load(this._textureStrings[this._n]);
        }
        else {
            this.load("MonsterHead.awd");
        }
    };
    /**
     * Navigation and render loop
     */
    Intermediate_MonsterHeadShading.prototype.onEnterFrame = function (dt) {
        this._view.render();
    };
    /**
     * Listener for asset complete event on loader
     */
    Intermediate_MonsterHeadShading.prototype.onAssetComplete = function (event) {
        if (event.asset.isAsset(Mesh)) {
            this._headModel = event.asset;
            this._headModel.geometry.scale(4);
            this._headModel.y = -20;
            this._scene.addChild(this._headModel);
        }
    };
    /**
     * Triggered once all resources are loaded
     */
    Intermediate_MonsterHeadShading.prototype.onResourceComplete = function (e) {
        var _this = this;
        AssetLibrary.removeEventListener(AssetEvent.ASSET_COMPLETE, this.onAssetCompleteDelegate);
        AssetLibrary.removeEventListener(LoaderEvent.RESOURCE_COMPLETE, this.onResourceCompleteDelegate);
        //setup custom multipass material
        this._headMaterial = new MethodMaterial(this._textureDictionary["monsterhead_diffuse.jpg"]);
        this._headMaterial.mode = MethodMaterialMode.MULTI_PASS;
        this._headMaterial.mipmap = false;
        this._headMaterial.normalMap = this._textureDictionary["monsterhead_normals.jpg"];
        this._headMaterial.lightPicker = this._lightPicker;
        this._headMaterial.ambientColor = 0x303040;
        // create soft shadows with a lot of samples for best results. With the current method setup, any more samples would fail to compile
        this._softShadowMethod = new ShadowSoftMethod(this._directionalLight, 20);
        this._softShadowMethod.range = this._shadowRange; // the sample radius defines the softness of the shadows
        this._softShadowMethod.epsilon = .1;
        this._headMaterial.shadowMethod = this._softShadowMethod;
        // create specular reflections that are stronger from the sides
        this._fresnelMethod = new SpecularFresnelMethod(true);
        this._fresnelMethod.fresnelPower = 3;
        this._headMaterial.specularMethod = this._fresnelMethod;
        this._headMaterial.specularMap = this._textureDictionary["monsterhead_specular.jpg"];
        this._headMaterial.specular = 3;
        this._headMaterial.gloss = 10;
        //apply material to head model
        var len = this._headModel.subMeshes.length;
        for (var i = 0; i < len; i++)
            this._headModel.subMeshes[i].material = this._headMaterial;
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, function (event) { return _this.onExtraResourceComplete(event); });
        //diffuse gradient texture
        AssetLibrary.load(new URLRequest("assets/diffuseGradient.jpg"));
    };
    /**
     * Triggered once extra resources are loaded
     */
    Intermediate_MonsterHeadShading.prototype.onExtraResourceComplete = function (event) {
        switch (event.url) {
            case "assets/diffuseGradient.jpg":
                break;
        }
    };
    /**
     * Mouse down listener for navigation
     */
    Intermediate_MonsterHeadShading.prototype.onMouseDown = function (event) {
        this._lastPanAngle = this._cameraController.panAngle;
        this._lastTiltAngle = this._cameraController.tiltAngle;
        this._lastMouseX = event.clientX;
        this._lastMouseY = event.clientY;
        this._move = true;
    };
    /**
     * Mouse up listener for navigation
     */
    Intermediate_MonsterHeadShading.prototype.onMouseUp = function (event) {
        this._move = false;
    };
    /**
     * Mouse move listener for mouseLock
     */
    Intermediate_MonsterHeadShading.prototype.onMouseMove = function (event) {
        if (this._move) {
            this._cameraController.panAngle = 0.3 * (event.clientX - this._lastMouseX) + this._lastPanAngle;
            this._cameraController.tiltAngle = 0.3 * (event.clientY - this._lastMouseY) + this._lastTiltAngle;
        }
    };
    /**
     * window listener for resize events
     */
    Intermediate_MonsterHeadShading.prototype.onResize = function (event) {
        if (event === void 0) { event = null; }
        this._view.y = 0;
        this._view.x = 0;
        this._view.width = window.innerWidth;
        this._view.height = window.innerHeight;
    };
    return Intermediate_MonsterHeadShading;
})();
window.onload = function () {
    new Intermediate_MonsterHeadShading();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnRzIl0sIm5hbWVzIjpbIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmciLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLmNvbnN0cnVjdG9yIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0IiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0RW5naW5lIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0TGlnaHRzIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0TGlzdGVuZXJzIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy51cGRhdGVEaXJlY3Rpb24iLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnVwZGF0ZVJhbmdlIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5sb2FkIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5sb2FkUHJvZ3Jlc3MiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnBhcnNlQml0bWFwIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5wYXJzZUFXRCIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25CaXRtYXBDb21wbGV0ZSIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25FbnRlckZyYW1lIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vbkFzc2V0Q29tcGxldGUiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uUmVzb3VyY2VDb21wbGV0ZSIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25FeHRyYVJlc291cmNlQ29tcGxldGUiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uTW91c2VEb3duIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vbk1vdXNlVXAiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uTW91c2VNb3ZlIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vblJlc2l6ZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXVDRTtBQUVGLElBQU8sVUFBVSxXQUFlLG1DQUFtQyxDQUFDLENBQUM7QUFDckUsSUFBTyxTQUFTLFdBQWUsOEJBQThCLENBQUMsQ0FBQztBQUMvRCxJQUFPLFdBQVcsV0FBZSxvQ0FBb0MsQ0FBQyxDQUFDO0FBQ3ZFLElBQU8sYUFBYSxXQUFjLHNDQUFzQyxDQUFDLENBQUM7QUFDMUUsSUFBTyxRQUFRLFdBQWdCLCtCQUErQixDQUFDLENBQUM7QUFDaEUsSUFBTyxZQUFZLFdBQWUsc0NBQXNDLENBQUMsQ0FBQztBQUMxRSxJQUFPLGtCQUFrQixXQUFhLDRDQUE0QyxDQUFDLENBQUM7QUFDcEYsSUFBTyxTQUFTLFdBQWUsK0JBQStCLENBQUMsQ0FBQztBQUNoRSxJQUFPLG1CQUFtQixXQUFhLHlDQUF5QyxDQUFDLENBQUM7QUFDbEYsSUFBTyxVQUFVLFdBQWUsZ0NBQWdDLENBQUMsQ0FBQztBQUNsRSxJQUFPLFdBQVcsV0FBZSxxQ0FBcUMsQ0FBQyxDQUFDO0FBQ3hFLElBQU8sWUFBWSxXQUFlLHVDQUF1QyxDQUFDLENBQUM7QUFDM0UsSUFBTyxxQkFBcUIsV0FBWSxnREFBZ0QsQ0FBQyxDQUFDO0FBQzFGLElBQU8scUJBQXFCLFdBQVksNkNBQTZDLENBQUMsQ0FBQztBQUV2RixJQUFPLEtBQUssV0FBZ0IscUNBQXFDLENBQUMsQ0FBQztBQUNuRSxJQUFPLElBQUksV0FBaUIsb0NBQW9DLENBQUMsQ0FBQztBQUNsRSxJQUFPLGVBQWUsV0FBYyxnREFBZ0QsQ0FBQyxDQUFDO0FBQ3RGLElBQU8sTUFBTSxXQUFnQixvQ0FBb0MsQ0FBQyxDQUFDO0FBQ25FLElBQU8sZ0JBQWdCLFdBQWMsOENBQThDLENBQUMsQ0FBQztBQUNyRixJQUFPLFVBQVUsV0FBZSx3Q0FBd0MsQ0FBQyxDQUFDO0FBQzFFLElBQU8sSUFBSSxXQUFpQixrQ0FBa0MsQ0FBQyxDQUFDO0FBQ2hFLElBQU8saUJBQWlCLFdBQWEsNkRBQTZELENBQUMsQ0FBQztBQUVwRyxJQUFPLElBQUksV0FBaUIsK0JBQStCLENBQUMsQ0FBQztBQUU3RCxJQUFPLGVBQWUsV0FBYyx1Q0FBdUMsQ0FBQyxDQUFDO0FBRTdFLElBQU8sY0FBYyxXQUFjLDJDQUEyQyxDQUFDLENBQUM7QUFDaEYsSUFBTyxrQkFBa0IsV0FBYSxvREFBb0QsQ0FBQyxDQUFDO0FBQzVGLElBQU8sa0JBQWtCLFdBQWEsK0NBQStDLENBQUMsQ0FBQztBQUV2RixJQUFPLHFCQUFxQixXQUFZLDBEQUEwRCxDQUFDLENBQUM7QUFDcEcsSUFBTyxnQkFBZ0IsV0FBYyxxREFBcUQsQ0FBQyxDQUFDO0FBRTVGLElBQU8sU0FBUyxXQUFlLDhCQUE4QixDQUFDLENBQUM7QUFFL0QsSUFBTSwrQkFBK0I7SUF3RHBDQTs7T0FFR0E7SUFDSEEsU0EzREtBLCtCQUErQkE7UUFFcENDLFVBQVVBO1FBQ0ZBLG9CQUFlQSxHQUFpQkEsS0FBS0EsQ0FBU0EseUJBQXlCQSxFQUFFQSwwQkFBMEJBLEVBQUVBLHlCQUF5QkEsQ0FBQ0EsQ0FBQ0E7UUFDaElBLHVCQUFrQkEsR0FBVUEsSUFBSUEsTUFBTUEsRUFBRUEsQ0FBQ0E7UUFxQnpDQSxvQkFBZUEsR0FBV0EsSUFBSUEsQ0FBQ0E7UUFFdkNBLG1CQUFtQkE7UUFDWEEsaUJBQVlBLEdBQW1CQSxDQUFDQSxDQUFDQTtRQUNqQ0Esb0JBQWVBLEdBQW1CQSxDQUFDQSxDQUFDQTtRQUNwQ0EsT0FBRUEsR0FBbUJBLENBQUNBLENBQUNBO1FBRy9CQSxpQ0FBaUNBO1FBQ3pCQSxnQkFBV0EsR0FBVUEscUJBQXFCQSxDQUFDQTtRQUVuREEsc0JBQXNCQTtRQUNkQSxVQUFLQSxHQUFXQSxLQUFLQSxDQUFDQTtRQU10QkEsU0FBSUEsR0FBVUEsQ0FBQ0EsQ0FBQ0E7UUFTaEJBLGlCQUFZQSxHQUFVQSxDQUFDQSxDQUFDQTtRQUN4QkEsb0JBQWVBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLEVBQUVBLEdBQUNBLEdBQUdBLENBQUNBO1FBQ3pDQSxvQkFBZUEsR0FBVUEsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsRUFBRUEsR0FBQ0EsR0FBR0EsQ0FBQ0E7UUFPL0NBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO0lBQ2JBLENBQUNBO0lBRUREOztPQUVHQTtJQUNLQSw4Q0FBSUEsR0FBWkE7UUFFQ0UsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsQ0FBQ0E7UUFDbEJBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBO1FBQ2xCQSxJQUFJQSxDQUFDQSxhQUFhQSxFQUFFQSxDQUFDQTtRQUVyQkEsQUFDQUEsdUJBRHVCQTtRQUN2QkEsSUFBSUEsQ0FBQ0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDWkEsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDaERBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO0lBQzFDQSxDQUFDQTtJQUVERjs7T0FFR0E7SUFDS0Esb0RBQVVBLEdBQWxCQTtRQUVDRyxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxJQUFJQSxLQUFLQSxFQUFFQSxDQUFDQTtRQUUxQkEsSUFBSUEsQ0FBQ0EsT0FBT0EsR0FBR0EsSUFBSUEsTUFBTUEsRUFBRUEsQ0FBQ0E7UUFDNUJBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLFVBQVVBLENBQUNBLElBQUlBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ2xDQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUVuQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsSUFBSUEsSUFBSUEsQ0FBQ0EsSUFBSUEsZUFBZUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtRQUUxRkEsQUFDQUEsMkNBRDJDQTtRQUMzQ0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxHQUFHQSxJQUFJQSxlQUFlQSxDQUFDQSxJQUFJQSxDQUFDQSxPQUFPQSxFQUFFQSxJQUFJQSxFQUFFQSxHQUFHQSxFQUFFQSxFQUFFQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUMvRUEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxPQUFPQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUNwQ0EsQ0FBQ0E7SUFFREg7O09BRUdBO0lBQ0tBLG9EQUFVQSxHQUFsQkE7UUFFQ0ksQUFFQUEsaUNBRmlDQTtRQUNqQ0EsNEJBQTRCQTtZQUN4QkEsQ0FBQ0EsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7UUFDN0VBLElBQUlBLENBQUNBLEdBQVVBLENBQUNBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBO1FBQy9DQSxJQUFJQSxDQUFDQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQTtRQUU3RUEsQUFDQUEsaUNBRGlDQTtRQUNqQ0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxHQUFHQSxJQUFJQSxnQkFBZ0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQ3ZEQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLEtBQUtBLEdBQUdBLFFBQVFBLENBQUNBO1FBQ3hDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLE9BQU9BLEdBQUdBLENBQUNBLENBQUNBO1FBQ25DQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ3JDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFlBQVlBLEdBQUdBLFFBQVFBLENBQUNBO1FBQy9DQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLENBQUNBO1FBQ2hCQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFlBQWFBLENBQUNBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBO1FBQ25GQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBO1FBRTdDQSxBQUNBQSx5Q0FEeUNBO1FBQ3pDQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxVQUFVQSxFQUFFQSxDQUFDQTtRQUNuQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsS0FBS0EsR0FBR0EsUUFBUUEsQ0FBQ0E7UUFDakNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQ3pCQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN4QkEsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDdkJBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1FBRXRDQSxBQUNBQSxpQ0FEaUNBO1FBQ2pDQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxJQUFJQSxVQUFVQSxFQUFFQSxDQUFDQTtRQUNsQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsS0FBS0Es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LE1BQU0sR0FBRztJQUVmLElBQUksK0JBQStCLEVBQUUsQ0FBQztBQUN2QyxDQUFDLENBQUEiLCJmaWxlIjoiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXNDb250ZW50IjpbIu+7vy8qXG5cbk1vbnN0ZXIgSGVhZCBleGFtcGxlIGluIEF3YXkzZFxuXG5EZW1vbnN0cmF0ZXM6XG5cbkhvdyB0byB1c2UgdGhlIEFzc2V0TGlicmFyeSB0byBsb2FkIGFuIGludGVybmFsIEFXRCBtb2RlbC5cbkhvdyB0byBzZXQgY3VzdG9tIG1hdGVyaWFsIG1ldGhvZHMgb24gYSBtb2RlbC5cbkhvdyB0byBzZXR1cCBzb2Z0IHNoYWRvd3MgYW5kIG11bHRpcGxlIGxpZ2h0c291cmNlcyB3aXRoIGEgbXVsdGlwYXNzIHRleHR1cmVcbkhvdyB0byB1c2UgYSBkaWZmdXNlIGdyYWRpZW50IG1ldGhvZCBhcyBhIGNoZWFwIHdheSB0byBzaW11bGF0ZSBzdWItc3VyZmFjZSBzY2F0dGVyaW5nXG5cbkNvZGUgYnkgUm9iIEJhdGVtYW4gJiBEYXZpZCBMZW5hZXJ0c1xucm9iQGluZmluaXRldHVydGxlcy5jby51a1xuaHR0cDovL3d3dy5pbmZpbml0ZXR1cnRsZXMuY28udWtcbmRhdmlkLmxlbmFlcnRzQGdtYWlsLmNvbVxuaHR0cDovL3d3dy5kZXJzY2htYWxlLmNvbVxuXG5UaGlzIGNvZGUgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG5cbkNvcHlyaWdodCAoYykgVGhlIEF3YXkgRm91bmRhdGlvbiBodHRwOi8vd3d3LnRoZWF3YXlmb3VuZGF0aW9uLm9yZ1xuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSDigJxTb2Z0d2FyZeKAnSksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQg4oCcQVMgSVPigJ0sIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5pbXBvcnQgQXNzZXRFdmVudFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0Fzc2V0RXZlbnRcIik7XG5pbXBvcnQgQXdheUV2ZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvRXZlbnRcIik7XG5pbXBvcnQgTG9hZGVyRXZlbnRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2V2ZW50cy9Mb2FkZXJFdmVudFwiKTtcbmltcG9ydCBQcm9ncmVzc0V2ZW50XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL1Byb2dyZXNzRXZlbnRcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9WZWN0b3IzRFwiKTtcbmltcG9ydCBBc3NldExpYnJhcnlcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2xpYnJhcnkvQXNzZXRMaWJyYXJ5XCIpO1xuaW1wb3J0IEFzc2V0TG9hZGVyQ29udGV4dFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9saWJyYXJ5L0Fzc2V0TG9hZGVyQ29udGV4dFwiKTtcbmltcG9ydCBVUkxMb2FkZXJcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL25ldC9VUkxMb2FkZXJcIik7XG5pbXBvcnQgVVJMTG9hZGVyRGF0YUZvcm1hdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9uZXQvVVJMTG9hZGVyRGF0YUZvcm1hdFwiKTtcbmltcG9ydCBVUkxSZXF1ZXN0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9uZXQvVVJMUmVxdWVzdFwiKTtcbmltcG9ydCBQYXJzZXJVdGlsc1x0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvcGFyc2Vycy9QYXJzZXJVdGlsc1wiKTtcbmltcG9ydCBJbWFnZVRleHR1cmVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3RleHR1cmVzL0ltYWdlVGV4dHVyZVwiKTtcbmltcG9ydCBTcGVjdWxhckJpdG1hcFRleHR1cmVcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3RleHR1cmVzL1NwZWN1bGFyQml0bWFwVGV4dHVyZVwiKTtcbmltcG9ydCBSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3V0aWxzL1JlcXVlc3RBbmltYXRpb25GcmFtZVwiKTtcblxuaW1wb3J0IFNjZW5lXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRhaW5lcnMvU2NlbmVcIik7XG5pbXBvcnQgVmlld1x0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRhaW5lcnMvVmlld1wiKTtcbmltcG9ydCBIb3ZlckNvbnRyb2xsZXJcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9jb250cm9sbGVycy9Ib3ZlckNvbnRyb2xsZXJcIik7XG5pbXBvcnQgQ2FtZXJhXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0NhbWVyYVwiKTtcbmltcG9ydCBEaXJlY3Rpb25hbExpZ2h0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvRGlyZWN0aW9uYWxMaWdodFwiKTtcbmltcG9ydCBQb2ludExpZ2h0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9Qb2ludExpZ2h0XCIpO1xuaW1wb3J0IE1lc2hcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9NZXNoXCIpO1xuaW1wb3J0IFN0YXRpY0xpZ2h0UGlja2VyXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9saWdodHBpY2tlcnMvU3RhdGljTGlnaHRQaWNrZXJcIik7XG5pbXBvcnQgRGlyZWN0aW9uYWxTaGFkb3dNYXBwZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9zaGFkb3dtYXBwZXJzL0RpcmVjdGlvbmFsU2hhZG93TWFwcGVyXCIpO1xuaW1wb3J0IENhc3RcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi91dGlscy9DYXN0XCIpO1xuXG5pbXBvcnQgRGVmYXVsdFJlbmRlcmVyXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvRGVmYXVsdFJlbmRlcmVyXCIpO1xuXG5pbXBvcnQgTWV0aG9kTWF0ZXJpYWxcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1tZXRob2RtYXRlcmlhbHMvbGliL01ldGhvZE1hdGVyaWFsXCIpO1xuaW1wb3J0IE1ldGhvZFJlbmRlcmVyUG9vbFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1tZXRob2RtYXRlcmlhbHMvbGliL3Bvb2wvTWV0aG9kUmVuZGVyZXJQb29sXCIpO1xuaW1wb3J0IE1ldGhvZE1hdGVyaWFsTW9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1tZXRob2RtYXRlcmlhbHMvbGliL01ldGhvZE1hdGVyaWFsTW9kZVwiKTtcbmltcG9ydCBEaWZmdXNlR3JhZGllbnRNZXRob2RcdFx0PSByZXF1aXJlKFwiYXdheWpzLW1ldGhvZG1hdGVyaWFscy9saWIvbWV0aG9kcy9EaWZmdXNlR3JhZGllbnRNZXRob2RcIik7XG5pbXBvcnQgU3BlY3VsYXJGcmVzbmVsTWV0aG9kXHRcdD0gcmVxdWlyZShcImF3YXlqcy1tZXRob2RtYXRlcmlhbHMvbGliL21ldGhvZHMvU3BlY3VsYXJGcmVzbmVsTWV0aG9kXCIpO1xuaW1wb3J0IFNoYWRvd1NvZnRNZXRob2RcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1tZXRob2RtYXRlcmlhbHMvbGliL21ldGhvZHMvU2hhZG93U29mdE1ldGhvZFwiKTtcblxuaW1wb3J0IEFXRFBhcnNlclx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcGFyc2Vycy9saWIvQVdEUGFyc2VyXCIpO1xuXG5jbGFzcyBJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nXG57XG5cdC8vdGV4dHVyZXNcblx0cHJpdmF0ZSBfdGV4dHVyZVN0cmluZ3M6QXJyYXk8c3RyaW5nPiA9IEFycmF5PHN0cmluZz4oXCJtb25zdGVyaGVhZF9kaWZmdXNlLmpwZ1wiLCBcIm1vbnN0ZXJoZWFkX3NwZWN1bGFyLmpwZ1wiLCBcIm1vbnN0ZXJoZWFkX25vcm1hbHMuanBnXCIpO1xuXHRwcml2YXRlIF90ZXh0dXJlRGljdGlvbmFyeTpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG5cblx0Ly9lbmdpbmUgdmFyaWFibGVzXG5cdHByaXZhdGUgX3NjZW5lOlNjZW5lO1xuXHRwcml2YXRlIF9jYW1lcmE6Q2FtZXJhO1xuXHRwcml2YXRlIF92aWV3OlZpZXc7XG5cdHByaXZhdGUgX2NhbWVyYUNvbnRyb2xsZXI6SG92ZXJDb250cm9sbGVyO1xuXG5cdC8vbWF0ZXJpYWwgb2JqZWN0c1xuXHRwcml2YXRlIF9oZWFkTWF0ZXJpYWw6TWV0aG9kTWF0ZXJpYWw7XG5cdHByaXZhdGUgX3NvZnRTaGFkb3dNZXRob2Q6U2hhZG93U29mdE1ldGhvZDtcblx0cHJpdmF0ZSBfZnJlc25lbE1ldGhvZDpTcGVjdWxhckZyZXNuZWxNZXRob2Q7XG5cdC8vcHJpdmF0ZSBfZGlmZnVzZU1ldGhvZDpCYXNpY0RpZmZ1c2VNZXRob2Q7XG5cdC8vcHJpdmF0ZSBfc3BlY3VsYXJNZXRob2Q6QmFzaWNTcGVjdWxhck1ldGhvZDtcblxuXHQvL3NjZW5lIG9iamVjdHNcblx0cHJpdmF0ZSBfYmx1ZUxpZ2h0OlBvaW50TGlnaHQ7XG5cdHByaXZhdGUgX3JlZExpZ2h0OlBvaW50TGlnaHQ7XG5cdHByaXZhdGUgX2RpcmVjdGlvbmFsTGlnaHQ6RGlyZWN0aW9uYWxMaWdodDtcblx0cHJpdmF0ZSBfbGlnaHRQaWNrZXI6U3RhdGljTGlnaHRQaWNrZXI7XG5cdHByaXZhdGUgX2hlYWRNb2RlbDpNZXNoO1xuXHRwcml2YXRlIF9hZHZhbmNlZE1ldGhvZDpCb29sZWFuID0gdHJ1ZTtcblxuXHQvL2xvYWRpbmcgdmFyaWFibGVzXG5cdHByaXZhdGUgX251bVRleHR1cmVzOm51bWJlciAvKnVpbnQqLyA9IDA7XG5cdHByaXZhdGUgX2N1cnJlbnRUZXh0dXJlOm51bWJlciAvKnVpbnQqLyA9IDA7XG5cdHByaXZhdGUgX246bnVtYmVyIC8qdWludCovID0gMDtcblx0cHJpdmF0ZSBfbG9hZGluZ1RleHQ6c3RyaW5nO1xuXG5cdC8vcm9vdCBmaWxlcGF0aCBmb3IgYXNzZXQgbG9hZGluZ1xuXHRwcml2YXRlIF9hc3NldHNSb290OnN0cmluZyA9IFwiYXNzZXRzL21vbnN0ZXJoZWFkL1wiO1xuXG5cdC8vbmF2aWdhdGlvbiB2YXJpYWJsZXNcblx0cHJpdmF0ZSBfbW92ZTpCb29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgX2xhc3RQYW5BbmdsZTpudW1iZXI7XG5cdHByaXZhdGUgX2xhc3RUaWx0QW5nbGU6bnVtYmVyO1xuXHRwcml2YXRlIF9sYXN0TW91c2VYOm51bWJlcjtcblx0cHJpdmF0ZSBfbGFzdE1vdXNlWTpudW1iZXI7XG5cdHByaXZhdGUgdGltZXI6UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXHRwcml2YXRlIHRpbWU6bnVtYmVyID0gMDtcblxuXHRwcml2YXRlIHBhcnNlQVdERGVsZWdhdGU6KGV2ZW50OkF3YXlFdmVudCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBwYXJzZUJpdG1hcERlbGVnYXRlOihldmVudDpBd2F5RXZlbnQpID0+IHZvaWQ7XG5cdHByaXZhdGUgbG9hZFByb2dyZXNzRGVsZWdhdGU6KGV2ZW50OlByb2dyZXNzRXZlbnQpID0+IHZvaWQ7XG5cdHByaXZhdGUgb25CaXRtYXBDb21wbGV0ZURlbGVnYXRlOihldmVudDpFdmVudCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBvbkFzc2V0Q29tcGxldGVEZWxlZ2F0ZTooZXZlbnQ6QXNzZXRFdmVudCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBvblJlc291cmNlQ29tcGxldGVEZWxlZ2F0ZTooZXZlbnQ6TG9hZGVyRXZlbnQpID0+IHZvaWQ7XG5cblx0cHJpdmF0ZSBfc2hhZG93UmFuZ2U6bnVtYmVyID0gMztcblx0cHJpdmF0ZSBfbGlnaHREaXJlY3Rpb246bnVtYmVyID0gMTIwKk1hdGguUEkvMTgwO1xuXHRwcml2YXRlIF9saWdodEVsZXZhdGlvbjpudW1iZXIgPSAzMCpNYXRoLlBJLzE4MDtcblxuXHQvKipcblx0ICogQ29uc3RydWN0b3Jcblx0ICovXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHbG9iYWwgaW5pdGlhbGlzZSBmdW5jdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBpbml0KClcblx0e1xuXHRcdHRoaXMuaW5pdEVuZ2luZSgpO1xuXHRcdHRoaXMuaW5pdExpZ2h0cygpO1xuXHRcdHRoaXMuaW5pdExpc3RlbmVycygpO1xuXG5cdFx0Ly9raWNrb2ZmIGFzc2V0IGxvYWRpbmdcblx0XHR0aGlzLl9uID0gMDtcblx0XHR0aGlzLl9udW1UZXh0dXJlcyA9IHRoaXMuX3RleHR1cmVTdHJpbmdzLmxlbmd0aDtcblx0XHR0aGlzLmxvYWQodGhpcy5fdGV4dHVyZVN0cmluZ3NbdGhpcy5fbl0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpc2UgdGhlIGVuZ2luZVxuXHQgKi9cblx0cHJpdmF0ZSBpbml0RW5naW5lKClcblx0e1xuXHRcdHRoaXMuX3NjZW5lID0gbmV3IFNjZW5lKCk7XG5cblx0XHR0aGlzLl9jYW1lcmEgPSBuZXcgQ2FtZXJhKCk7XG5cdFx0dGhpcy5fY2FtZXJhLnByb2plY3Rpb24ubmVhciA9IDIwO1xuXHRcdHRoaXMuX2NhbWVyYS5wcm9qZWN0aW9uLmZhciA9IDEwMDA7XG5cblx0XHR0aGlzLl92aWV3ID0gbmV3IFZpZXcobmV3IERlZmF1bHRSZW5kZXJlcihNZXRob2RSZW5kZXJlclBvb2wpLCB0aGlzLl9zY2VuZSwgdGhpcy5fY2FtZXJhKTtcblxuXHRcdC8vc2V0dXAgY29udHJvbGxlciB0byBiZSB1c2VkIG9uIHRoZSBjYW1lcmFcblx0XHR0aGlzLl9jYW1lcmFDb250cm9sbGVyID0gbmV3IEhvdmVyQ29udHJvbGxlcih0aGlzLl9jYW1lcmEsIG51bGwsIDIyNSwgMTAsIDgwMCk7XG5cdFx0dGhpcy5fY2FtZXJhQ29udHJvbGxlci55RmFjdG9yID0gMTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBsaWdodHMgaW4gYSBzY2VuZVxuXHQgKi9cblx0cHJpdmF0ZSBpbml0TGlnaHRzKClcblx0e1xuXHRcdC8vdmFyIGluaXRpYWxBemltdXRoOm51bWJlciA9IC42O1xuXHRcdC8vdmFyIGluaXRpYWxBcmM6bnVtYmVyID0gMjtcblx0XHR2YXIgeDpudW1iZXIgPSBNYXRoLnNpbih0aGlzLl9saWdodEVsZXZhdGlvbikqTWF0aC5jb3ModGhpcy5fbGlnaHREaXJlY3Rpb24pO1xuXHRcdHZhciB5Om51bWJlciA9IC1NYXRoLmNvcyh0aGlzLl9saWdodEVsZXZhdGlvbik7XG5cdFx0dmFyIHo6bnVtYmVyID0gTWF0aC5zaW4odGhpcy5fbGlnaHRFbGV2YXRpb24pKk1hdGguc2luKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKTtcblxuXHRcdC8vIG1haW4gbGlnaHQgY2FzdGluZyB0aGUgc2hhZG93c1xuXHRcdHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCh4LCB5LCB6KTtcblx0XHR0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LmNvbG9yID0gMHhmZmVlZGQ7XG5cdFx0dGhpcy5fZGlyZWN0aW9uYWxMaWdodC5hbWJpZW50ID0gMTtcblx0XHR0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LnNwZWN1bGFyID0gLjM7XG5cdFx0dGhpcy5fZGlyZWN0aW9uYWxMaWdodC5hbWJpZW50Q29sb3IgPSAweDEwMTAyNTtcblx0XHR0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LmNhc3RzU2hhZG93cyA9IHRydWU7XG5cdFx0KDxEaXJlY3Rpb25hbFNoYWRvd01hcHBlcj4gdGhpcy5fZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dNYXBwZXIpLmxpZ2h0T2Zmc2V0ID0gMTAwMDtcblx0XHR0aGlzLl9zY2VuZS5hZGRDaGlsZCh0aGlzLl9kaXJlY3Rpb25hbExpZ2h0KTtcblxuXHRcdC8vIGJsdWUgcG9pbnQgbGlnaHQgY29taW5nIGZyb20gdGhlIHJpZ2h0XG5cdFx0dGhpcy5fYmx1ZUxpZ2h0ID0gbmV3IFBvaW50TGlnaHQoKTtcblx0XHR0aGlzLl9ibHVlTGlnaHQuY29sb3IgPSAweDQwODBmZjtcblx0XHR0aGlzLl9ibHVlTGlnaHQueCA9IDMwMDA7XG5cdFx0dGhpcy5fYmx1ZUxpZ2h0LnogPSA3MDA7XG5cdFx0dGhpcy5fYmx1ZUxpZ2h0LnkgPSAyMDtcblx0XHR0aGlzLl9zY2VuZS5hZGRDaGlsZCh0aGlzLl9ibHVlTGlnaHQpO1xuXG5cdFx0Ly8gcmVkIGxpZ2h0IGNvbWluZyBmcm9tIHRoZSBsZWZ0XG5cdFx0dGhpcy5fcmVkTGlnaHQgPSBuZXcgUG9pbnRMaWdodCgpO1xuXHRcdHRoaXMuX3JlZExpZ2h0LmNvbG9yID0gMHg4MDIwMTA7XG5cdFx0dGhpcy5fcmVkTGlnaHQueCA9IC0yMDAwO1xuXHRcdHRoaXMuX3JlZExpZ2h0LnogPSA4MDA7XG5cdFx0dGhpcy5fcmVkTGlnaHQueSA9IC00MDA7XG5cdFx0dGhpcy5fc2NlbmUuYWRkQ2hpbGQodGhpcy5fcmVkTGlnaHQpO1xuXG5cdFx0dGhpcy5fbGlnaHRQaWNrZXIgPSBuZXcgU3RhdGljTGlnaHRQaWNrZXIoW3RoaXMuX2RpcmVjdGlvbmFsTGlnaHQsIHRoaXMuX2JsdWVMaWdodCwgdGhpcy5fcmVkTGlnaHRdKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpc2UgdGhlIGxpc3RlbmVyc1xuXHQgKi9cblx0cHJpdmF0ZSBpbml0TGlzdGVuZXJzKClcblx0e1xuXHRcdHdpbmRvdy5vbnJlc2l6ZSAgPSAoZXZlbnQ6VUlFdmVudCkgPT4gdGhpcy5vblJlc2l6ZShldmVudCk7XG5cblx0XHRkb2N1bWVudC5vbm1vdXNlZG93biA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VEb3duKGV2ZW50KTtcblx0XHRkb2N1bWVudC5vbm1vdXNldXAgPSAoZXZlbnQ6TW91c2VFdmVudCkgPT4gdGhpcy5vbk1vdXNlVXAoZXZlbnQpO1xuXHRcdGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHRoaXMub25Nb3VzZU1vdmUoZXZlbnQpO1xuXG5cdFx0dGhpcy5vblJlc2l6ZSgpO1xuXG5cdFx0dGhpcy5wYXJzZUFXRERlbGVnYXRlID0gKGV2ZW50OkF3YXlFdmVudCkgPT4gdGhpcy5wYXJzZUFXRChldmVudCk7XG5cdFx0dGhpcy5wYXJzZUJpdG1hcERlbGVnYXRlID0gKGV2ZW50OkF3YXlFdmVudCkgPT4gdGhpcy5wYXJzZUJpdG1hcChldmVudCk7XG5cdFx0dGhpcy5sb2FkUHJvZ3Jlc3NEZWxlZ2F0ZSA9IChldmVudDpQcm9ncmVzc0V2ZW50KSA9PiB0aGlzLmxvYWRQcm9ncmVzcyhldmVudCk7XG5cdFx0dGhpcy5vbkJpdG1hcENvbXBsZXRlRGVsZWdhdGUgPSAoZXZlbnQ6RXZlbnQpID0+IHRoaXMub25CaXRtYXBDb21wbGV0ZShldmVudCk7XG5cdFx0dGhpcy5vbkFzc2V0Q29tcGxldGVEZWxlZ2F0ZSA9IChldmVudDpBc3NldEV2ZW50KSA9PiB0aGlzLm9uQXNzZXRDb21wbGV0ZShldmVudCk7XG5cdFx0dGhpcy5vblJlc291cmNlQ29tcGxldGVEZWxlZ2F0ZSA9IChldmVudDpMb2FkZXJFdmVudCkgPT4gdGhpcy5vblJlc291cmNlQ29tcGxldGUoZXZlbnQpO1xuXG5cdFx0dGhpcy50aW1lciA9IG5ldyBSZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5vbkVudGVyRnJhbWUsIHRoaXMpO1xuXHRcdHRoaXMudGltZXIuc3RhcnQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGRpcmVjdGlvbmFsIGxpZ2h0c291cmNlXG5cdCAqL1xuXHRwcml2YXRlIHVwZGF0ZURpcmVjdGlvbigpXG5cdHtcblx0XHR0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LmRpcmVjdGlvbiA9IG5ldyBWZWN0b3IzRChcblx0XHRcdE1hdGguc2luKHRoaXMuX2xpZ2h0RWxldmF0aW9uKSpNYXRoLmNvcyh0aGlzLl9saWdodERpcmVjdGlvbiksXG5cdFx0XHQtTWF0aC5jb3ModGhpcy5fbGlnaHRFbGV2YXRpb24pLFxuXHRcdFx0TWF0aC5zaW4odGhpcy5fbGlnaHRFbGV2YXRpb24pKk1hdGguc2luKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKVxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZVJhbmdlKClcblx0e1xuXHRcdHRoaXMuX3NvZnRTaGFkb3dNZXRob2QucmFuZ2UgPSB0aGlzLl9zaGFkb3dSYW5nZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHbG9iYWwgYmluYXJ5IGZpbGUgbG9hZGVyXG5cdCAqL1xuXHRwcml2YXRlIGxvYWQodXJsOnN0cmluZylcblx0e1xuXHRcdHZhciBsb2FkZXI6VVJMTG9hZGVyID0gbmV3IFVSTExvYWRlcigpO1xuXHRcdHN3aXRjaCAodXJsLnN1YnN0cmluZyh1cmwubGVuZ3RoIC0gMykpIHtcblx0XHRcdGNhc2UgXCJBV0RcIjpcblx0XHRcdGNhc2UgXCJhd2RcIjpcblx0XHRcdFx0bG9hZGVyLmRhdGFGb3JtYXQgPSBVUkxMb2FkZXJEYXRhRm9ybWF0LkFSUkFZX0JVRkZFUjtcblx0XHRcdFx0dGhpcy5fbG9hZGluZ1RleHQgPSBcIkxvYWRpbmcgTW9kZWxcIjtcblx0XHRcdFx0bG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoQXdheUV2ZW50LkNPTVBMRVRFLCB0aGlzLnBhcnNlQVdERGVsZWdhdGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJwbmdcIjpcblx0XHRcdGNhc2UgXCJqcGdcIjpcblx0XHRcdFx0bG9hZGVyLmRhdGFGb3JtYXQgPSBVUkxMb2FkZXJEYXRhRm9ybWF0LkJMT0I7XG5cdFx0XHRcdHRoaXMuX2N1cnJlbnRUZXh0dXJlKys7XG5cdFx0XHRcdHRoaXMuX2xvYWRpbmdUZXh0ID0gXCJMb2FkaW5nIFRleHR1cmVzXCI7XG5cdFx0XHRcdGxvYWRlci5hZGRFdmVudExpc3RlbmVyKEF3YXlFdmVudC5DT01QTEVURSwgdGhpcy5wYXJzZUJpdG1hcERlbGVnYXRlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0bG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoUHJvZ3Jlc3NFdmVudC5QUk9HUkVTUywgdGhpcy5sb2FkUHJvZ3Jlc3NEZWxlZ2F0ZSk7XG5cdFx0bG9hZGVyLmxvYWQobmV3IFVSTFJlcXVlc3QodGhpcy5fYXNzZXRzUm9vdCt1cmwpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEaXNwbGF5IGN1cnJlbnQgbG9hZFxuXHQgKi9cblx0cHJpdmF0ZSBsb2FkUHJvZ3Jlc3MoZXZlbnQ6UHJvZ3Jlc3NFdmVudClcblx0e1xuXHRcdC8vVE9ETyB3b3JrIG91dCB3aHkgdGhlIGNhc3Rpbmcgb24gUHJvZ3Jlc3NFdmVudCBmYWlscyBmb3IgYnl0ZXNMb2FkZWQgYW5kIGJ5dGVzVG90YWwgcHJvcGVydGllc1xuXHRcdHZhciBQOm51bWJlciA9IE1hdGguZmxvb3IoZXZlbnRbXCJieXRlc0xvYWRlZFwiXSAvIGV2ZW50W1wiYnl0ZXNUb3RhbFwiXSAqIDEwMCk7XG5cdFx0aWYgKFAgIT0gMTAwKSB7XG5cdFx0XHRjb25zb2xlLmxvZyh0aGlzLl9sb2FkaW5nVGV4dCArICdcXG4nICsgKCh0aGlzLl9sb2FkaW5nVGV4dCA9PSBcIkxvYWRpbmcgTW9kZWxcIik/IE1hdGguZmxvb3IoKGV2ZW50W1wiYnl0ZXNMb2FkZWRcIl0gLyAxMDI0KSA8PCAwKSArICdrYiB8ICcgKyBNYXRoLmZsb29yKChldmVudFtcImJ5dGVzVG90YWxcIl0gLyAxMDI0KSA8PCAwKSArICdrYicgOiB0aGlzLl9jdXJyZW50VGV4dHVyZSArICcgfCAnICsgdGhpcy5fbnVtVGV4dHVyZXMpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUGFyc2VzIHRoZSBCaXRtYXAgZmlsZVxuXHQgKi9cblx0cHJpdmF0ZSBwYXJzZUJpdG1hcChldmVudDpBd2F5RXZlbnQpXG5cdHtcblx0XHR2YXIgdXJsTG9hZGVyOlVSTExvYWRlciA9IDxVUkxMb2FkZXI+IGV2ZW50LnRhcmdldDtcblx0XHR2YXIgaW1hZ2U6SFRNTEltYWdlRWxlbWVudCA9IFBhcnNlclV0aWxzLmJsb2JUb0ltYWdlKHVybExvYWRlci5kYXRhKTtcblx0XHRpbWFnZS5vbmxvYWQgPSB0aGlzLm9uQml0bWFwQ29tcGxldGVEZWxlZ2F0ZTtcblx0XHR1cmxMb2FkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBd2F5RXZlbnQuQ09NUExFVEUsIHRoaXMucGFyc2VCaXRtYXBEZWxlZ2F0ZSk7XG5cdFx0dXJsTG9hZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoUHJvZ3Jlc3NFdmVudC5QUk9HUkVTUywgdGhpcy5sb2FkUHJvZ3Jlc3NEZWxlZ2F0ZSk7XG5cdFx0dXJsTG9hZGVyID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBQYXJzZXMgdGhlIEFXRCBmaWxlXG5cdCAqL1xuXHRwcml2YXRlIHBhcnNlQVdEKGV2ZW50OkF3YXlFdmVudClcblx0e1xuXHRcdGNvbnNvbGUubG9nKFwiUGFyc2luZyBEYXRhXCIpO1xuXHRcdHZhciB1cmxMb2FkZXI6VVJMTG9hZGVyID0gPFVSTExvYWRlcj4gZXZlbnQudGFyZ2V0O1xuXG5cdFx0Ly9zZXR1cCBwYXJzZXJcblx0XHRBc3NldExpYnJhcnkuYWRkRXZlbnRMaXN0ZW5lcihBc3NldEV2ZW50LkFTU0VUX0NPTVBMRVRFLCB0aGlzLm9uQXNzZXRDb21wbGV0ZURlbGVnYXRlKTtcblx0XHRBc3NldExpYnJhcnkuYWRkRXZlbnRMaXN0ZW5lcihMb2FkZXJFdmVudC5SRVNPVVJDRV9DT01QTEVURSwgdGhpcy5vblJlc291cmNlQ29tcGxldGVEZWxlZ2F0ZSk7XG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWREYXRhKHVybExvYWRlci5kYXRhLCBuZXcgQXNzZXRMb2FkZXJDb250ZXh0KGZhbHNlKSwgbnVsbCwgbmV3IEFXRFBhcnNlcigpKTtcblxuXHRcdHVybExvYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKFByb2dyZXNzRXZlbnQuUFJPR1JFU1MsIHRoaXMubG9hZFByb2dyZXNzRGVsZWdhdGUpO1xuXHRcdHVybExvYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKEF3YXlFdmVudC5DT01QTEVURSwgdGhpcy5wYXJzZUFXRERlbGVnYXRlKTtcblx0XHR1cmxMb2FkZXIgPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpc3RlbmVyIGZvciBiaXRtYXAgY29tcGxldGUgZXZlbnQgb24gbG9hZGVyXG5cdCAqL1xuXHRwcml2YXRlIG9uQml0bWFwQ29tcGxldGUoZXZlbnQ6RXZlbnQpXG5cdHtcblx0XHR2YXIgaW1hZ2U6SFRNTEltYWdlRWxlbWVudCA9IDxIVE1MSW1hZ2VFbGVtZW50PiBldmVudC50YXJnZXQ7XG5cdFx0aW1hZ2Uub25sb2FkID0gbnVsbDtcblxuXHRcdC8vY3JlYXRlIGJpdG1hcCB0ZXh0dXJlIGluIGRpY3Rpb25hcnlcblx0XHRpZiAoIXRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3RoaXMuX3RleHR1cmVTdHJpbmdzW3RoaXMuX25dXSlcblx0XHRcdHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3RoaXMuX3RleHR1cmVTdHJpbmdzW3RoaXMuX25dXSA9ICh0aGlzLl9uID09IDEpPyBuZXcgU3BlY3VsYXJCaXRtYXBUZXh0dXJlKENhc3QuYml0bWFwRGF0YShpbWFnZSkpIDogbmV3IEltYWdlVGV4dHVyZShpbWFnZSk7XG5cblx0XHR0aGlzLl9uKys7XG5cblx0XHQvL3N3aXRjaCB0byBuZXh0IHRldHVyZSBzZXRcblx0XHRpZiAodGhpcy5fbiA8IHRoaXMuX3RleHR1cmVTdHJpbmdzLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5sb2FkKHRoaXMuX3RleHR1cmVTdHJpbmdzW3RoaXMuX25dKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sb2FkKFwiTW9uc3RlckhlYWQuYXdkXCIpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBOYXZpZ2F0aW9uIGFuZCByZW5kZXIgbG9vcFxuXHQgKi9cblx0cHJpdmF0ZSBvbkVudGVyRnJhbWUoZHQ6bnVtYmVyKVxuXHR7XG5cdFx0dGhpcy5fdmlldy5yZW5kZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaXN0ZW5lciBmb3IgYXNzZXQgY29tcGxldGUgZXZlbnQgb24gbG9hZGVyXG5cdCAqL1xuXHRwcml2YXRlIG9uQXNzZXRDb21wbGV0ZShldmVudDpBc3NldEV2ZW50KVxuXHR7XG5cdFx0aWYgKGV2ZW50LmFzc2V0LmlzQXNzZXQoTWVzaCkpIHtcblx0XHRcdHRoaXMuX2hlYWRNb2RlbCA9IDxNZXNoPiBldmVudC5hc3NldDtcblx0XHRcdHRoaXMuX2hlYWRNb2RlbC5nZW9tZXRyeS5zY2FsZSg0KTtcblx0XHRcdHRoaXMuX2hlYWRNb2RlbC55ID0gLTIwO1xuXHRcdFx0dGhpcy5fc2NlbmUuYWRkQ2hpbGQodGhpcy5faGVhZE1vZGVsKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVHJpZ2dlcmVkIG9uY2UgYWxsIHJlc291cmNlcyBhcmUgbG9hZGVkXG5cdCAqL1xuXHRwcml2YXRlIG9uUmVzb3VyY2VDb21wbGV0ZShlOkxvYWRlckV2ZW50KVxuXHR7XG5cdFx0QXNzZXRMaWJyYXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoQXNzZXRFdmVudC5BU1NFVF9DT01QTEVURSwgdGhpcy5vbkFzc2V0Q29tcGxldGVEZWxlZ2F0ZSk7XG5cdFx0QXNzZXRMaWJyYXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoTG9hZGVyRXZlbnQuUkVTT1VSQ0VfQ09NUExFVEUsIHRoaXMub25SZXNvdXJjZUNvbXBsZXRlRGVsZWdhdGUpO1xuXG5cdFx0Ly9zZXR1cCBjdXN0b20gbXVsdGlwYXNzIG1hdGVyaWFsXG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsID0gbmV3IE1ldGhvZE1hdGVyaWFsKHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W1wibW9uc3RlcmhlYWRfZGlmZnVzZS5qcGdcIl0pO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5tb2RlID0gTWV0aG9kTWF0ZXJpYWxNb2RlLk1VTFRJX1BBU1M7XG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsLm1pcG1hcCA9IGZhbHNlO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5ub3JtYWxNYXAgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtcIm1vbnN0ZXJoZWFkX25vcm1hbHMuanBnXCJdO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5saWdodFBpY2tlciA9IHRoaXMuX2xpZ2h0UGlja2VyO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5hbWJpZW50Q29sb3IgPSAweDMwMzA0MDtcblxuXHRcdC8vIGNyZWF0ZSBzb2Z0IHNoYWRvd3Mgd2l0aCBhIGxvdCBvZiBzYW1wbGVzIGZvciBiZXN0IHJlc3VsdHMuIFdpdGggdGhlIGN1cnJlbnQgbWV0aG9kIHNldHVwLCBhbnkgbW9yZSBzYW1wbGVzIHdvdWxkIGZhaWwgdG8gY29tcGlsZVxuXHRcdHRoaXMuX3NvZnRTaGFkb3dNZXRob2QgPSBuZXcgU2hhZG93U29mdE1ldGhvZCh0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LCAyMCk7XG5cdFx0dGhpcy5fc29mdFNoYWRvd01ldGhvZC5yYW5nZSA9IHRoaXMuX3NoYWRvd1JhbmdlO1x0Ly8gdGhlIHNhbXBsZSByYWRpdXMgZGVmaW5lcyB0aGUgc29mdG5lc3Mgb2YgdGhlIHNoYWRvd3Ncblx0XHR0aGlzLl9zb2Z0U2hhZG93TWV0aG9kLmVwc2lsb24gPSAuMTtcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwuc2hhZG93TWV0aG9kID0gdGhpcy5fc29mdFNoYWRvd01ldGhvZDtcblxuXHRcdC8vIGNyZWF0ZSBzcGVjdWxhciByZWZsZWN0aW9ucyB0aGF0IGFyZSBzdHJvbmdlciBmcm9tIHRoZSBzaWRlc1xuXHRcdHRoaXMuX2ZyZXNuZWxNZXRob2QgPSBuZXcgU3BlY3VsYXJGcmVzbmVsTWV0aG9kKHRydWUpO1xuXHRcdHRoaXMuX2ZyZXNuZWxNZXRob2QuZnJlc25lbFBvd2VyID0gMztcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwuc3BlY3VsYXJNZXRob2QgPSB0aGlzLl9mcmVzbmVsTWV0aG9kO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5zcGVjdWxhck1hcCA9IHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W1wibW9uc3RlcmhlYWRfc3BlY3VsYXIuanBnXCJdO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5zcGVjdWxhciA9IDM7XG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsLmdsb3NzID0gMTA7XG5cblx0XHQvL2FwcGx5IG1hdGVyaWFsIHRvIGhlYWQgbW9kZWxcblx0XHR2YXIgbGVuOm51bWJlciA9IHRoaXMuX2hlYWRNb2RlbC5zdWJNZXNoZXMubGVuZ3RoO1xuXHRcdGZvciAodmFyIGk6bnVtYmVyID0gMDsgaSA8IGxlbjsgaSsrKVxuXHRcdFx0dGhpcy5faGVhZE1vZGVsLnN1Yk1lc2hlc1tpXS5tYXRlcmlhbCA9IHRoaXMuX2hlYWRNYXRlcmlhbDtcblxuXHRcdEFzc2V0TGlicmFyeS5hZGRFdmVudExpc3RlbmVyKExvYWRlckV2ZW50LlJFU09VUkNFX0NPTVBMRVRFLCAoZXZlbnQ6TG9hZGVyRXZlbnQpID0+IHRoaXMub25FeHRyYVJlc291cmNlQ29tcGxldGUoZXZlbnQpKTtcblxuXHRcdC8vZGlmZnVzZSBncmFkaWVudCB0ZXh0dXJlXG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvZGlmZnVzZUdyYWRpZW50LmpwZ1wiKSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgb25jZSBleHRyYSByZXNvdXJjZXMgYXJlIGxvYWRlZFxuXHQgKi9cblx0cHJpdmF0ZSBvbkV4dHJhUmVzb3VyY2VDb21wbGV0ZShldmVudDpMb2FkZXJFdmVudClcblx0e1xuXHRcdHN3aXRjaCAoZXZlbnQudXJsKSB7XG5cdFx0XHRjYXNlIFwiYXNzZXRzL2RpZmZ1c2VHcmFkaWVudC5qcGdcIiA6XG5cdFx0XHRcdC8vIHZlcnkgbG93LWNvc3QgYW5kIGNydWRlIHN1YnN1cmZhY2Ugc2NhdHRlcmluZyBmb3IgZGlmZnVzZSBzaGFkaW5nXG5cdFx0XHRcdC8vdGhpcy5faGVhZE1hdGVyaWFsLmRpZmZ1c2VNZXRob2QgPSBuZXcgRGlmZnVzZUdyYWRpZW50TWV0aG9kKDxJbWFnZVRleHR1cmU+IGV2ZW50LmFzc2V0c1sgMCBdKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIGRvd24gbGlzdGVuZXIgZm9yIG5hdmlnYXRpb25cblx0ICovXG5cdHByaXZhdGUgb25Nb3VzZURvd24oZXZlbnQ6TW91c2VFdmVudClcblx0e1xuXHRcdHRoaXMuX2xhc3RQYW5BbmdsZSA9IHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIucGFuQW5nbGU7XG5cdFx0dGhpcy5fbGFzdFRpbHRBbmdsZSA9IHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIudGlsdEFuZ2xlO1xuXHRcdHRoaXMuX2xhc3RNb3VzZVggPSBldmVudC5jbGllbnRYO1xuXHRcdHRoaXMuX2xhc3RNb3VzZVkgPSBldmVudC5jbGllbnRZO1xuXHRcdHRoaXMuX21vdmUgPSB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIHVwIGxpc3RlbmVyIGZvciBuYXZpZ2F0aW9uXG5cdCAqL1xuXHRwcml2YXRlIG9uTW91c2VVcChldmVudDpNb3VzZUV2ZW50KVxuXHR7XG5cdFx0dGhpcy5fbW92ZSA9IGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIG1vdmUgbGlzdGVuZXIgZm9yIG1vdXNlTG9ja1xuXHQgKi9cblx0cHJpdmF0ZSBvbk1vdXNlTW92ZShldmVudDpNb3VzZUV2ZW50KVxuXHR7XG5cdFx0aWYgKHRoaXMuX21vdmUpIHtcblx0XHRcdHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIucGFuQW5nbGUgPSAwLjMqKGV2ZW50LmNsaWVudFggLSB0aGlzLl9sYXN0TW91c2VYKSArIHRoaXMuX2xhc3RQYW5BbmdsZTtcblx0XHRcdHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIudGlsdEFuZ2xlID0gMC4zKihldmVudC5jbGllbnRZIC0gdGhpcy5fbGFzdE1vdXNlWSkgKyB0aGlzLl9sYXN0VGlsdEFuZ2xlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiB3aW5kb3cgbGlzdGVuZXIgZm9yIHJlc2l6ZSBldmVudHNcblx0ICovXG5cdHByaXZhdGUgb25SZXNpemUoZXZlbnQ6VUlFdmVudCA9IG51bGwpXG5cdHtcblx0XHR0aGlzLl92aWV3LnkgPSAwO1xuXHRcdHRoaXMuX3ZpZXcueCA9IDA7XG5cdFx0dGhpcy5fdmlldy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRcdHRoaXMuX3ZpZXcuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHR9XG59XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKVxue1xuXHRuZXcgSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZygpO1xufSJdfQ==