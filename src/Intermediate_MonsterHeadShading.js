/*

Monster Head example in Away3d

Demonstrates:

How to use the AssetLibrary to load an internal AWD model.
How to set custom material methods on a model.
How to setup soft shadows and multiple lightsources with a multipass texture
How to use a diffuse gradient method as a cheap way to simulate sub-surface scattering

Code by Rob Bateman & David Lenaerts
rob@infiniteturtles.co.uk
http://www.infiniteturtles.co.uk
david.lenaerts@gmail.com
http://www.derschmale.com

This code is distributed under the MIT License

Copyright (c) The Away Foundation http://www.theawayfoundation.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var Scene = require("awayjs-core/lib/containers/Scene");
var View = require("awayjs-core/lib/containers/View");
var HoverController = require("awayjs-core/lib/controllers/HoverController");
var Camera = require("awayjs-core/lib/entities/Camera");
var DirectionalLight = require("awayjs-core/lib/entities/DirectionalLight");
var PointLight = require("awayjs-core/lib/entities/PointLight");
var AssetEvent = require("awayjs-core/lib/events/AssetEvent");
var AwayEvent = require("awayjs-core/lib/events/Event");
var LoaderEvent = require("awayjs-core/lib/events/LoaderEvent");
var ProgressEvent = require("awayjs-core/lib/events/ProgressEvent");
var Vector3D = require("awayjs-core/lib/core/geom/Vector3D");
var AssetLibrary = require("awayjs-core/lib/core/library/AssetLibrary");
var AssetLoaderContext = require("awayjs-core/lib/core/library/AssetLoaderContext");
var AssetType = require("awayjs-core/lib/core/library/AssetType");
var URLLoader = require("awayjs-core/lib/core/net/URLLoader");
var URLLoaderDataFormat = require("awayjs-core/lib/core/net/URLLoaderDataFormat");
var URLRequest = require("awayjs-core/lib/core/net/URLRequest");
var TriangleMethodMaterial = require("awayjs-stagegl/lib/materials/TriangleMethodMaterial");
var TriangleMaterialMode = require("awayjs-stagegl/lib/materials/TriangleMaterialMode");
var StaticLightPicker = require("awayjs-core/lib/materials/lightpickers/StaticLightPicker");
var ParserUtils = require("awayjs-core/lib/parsers/ParserUtils");
var DefaultRenderer = require("awayjs-stagegl/lib/core/render/DefaultRenderer");
var ImageTexture = require("awayjs-core/lib/textures/ImageTexture");
var SpecularBitmapTexture = require("awayjs-core/lib/textures/SpecularBitmapTexture");
var Cast = require("awayjs-core/lib/utils/Cast");
var RequestAnimationFrame = require("awayjs-core/lib/utils/RequestAnimationFrame");
var SpecularFresnelMethod = require("awayjs-renderergl/lib/materials/methods/SpecularFresnelMethod");
var ShadowSoftMethod = require("awayjs-renderergl/lib/materials/methods/ShadowSoftMethod");
var AWDParser = require("awayjs-renderergl/lib/parsers/AWDParser");
var Intermediate_MonsterHeadShading = (function () {
    /**
     * Constructor
     */
    function Intermediate_MonsterHeadShading() {
        //textures
        this._textureStrings = Array("monsterhead_diffuse.jpg", "monsterhead_specular.jpg", "monsterhead_normals.jpg");
        this._textureDictionary = new Object();
        this._advancedMethod = true;
        //loading variables
        this._numTextures = 0;
        this._currentTexture = 0;
        this._n = 0;
        //root filepath for asset loading
        this._assetsRoot = "assets/monsterhead/";
        //navigation variables
        this._move = false;
        this.time = 0;
        this._shadowRange = 3;
        this._lightDirection = 120 * Math.PI / 180;
        this._lightElevation = 30 * Math.PI / 180;
        this.init();
    }
    /**
     * Global initialise function
     */
    Intermediate_MonsterHeadShading.prototype.init = function () {
        this.initEngine();
        this.initLights();
        this.initListeners();
        //kickoff asset loading
        this._n = 0;
        this._numTextures = this._textureStrings.length;
        this.load(this._textureStrings[this._n]);
    };
    /**
     * Initialise the engine
     */
    Intermediate_MonsterHeadShading.prototype.initEngine = function () {
        this._scene = new Scene();
        this._camera = new Camera();
        this._camera.projection.near = 20;
        this._camera.projection.far = 1000;
        this._view = new View(new DefaultRenderer(), this._scene, this._camera);
        //setup controller to be used on the camera
        this._cameraController = new HoverController(this._camera, null, 225, 10, 800);
        this._cameraController.yFactor = 1;
    };
    /**
     * Initialise the lights in a scene
     */
    Intermediate_MonsterHeadShading.prototype.initLights = function () {
        //var initialAzimuth:number = .6;
        //var initialArc:number = 2;
        var x = Math.sin(this._lightElevation) * Math.cos(this._lightDirection);
        var y = -Math.cos(this._lightElevation);
        var z = Math.sin(this._lightElevation) * Math.sin(this._lightDirection);
        // main light casting the shadows
        this._directionalLight = new DirectionalLight(x, y, z);
        this._directionalLight.color = 0xffeedd;
        this._directionalLight.ambient = 1;
        this._directionalLight.specular = .3;
        this._directionalLight.ambientColor = 0x101025;
        this._directionalLight.castsShadows = true;
        this._directionalLight.shadowMapper.lightOffset = 1000;
        this._scene.addChild(this._directionalLight);
        // blue point light coming from the right
        this._blueLight = new PointLight();
        this._blueLight.color = 0x4080ff;
        this._blueLight.x = 3000;
        this._blueLight.z = 700;
        this._blueLight.y = 20;
        this._scene.addChild(this._blueLight);
        // red light coming from the left
        this._redLight = new PointLight();
        this._redLight.color = 0x802010;
        this._redLight.x = -2000;
        this._redLight.z = 800;
        this._redLight.y = -400;
        this._scene.addChild(this._redLight);
        this._lightPicker = new StaticLightPicker([this._directionalLight, this._blueLight, this._redLight]);
    };
    /**
     * Initialise the listeners
     */
    Intermediate_MonsterHeadShading.prototype.initListeners = function () {
        var _this = this;
        window.onresize = function (event) { return _this.onResize(event); };
        document.onmousedown = function (event) { return _this.onMouseDown(event); };
        document.onmouseup = function (event) { return _this.onMouseUp(event); };
        document.onmousemove = function (event) { return _this.onMouseMove(event); };
        this.onResize();
        this.parseAWDDelegate = function (event) { return _this.parseAWD(event); };
        this.parseBitmapDelegate = function (event) { return _this.parseBitmap(event); };
        this.loadProgressDelegate = function (event) { return _this.loadProgress(event); };
        this.onBitmapCompleteDelegate = function (event) { return _this.onBitmapComplete(event); };
        this.onAssetCompleteDelegate = function (event) { return _this.onAssetComplete(event); };
        this.onResourceCompleteDelegate = function (event) { return _this.onResourceComplete(event); };
        this.timer = new RequestAnimationFrame(this.onEnterFrame, this);
        this.timer.start();
    };
    /**
     * Updates the direction of the directional lightsource
     */
    Intermediate_MonsterHeadShading.prototype.updateDirection = function () {
        this._directionalLight.direction = new Vector3D(Math.sin(this._lightElevation) * Math.cos(this._lightDirection), -Math.cos(this._lightElevation), Math.sin(this._lightElevation) * Math.sin(this._lightDirection));
    };
    Intermediate_MonsterHeadShading.prototype.updateRange = function () {
        this._softShadowMethod.range = this._shadowRange;
    };
    /**
     * Global binary file loader
     */
    Intermediate_MonsterHeadShading.prototype.load = function (url) {
        var loader = new URLLoader();
        switch (url.substring(url.length - 3)) {
            case "AWD":
            case "awd":
                loader.dataFormat = URLLoaderDataFormat.ARRAY_BUFFER;
                this._loadingText = "Loading Model";
                loader.addEventListener(AwayEvent.COMPLETE, this.parseAWDDelegate);
                break;
            case "png":
            case "jpg":
                loader.dataFormat = URLLoaderDataFormat.BLOB;
                this._currentTexture++;
                this._loadingText = "Loading Textures";
                loader.addEventListener(AwayEvent.COMPLETE, this.parseBitmapDelegate);
                break;
        }
        loader.addEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        loader.load(new URLRequest(this._assetsRoot + url));
    };
    /**
     * Display current load
     */
    Intermediate_MonsterHeadShading.prototype.loadProgress = function (event) {
        //TODO work out why the casting on ProgressEvent fails for bytesLoaded and bytesTotal properties
        var P = Math.floor(event["bytesLoaded"] / event["bytesTotal"] * 100);
        if (P != 100) {
            console.log(this._loadingText + '\n' + ((this._loadingText == "Loading Model") ? Math.floor((event["bytesLoaded"] / 1024) << 0) + 'kb | ' + Math.floor((event["bytesTotal"] / 1024) << 0) + 'kb' : this._currentTexture + ' | ' + this._numTextures));
        }
    };
    /**
     * Parses the Bitmap file
     */
    Intermediate_MonsterHeadShading.prototype.parseBitmap = function (event) {
        var urlLoader = event.target;
        var image = ParserUtils.blobToImage(urlLoader.data);
        image.onload = this.onBitmapCompleteDelegate;
        urlLoader.removeEventListener(AwayEvent.COMPLETE, this.parseBitmapDelegate);
        urlLoader.removeEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        urlLoader = null;
    };
    /**
     * Parses the AWD file
     */
    Intermediate_MonsterHeadShading.prototype.parseAWD = function (event) {
        console.log("Parsing Data");
        var urlLoader = event.target;
        //setup parser
        AssetLibrary.addEventListener(AssetEvent.ASSET_COMPLETE, this.onAssetCompleteDelegate);
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, this.onResourceCompleteDelegate);
        AssetLibrary.loadData(urlLoader.data, new AssetLoaderContext(false), null, new AWDParser());
        urlLoader.removeEventListener(ProgressEvent.PROGRESS, this.loadProgressDelegate);
        urlLoader.removeEventListener(AwayEvent.COMPLETE, this.parseAWDDelegate);
        urlLoader = null;
    };
    /**
     * Listener for bitmap complete event on loader
     */
    Intermediate_MonsterHeadShading.prototype.onBitmapComplete = function (event) {
        var image = event.target;
        image.onload = null;
        //create bitmap texture in dictionary
        if (!this._textureDictionary[this._textureStrings[this._n]])
            this._textureDictionary[this._textureStrings[this._n]] = (this._n == 1) ? new SpecularBitmapTexture(Cast.bitmapData(image)) : new ImageTexture(image, true);
        this._n++;
        //switch to next teture set
        if (this._n < this._textureStrings.length) {
            this.load(this._textureStrings[this._n]);
        }
        else {
            this.load("MonsterHead.awd");
        }
    };
    /**
     * Navigation and render loop
     */
    Intermediate_MonsterHeadShading.prototype.onEnterFrame = function (dt) {
        this._view.render();
    };
    /**
     * Listener for asset complete event on loader
     */
    Intermediate_MonsterHeadShading.prototype.onAssetComplete = function (event) {
        if (event.asset.assetType == AssetType.MESH) {
            this._headModel = event.asset;
            this._headModel.geometry.scale(4);
            this._headModel.y = -20;
            this._scene.addChild(this._headModel);
        }
    };
    /**
     * Triggered once all resources are loaded
     */
    Intermediate_MonsterHeadShading.prototype.onResourceComplete = function (e) {
        var _this = this;
        AssetLibrary.removeEventListener(AssetEvent.ASSET_COMPLETE, this.onAssetCompleteDelegate);
        AssetLibrary.removeEventListener(LoaderEvent.RESOURCE_COMPLETE, this.onResourceCompleteDelegate);
        //setup custom multipass material
        this._headMaterial = new TriangleMethodMaterial(this._textureDictionary["monsterhead_diffuse.jpg"]);
        this._headMaterial.materialMode = TriangleMaterialMode.MULTI_PASS;
        this._headMaterial.mipmap = false;
        this._headMaterial.normalMap = this._textureDictionary["monsterhead_normals.jpg"];
        this._headMaterial.lightPicker = this._lightPicker;
        this._headMaterial.ambientColor = 0x303040;
        // create soft shadows with a lot of samples for best results. With the current method setup, any more samples would fail to compile
        this._softShadowMethod = new ShadowSoftMethod(this._directionalLight, 20);
        this._softShadowMethod.range = this._shadowRange; // the sample radius defines the softness of the shadows
        this._softShadowMethod.epsilon = .1;
        this._headMaterial.shadowMethod = this._softShadowMethod;
        // create specular reflections that are stronger from the sides
        this._fresnelMethod = new SpecularFresnelMethod(true);
        this._fresnelMethod.fresnelPower = 3;
        this._headMaterial.specularMethod = this._fresnelMethod;
        this._headMaterial.specularMap = this._textureDictionary["monsterhead_specular.jpg"];
        this._headMaterial.specular = 3;
        this._headMaterial.gloss = 10;
        //apply material to head model
        var len = this._headModel.subMeshes.length;
        for (var i = 0; i < len; i++)
            this._headModel.subMeshes[i].material = this._headMaterial;
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, function (event) { return _this.onExtraResourceComplete(event); });
        //diffuse gradient texture
        AssetLibrary.load(new URLRequest("assets/diffuseGradient.jpg"));
    };
    /**
     * Triggered once extra resources are loaded
     */
    Intermediate_MonsterHeadShading.prototype.onExtraResourceComplete = function (event) {
        switch (event.url) {
            case "assets/diffuseGradient.jpg":
                break;
        }
    };
    /**
     * Mouse down listener for navigation
     */
    Intermediate_MonsterHeadShading.prototype.onMouseDown = function (event) {
        this._lastPanAngle = this._cameraController.panAngle;
        this._lastTiltAngle = this._cameraController.tiltAngle;
        this._lastMouseX = event.clientX;
        this._lastMouseY = event.clientY;
        this._move = true;
    };
    /**
     * Mouse up listener for navigation
     */
    Intermediate_MonsterHeadShading.prototype.onMouseUp = function (event) {
        this._move = false;
    };
    /**
     * Mouse move listener for mouseLock
     */
    Intermediate_MonsterHeadShading.prototype.onMouseMove = function (event) {
        if (this._move) {
            this._cameraController.panAngle = 0.3 * (event.clientX - this._lastMouseX) + this._lastPanAngle;
            this._cameraController.tiltAngle = 0.3 * (event.clientY - this._lastMouseY) + this._lastTiltAngle;
        }
    };
    /**
     * window listener for resize events
     */
    Intermediate_MonsterHeadShading.prototype.onResize = function (event) {
        if (event === void 0) { event = null; }
        this._view.y = 0;
        this._view.x = 0;
        this._view.width = window.innerWidth;
        this._view.height = window.innerHeight;
    };
    return Intermediate_MonsterHeadShading;
})();
window.onload = function () {
    new Intermediate_MonsterHeadShading();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnRzIl0sIm5hbWVzIjpbIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmciLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLmNvbnN0cnVjdG9yIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0IiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0RW5naW5lIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0TGlnaHRzIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5pbml0TGlzdGVuZXJzIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy51cGRhdGVEaXJlY3Rpb24iLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnVwZGF0ZVJhbmdlIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5sb2FkIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5sb2FkUHJvZ3Jlc3MiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLnBhcnNlQml0bWFwIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5wYXJzZUFXRCIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25CaXRtYXBDb21wbGV0ZSIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25FbnRlckZyYW1lIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vbkFzc2V0Q29tcGxldGUiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uUmVzb3VyY2VDb21wbGV0ZSIsIkludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmcub25FeHRyYVJlc291cmNlQ29tcGxldGUiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uTW91c2VEb3duIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vbk1vdXNlVXAiLCJJbnRlcm1lZGlhdGVfTW9uc3RlckhlYWRTaGFkaW5nLm9uTW91c2VNb3ZlIiwiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5vblJlc2l6ZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXVDRTtBQUVGLElBQU8sS0FBSyxXQUFnQixrQ0FBa0MsQ0FBQyxDQUFDO0FBQ2hFLElBQU8sSUFBSSxXQUFpQixpQ0FBaUMsQ0FBQyxDQUFDO0FBQy9ELElBQU8sZUFBZSxXQUFjLDZDQUE2QyxDQUFDLENBQUM7QUFDbkYsSUFBTyxNQUFNLFdBQWdCLGlDQUFpQyxDQUFDLENBQUM7QUFDaEUsSUFBTyxnQkFBZ0IsV0FBYywyQ0FBMkMsQ0FBQyxDQUFDO0FBRWxGLElBQU8sVUFBVSxXQUFlLHFDQUFxQyxDQUFDLENBQUM7QUFDdkUsSUFBTyxVQUFVLFdBQWUsbUNBQW1DLENBQUMsQ0FBQztBQUNyRSxJQUFPLFNBQVMsV0FBZSw4QkFBOEIsQ0FBQyxDQUFDO0FBQy9ELElBQU8sV0FBVyxXQUFlLG9DQUFvQyxDQUFDLENBQUM7QUFDdkUsSUFBTyxhQUFhLFdBQWMsc0NBQXNDLENBQUMsQ0FBQztBQUMxRSxJQUFPLFFBQVEsV0FBZ0Isb0NBQW9DLENBQUMsQ0FBQztBQUNyRSxJQUFPLFlBQVksV0FBZSwyQ0FBMkMsQ0FBQyxDQUFDO0FBQy9FLElBQU8sa0JBQWtCLFdBQWEsaURBQWlELENBQUMsQ0FBQztBQUN6RixJQUFPLFNBQVMsV0FBZSx3Q0FBd0MsQ0FBQyxDQUFDO0FBQ3pFLElBQU8sU0FBUyxXQUFlLG9DQUFvQyxDQUFDLENBQUM7QUFDckUsSUFBTyxtQkFBbUIsV0FBYSw4Q0FBOEMsQ0FBQyxDQUFDO0FBQ3ZGLElBQU8sVUFBVSxXQUFlLHFDQUFxQyxDQUFDLENBQUM7QUFDdkUsSUFBTyxzQkFBc0IsV0FBWSxxREFBcUQsQ0FBQyxDQUFDO0FB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Q0FBQztBQUN2QyxDQUFDLENBQUEiLCJmaWxlIjoiSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXNDb250ZW50IjpbIu+7vy8qXG5cbk1vbnN0ZXIgSGVhZCBleGFtcGxlIGluIEF3YXkzZFxuXG5EZW1vbnN0cmF0ZXM6XG5cbkhvdyB0byB1c2UgdGhlIEFzc2V0TGlicmFyeSB0byBsb2FkIGFuIGludGVybmFsIEFXRCBtb2RlbC5cbkhvdyB0byBzZXQgY3VzdG9tIG1hdGVyaWFsIG1ldGhvZHMgb24gYSBtb2RlbC5cbkhvdyB0byBzZXR1cCBzb2Z0IHNoYWRvd3MgYW5kIG11bHRpcGxlIGxpZ2h0c291cmNlcyB3aXRoIGEgbXVsdGlwYXNzIHRleHR1cmVcbkhvdyB0byB1c2UgYSBkaWZmdXNlIGdyYWRpZW50IG1ldGhvZCBhcyBhIGNoZWFwIHdheSB0byBzaW11bGF0ZSBzdWItc3VyZmFjZSBzY2F0dGVyaW5nXG5cbkNvZGUgYnkgUm9iIEJhdGVtYW4gJiBEYXZpZCBMZW5hZXJ0c1xucm9iQGluZmluaXRldHVydGxlcy5jby51a1xuaHR0cDovL3d3dy5pbmZpbml0ZXR1cnRsZXMuY28udWtcbmRhdmlkLmxlbmFlcnRzQGdtYWlsLmNvbVxuaHR0cDovL3d3dy5kZXJzY2htYWxlLmNvbVxuXG5UaGlzIGNvZGUgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG5cbkNvcHlyaWdodCAoYykgVGhlIEF3YXkgRm91bmRhdGlvbiBodHRwOi8vd3d3LnRoZWF3YXlmb3VuZGF0aW9uLm9yZ1xuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSDigJxTb2Z0d2FyZeKAnSksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQg4oCcQVMgSVPigJ0sIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5pbXBvcnQgU2NlbmVcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29udGFpbmVycy9TY2VuZVwiKTtcbmltcG9ydCBWaWV3XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29udGFpbmVycy9WaWV3XCIpO1xuaW1wb3J0IEhvdmVyQ29udHJvbGxlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvbnRyb2xsZXJzL0hvdmVyQ29udHJvbGxlclwiKTtcbmltcG9ydCBDYW1lcmFcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZW50aXRpZXMvQ2FtZXJhXCIpO1xuaW1wb3J0IERpcmVjdGlvbmFsTGlnaHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9lbnRpdGllcy9EaXJlY3Rpb25hbExpZ2h0XCIpO1xuaW1wb3J0IE1lc2hcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9lbnRpdGllcy9NZXNoXCIpO1xuaW1wb3J0IFBvaW50TGlnaHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2VudGl0aWVzL1BvaW50TGlnaHRcIik7XG5pbXBvcnQgQXNzZXRFdmVudFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0Fzc2V0RXZlbnRcIik7XG5pbXBvcnQgQXdheUV2ZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvRXZlbnRcIik7XG5pbXBvcnQgTG9hZGVyRXZlbnRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2V2ZW50cy9Mb2FkZXJFdmVudFwiKTtcbmltcG9ydCBQcm9ncmVzc0V2ZW50XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL1Byb2dyZXNzRXZlbnRcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9nZW9tL1ZlY3RvcjNEXCIpO1xuaW1wb3J0IEFzc2V0TGlicmFyeVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9saWJyYXJ5L0Fzc2V0TGlicmFyeVwiKTtcbmltcG9ydCBBc3NldExvYWRlckNvbnRleHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9saWJyYXJ5L0Fzc2V0TG9hZGVyQ29udGV4dFwiKTtcbmltcG9ydCBBc3NldFR5cGVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvbGlicmFyeS9Bc3NldFR5cGVcIik7XG5pbXBvcnQgVVJMTG9hZGVyXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL25ldC9VUkxMb2FkZXJcIik7XG5pbXBvcnQgVVJMTG9hZGVyRGF0YUZvcm1hdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL25ldC9VUkxMb2FkZXJEYXRhRm9ybWF0XCIpO1xuaW1wb3J0IFVSTFJlcXVlc3RcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvbmV0L1VSTFJlcXVlc3RcIik7XG5pbXBvcnQgVHJpYW5nbGVNZXRob2RNYXRlcmlhbFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvbWF0ZXJpYWxzL1RyaWFuZ2xlTWV0aG9kTWF0ZXJpYWxcIik7XG5pbXBvcnQgVHJpYW5nbGVNYXRlcmlhbE1vZGVcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvbWF0ZXJpYWxzL1RyaWFuZ2xlTWF0ZXJpYWxNb2RlXCIpO1xuaW1wb3J0IFN0YXRpY0xpZ2h0UGlja2VyXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL21hdGVyaWFscy9saWdodHBpY2tlcnMvU3RhdGljTGlnaHRQaWNrZXJcIik7XG5pbXBvcnQgRGlyZWN0aW9uYWxTaGFkb3dNYXBwZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL21hdGVyaWFscy9zaGFkb3dtYXBwZXJzL0RpcmVjdGlvbmFsU2hhZG93TWFwcGVyXCIpO1xuaW1wb3J0IFBhcnNlclV0aWxzXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9wYXJzZXJzL1BhcnNlclV0aWxzXCIpO1xuaW1wb3J0IERlZmF1bHRSZW5kZXJlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvcmVuZGVyL0RlZmF1bHRSZW5kZXJlclwiKTtcbmltcG9ydCBJbWFnZVRleHR1cmVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3RleHR1cmVzL0ltYWdlVGV4dHVyZVwiKTtcbmltcG9ydCBTcGVjdWxhckJpdG1hcFRleHR1cmVcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3RleHR1cmVzL1NwZWN1bGFyQml0bWFwVGV4dHVyZVwiKTtcbmltcG9ydCBDYXN0XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvQ2FzdFwiKTtcbmltcG9ydCBSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3V0aWxzL1JlcXVlc3RBbmltYXRpb25GcmFtZVwiKTtcblxuaW1wb3J0IERpZmZ1c2VHcmFkaWVudE1ldGhvZFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvbWF0ZXJpYWxzL21ldGhvZHMvRGlmZnVzZUdyYWRpZW50TWV0aG9kXCIpO1xuaW1wb3J0IFNwZWN1bGFyRnJlc25lbE1ldGhvZFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvbWF0ZXJpYWxzL21ldGhvZHMvU3BlY3VsYXJGcmVzbmVsTWV0aG9kXCIpO1xuaW1wb3J0IFNoYWRvd1NvZnRNZXRob2RcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9tYXRlcmlhbHMvbWV0aG9kcy9TaGFkb3dTb2Z0TWV0aG9kXCIpO1xuaW1wb3J0IEFXRFBhcnNlclx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcGFyc2Vycy9BV0RQYXJzZXJcIik7XG5cbmNsYXNzIEludGVybWVkaWF0ZV9Nb25zdGVySGVhZFNoYWRpbmdcbntcblx0Ly90ZXh0dXJlc1xuXHRwcml2YXRlIF90ZXh0dXJlU3RyaW5nczpBcnJheTxzdHJpbmc+ID0gQXJyYXk8c3RyaW5nPihcIm1vbnN0ZXJoZWFkX2RpZmZ1c2UuanBnXCIsIFwibW9uc3RlcmhlYWRfc3BlY3VsYXIuanBnXCIsIFwibW9uc3RlcmhlYWRfbm9ybWFscy5qcGdcIik7XG5cdHByaXZhdGUgX3RleHR1cmVEaWN0aW9uYXJ5Ok9iamVjdCA9IG5ldyBPYmplY3QoKTtcblxuXHQvL2VuZ2luZSB2YXJpYWJsZXNcblx0cHJpdmF0ZSBfc2NlbmU6U2NlbmU7XG5cdHByaXZhdGUgX2NhbWVyYTpDYW1lcmE7XG5cdHByaXZhdGUgX3ZpZXc6Vmlldztcblx0cHJpdmF0ZSBfY2FtZXJhQ29udHJvbGxlcjpIb3ZlckNvbnRyb2xsZXI7XG5cblx0Ly9tYXRlcmlhbCBvYmplY3RzXG5cdHByaXZhdGUgX2hlYWRNYXRlcmlhbDpUcmlhbmdsZU1ldGhvZE1hdGVyaWFsO1xuXHRwcml2YXRlIF9zb2Z0U2hhZG93TWV0aG9kOlNoYWRvd1NvZnRNZXRob2Q7XG5cdHByaXZhdGUgX2ZyZXNuZWxNZXRob2Q6U3BlY3VsYXJGcmVzbmVsTWV0aG9kO1xuXHQvL3ByaXZhdGUgX2RpZmZ1c2VNZXRob2Q6QmFzaWNEaWZmdXNlTWV0aG9kO1xuXHQvL3ByaXZhdGUgX3NwZWN1bGFyTWV0aG9kOkJhc2ljU3BlY3VsYXJNZXRob2Q7XG5cblx0Ly9zY2VuZSBvYmplY3RzXG5cdHByaXZhdGUgX2JsdWVMaWdodDpQb2ludExpZ2h0O1xuXHRwcml2YXRlIF9yZWRMaWdodDpQb2ludExpZ2h0O1xuXHRwcml2YXRlIF9kaXJlY3Rpb25hbExpZ2h0OkRpcmVjdGlvbmFsTGlnaHQ7XG5cdHByaXZhdGUgX2xpZ2h0UGlja2VyOlN0YXRpY0xpZ2h0UGlja2VyO1xuXHRwcml2YXRlIF9oZWFkTW9kZWw6TWVzaDtcblx0cHJpdmF0ZSBfYWR2YW5jZWRNZXRob2Q6Qm9vbGVhbiA9IHRydWU7XG5cblx0Ly9sb2FkaW5nIHZhcmlhYmxlc1xuXHRwcml2YXRlIF9udW1UZXh0dXJlczpudW1iZXIgLyp1aW50Ki8gPSAwO1xuXHRwcml2YXRlIF9jdXJyZW50VGV4dHVyZTpudW1iZXIgLyp1aW50Ki8gPSAwO1xuXHRwcml2YXRlIF9uOm51bWJlciAvKnVpbnQqLyA9IDA7XG5cdHByaXZhdGUgX2xvYWRpbmdUZXh0OnN0cmluZztcblxuXHQvL3Jvb3QgZmlsZXBhdGggZm9yIGFzc2V0IGxvYWRpbmdcblx0cHJpdmF0ZSBfYXNzZXRzUm9vdDpzdHJpbmcgPSBcImFzc2V0cy9tb25zdGVyaGVhZC9cIjtcblxuXHQvL25hdmlnYXRpb24gdmFyaWFibGVzXG5cdHByaXZhdGUgX21vdmU6Qm9vbGVhbiA9IGZhbHNlO1xuXHRwcml2YXRlIF9sYXN0UGFuQW5nbGU6bnVtYmVyO1xuXHRwcml2YXRlIF9sYXN0VGlsdEFuZ2xlOm51bWJlcjtcblx0cHJpdmF0ZSBfbGFzdE1vdXNlWDpudW1iZXI7XG5cdHByaXZhdGUgX2xhc3RNb3VzZVk6bnVtYmVyO1xuXHRwcml2YXRlIHRpbWVyOlJlcXVlc3RBbmltYXRpb25GcmFtZTtcblx0cHJpdmF0ZSB0aW1lOm51bWJlciA9IDA7XG5cblx0cHJpdmF0ZSBwYXJzZUFXRERlbGVnYXRlOihldmVudDpBd2F5RXZlbnQpID0+IHZvaWQ7XG5cdHByaXZhdGUgcGFyc2VCaXRtYXBEZWxlZ2F0ZTooZXZlbnQ6QXdheUV2ZW50KSA9PiB2b2lkO1xuXHRwcml2YXRlIGxvYWRQcm9ncmVzc0RlbGVnYXRlOihldmVudDpQcm9ncmVzc0V2ZW50KSA9PiB2b2lkO1xuXHRwcml2YXRlIG9uQml0bWFwQ29tcGxldGVEZWxlZ2F0ZTooZXZlbnQ6RXZlbnQpID0+IHZvaWQ7XG5cdHByaXZhdGUgb25Bc3NldENvbXBsZXRlRGVsZWdhdGU6KGV2ZW50OkFzc2V0RXZlbnQpID0+IHZvaWQ7XG5cdHByaXZhdGUgb25SZXNvdXJjZUNvbXBsZXRlRGVsZWdhdGU6KGV2ZW50OkxvYWRlckV2ZW50KSA9PiB2b2lkO1xuXG5cdHByaXZhdGUgX3NoYWRvd1JhbmdlOm51bWJlciA9IDM7XG5cdHByaXZhdGUgX2xpZ2h0RGlyZWN0aW9uOm51bWJlciA9IDEyMCpNYXRoLlBJLzE4MDtcblx0cHJpdmF0ZSBfbGlnaHRFbGV2YXRpb246bnVtYmVyID0gMzAqTWF0aC5QSS8xODA7XG5cblx0LyoqXG5cdCAqIENvbnN0cnVjdG9yXG5cdCAqL1xuXHRwdWJsaWMgY29uc3RydWN0b3IoKVxuXHR7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHQvKipcblx0ICogR2xvYmFsIGluaXRpYWxpc2UgZnVuY3Rpb25cblx0ICovXG5cdHByaXZhdGUgaW5pdCgpXG5cdHtcblx0XHR0aGlzLmluaXRFbmdpbmUoKTtcblx0XHR0aGlzLmluaXRMaWdodHMoKTtcblx0XHR0aGlzLmluaXRMaXN0ZW5lcnMoKTtcblxuXHRcdC8va2lja29mZiBhc3NldCBsb2FkaW5nXG5cdFx0dGhpcy5fbiA9IDA7XG5cdFx0dGhpcy5fbnVtVGV4dHVyZXMgPSB0aGlzLl90ZXh0dXJlU3RyaW5ncy5sZW5ndGg7XG5cdFx0dGhpcy5sb2FkKHRoaXMuX3RleHR1cmVTdHJpbmdzW3RoaXMuX25dKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBlbmdpbmVcblx0ICovXG5cdHByaXZhdGUgaW5pdEVuZ2luZSgpXG5cdHtcblx0XHR0aGlzLl9zY2VuZSA9IG5ldyBTY2VuZSgpO1xuXG5cdFx0dGhpcy5fY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuXHRcdHRoaXMuX2NhbWVyYS5wcm9qZWN0aW9uLm5lYXIgPSAyMDtcblx0XHR0aGlzLl9jYW1lcmEucHJvamVjdGlvbi5mYXIgPSAxMDAwO1xuXG5cdFx0dGhpcy5fdmlldyA9IG5ldyBWaWV3KG5ldyBEZWZhdWx0UmVuZGVyZXIoKSwgdGhpcy5fc2NlbmUsIHRoaXMuX2NhbWVyYSk7XG5cblx0XHQvL3NldHVwIGNvbnRyb2xsZXIgdG8gYmUgdXNlZCBvbiB0aGUgY2FtZXJhXG5cdFx0dGhpcy5fY2FtZXJhQ29udHJvbGxlciA9IG5ldyBIb3ZlckNvbnRyb2xsZXIodGhpcy5fY2FtZXJhLCBudWxsLCAyMjUsIDEwLCA4MDApO1xuXHRcdHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIueUZhY3RvciA9IDE7XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGlzZSB0aGUgbGlnaHRzIGluIGEgc2NlbmVcblx0ICovXG5cdHByaXZhdGUgaW5pdExpZ2h0cygpXG5cdHtcblx0XHQvL3ZhciBpbml0aWFsQXppbXV0aDpudW1iZXIgPSAuNjtcblx0XHQvL3ZhciBpbml0aWFsQXJjOm51bWJlciA9IDI7XG5cdFx0dmFyIHg6bnVtYmVyID0gTWF0aC5zaW4odGhpcy5fbGlnaHRFbGV2YXRpb24pKk1hdGguY29zKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKTtcblx0XHR2YXIgeTpudW1iZXIgPSAtTWF0aC5jb3ModGhpcy5fbGlnaHRFbGV2YXRpb24pO1xuXHRcdHZhciB6Om51bWJlciA9IE1hdGguc2luKHRoaXMuX2xpZ2h0RWxldmF0aW9uKSpNYXRoLnNpbih0aGlzLl9saWdodERpcmVjdGlvbik7XG5cblx0XHQvLyBtYWluIGxpZ2h0IGNhc3RpbmcgdGhlIHNoYWRvd3Ncblx0XHR0aGlzLl9kaXJlY3Rpb25hbExpZ2h0ID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoeCwgeSwgeik7XG5cdFx0dGhpcy5fZGlyZWN0aW9uYWxMaWdodC5jb2xvciA9IDB4ZmZlZWRkO1xuXHRcdHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQuYW1iaWVudCA9IDE7XG5cdFx0dGhpcy5fZGlyZWN0aW9uYWxMaWdodC5zcGVjdWxhciA9IC4zO1xuXHRcdHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQuYW1iaWVudENvbG9yID0gMHgxMDEwMjU7XG5cdFx0dGhpcy5fZGlyZWN0aW9uYWxMaWdodC5jYXN0c1NoYWRvd3MgPSB0cnVlO1xuXHRcdCg8RGlyZWN0aW9uYWxTaGFkb3dNYXBwZXI+IHRoaXMuX2RpcmVjdGlvbmFsTGlnaHQuc2hhZG93TWFwcGVyKS5saWdodE9mZnNldCA9IDEwMDA7XG5cdFx0dGhpcy5fc2NlbmUuYWRkQ2hpbGQodGhpcy5fZGlyZWN0aW9uYWxMaWdodCk7XG5cblx0XHQvLyBibHVlIHBvaW50IGxpZ2h0IGNvbWluZyBmcm9tIHRoZSByaWdodFxuXHRcdHRoaXMuX2JsdWVMaWdodCA9IG5ldyBQb2ludExpZ2h0KCk7XG5cdFx0dGhpcy5fYmx1ZUxpZ2h0LmNvbG9yID0gMHg0MDgwZmY7XG5cdFx0dGhpcy5fYmx1ZUxpZ2h0LnggPSAzMDAwO1xuXHRcdHRoaXMuX2JsdWVMaWdodC56ID0gNzAwO1xuXHRcdHRoaXMuX2JsdWVMaWdodC55ID0gMjA7XG5cdFx0dGhpcy5fc2NlbmUuYWRkQ2hpbGQodGhpcy5fYmx1ZUxpZ2h0KTtcblxuXHRcdC8vIHJlZCBsaWdodCBjb21pbmcgZnJvbSB0aGUgbGVmdFxuXHRcdHRoaXMuX3JlZExpZ2h0ID0gbmV3IFBvaW50TGlnaHQoKTtcblx0XHR0aGlzLl9yZWRMaWdodC5jb2xvciA9IDB4ODAyMDEwO1xuXHRcdHRoaXMuX3JlZExpZ2h0LnggPSAtMjAwMDtcblx0XHR0aGlzLl9yZWRMaWdodC56ID0gODAwO1xuXHRcdHRoaXMuX3JlZExpZ2h0LnkgPSAtNDAwO1xuXHRcdHRoaXMuX3NjZW5lLmFkZENoaWxkKHRoaXMuX3JlZExpZ2h0KTtcblxuXHRcdHRoaXMuX2xpZ2h0UGlja2VyID0gbmV3IFN0YXRpY0xpZ2h0UGlja2VyKFt0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LCB0aGlzLl9ibHVlTGlnaHQsIHRoaXMuX3JlZExpZ2h0XSk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBsaXN0ZW5lcnNcblx0ICovXG5cdHByaXZhdGUgaW5pdExpc3RlbmVycygpXG5cdHtcblx0XHR3aW5kb3cub25yZXNpemUgID0gKGV2ZW50OlVJRXZlbnQpID0+IHRoaXMub25SZXNpemUoZXZlbnQpO1xuXG5cdFx0ZG9jdW1lbnQub25tb3VzZWRvd24gPSAoZXZlbnQ6TW91c2VFdmVudCkgPT4gdGhpcy5vbk1vdXNlRG93bihldmVudCk7XG5cdFx0ZG9jdW1lbnQub25tb3VzZXVwID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHRoaXMub25Nb3VzZVVwKGV2ZW50KTtcblx0XHRkb2N1bWVudC5vbm1vdXNlbW92ZSA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VNb3ZlKGV2ZW50KTtcblxuXHRcdHRoaXMub25SZXNpemUoKTtcblxuXHRcdHRoaXMucGFyc2VBV0REZWxlZ2F0ZSA9IChldmVudDpBd2F5RXZlbnQpID0+IHRoaXMucGFyc2VBV0QoZXZlbnQpO1xuXHRcdHRoaXMucGFyc2VCaXRtYXBEZWxlZ2F0ZSA9IChldmVudDpBd2F5RXZlbnQpID0+IHRoaXMucGFyc2VCaXRtYXAoZXZlbnQpO1xuXHRcdHRoaXMubG9hZFByb2dyZXNzRGVsZWdhdGUgPSAoZXZlbnQ6UHJvZ3Jlc3NFdmVudCkgPT4gdGhpcy5sb2FkUHJvZ3Jlc3MoZXZlbnQpO1xuXHRcdHRoaXMub25CaXRtYXBDb21wbGV0ZURlbGVnYXRlID0gKGV2ZW50OkV2ZW50KSA9PiB0aGlzLm9uQml0bWFwQ29tcGxldGUoZXZlbnQpO1xuXHRcdHRoaXMub25Bc3NldENvbXBsZXRlRGVsZWdhdGUgPSAoZXZlbnQ6QXNzZXRFdmVudCkgPT4gdGhpcy5vbkFzc2V0Q29tcGxldGUoZXZlbnQpO1xuXHRcdHRoaXMub25SZXNvdXJjZUNvbXBsZXRlRGVsZWdhdGUgPSAoZXZlbnQ6TG9hZGVyRXZlbnQpID0+IHRoaXMub25SZXNvdXJjZUNvbXBsZXRlKGV2ZW50KTtcblxuXHRcdHRoaXMudGltZXIgPSBuZXcgUmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25FbnRlckZyYW1lLCB0aGlzKTtcblx0XHR0aGlzLnRpbWVyLnN0YXJ0KCk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgZGlyZWN0aW9uIG9mIHRoZSBkaXJlY3Rpb25hbCBsaWdodHNvdXJjZVxuXHQgKi9cblx0cHJpdmF0ZSB1cGRhdGVEaXJlY3Rpb24oKVxuXHR7XG5cdFx0dGhpcy5fZGlyZWN0aW9uYWxMaWdodC5kaXJlY3Rpb24gPSBuZXcgVmVjdG9yM0QoXG5cdFx0XHRNYXRoLnNpbih0aGlzLl9saWdodEVsZXZhdGlvbikqTWF0aC5jb3ModGhpcy5fbGlnaHREaXJlY3Rpb24pLFxuXHRcdFx0LU1hdGguY29zKHRoaXMuX2xpZ2h0RWxldmF0aW9uKSxcblx0XHRcdE1hdGguc2luKHRoaXMuX2xpZ2h0RWxldmF0aW9uKSpNYXRoLnNpbih0aGlzLl9saWdodERpcmVjdGlvbilcblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSB1cGRhdGVSYW5nZSgpXG5cdHtcblx0XHR0aGlzLl9zb2Z0U2hhZG93TWV0aG9kLnJhbmdlID0gdGhpcy5fc2hhZG93UmFuZ2U7XG5cdH1cblxuXHQvKipcblx0ICogR2xvYmFsIGJpbmFyeSBmaWxlIGxvYWRlclxuXHQgKi9cblx0cHJpdmF0ZSBsb2FkKHVybDpzdHJpbmcpXG5cdHtcblx0XHR2YXIgbG9hZGVyOlVSTExvYWRlciA9IG5ldyBVUkxMb2FkZXIoKTtcblx0XHRzd2l0Y2ggKHVybC5zdWJzdHJpbmcodXJsLmxlbmd0aCAtIDMpKSB7XG5cdFx0XHRjYXNlIFwiQVdEXCI6XG5cdFx0XHRjYXNlIFwiYXdkXCI6XG5cdFx0XHRcdGxvYWRlci5kYXRhRm9ybWF0ID0gVVJMTG9hZGVyRGF0YUZvcm1hdC5BUlJBWV9CVUZGRVI7XG5cdFx0XHRcdHRoaXMuX2xvYWRpbmdUZXh0ID0gXCJMb2FkaW5nIE1vZGVsXCI7XG5cdFx0XHRcdGxvYWRlci5hZGRFdmVudExpc3RlbmVyKEF3YXlFdmVudC5DT01QTEVURSwgdGhpcy5wYXJzZUFXRERlbGVnYXRlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwicG5nXCI6XG5cdFx0XHRjYXNlIFwianBnXCI6XG5cdFx0XHRcdGxvYWRlci5kYXRhRm9ybWF0ID0gVVJMTG9hZGVyRGF0YUZvcm1hdC5CTE9CO1xuXHRcdFx0XHR0aGlzLl9jdXJyZW50VGV4dHVyZSsrO1xuXHRcdFx0XHR0aGlzLl9sb2FkaW5nVGV4dCA9IFwiTG9hZGluZyBUZXh0dXJlc1wiO1xuXHRcdFx0XHRsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihBd2F5RXZlbnQuQ09NUExFVEUsIHRoaXMucGFyc2VCaXRtYXBEZWxlZ2F0ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFByb2dyZXNzRXZlbnQuUFJPR1JFU1MsIHRoaXMubG9hZFByb2dyZXNzRGVsZWdhdGUpO1xuXHRcdGxvYWRlci5sb2FkKG5ldyBVUkxSZXF1ZXN0KHRoaXMuX2Fzc2V0c1Jvb3QrdXJsKSk7XG5cdH1cblxuXHQvKipcblx0ICogRGlzcGxheSBjdXJyZW50IGxvYWRcblx0ICovXG5cdHByaXZhdGUgbG9hZFByb2dyZXNzKGV2ZW50OlByb2dyZXNzRXZlbnQpXG5cdHtcblx0XHQvL1RPRE8gd29yayBvdXQgd2h5IHRoZSBjYXN0aW5nIG9uIFByb2dyZXNzRXZlbnQgZmFpbHMgZm9yIGJ5dGVzTG9hZGVkIGFuZCBieXRlc1RvdGFsIHByb3BlcnRpZXNcblx0XHR2YXIgUDpudW1iZXIgPSBNYXRoLmZsb29yKGV2ZW50W1wiYnl0ZXNMb2FkZWRcIl0gLyBldmVudFtcImJ5dGVzVG90YWxcIl0gKiAxMDApO1xuXHRcdGlmIChQICE9IDEwMCkge1xuXHRcdFx0Y29uc29sZS5sb2codGhpcy5fbG9hZGluZ1RleHQgKyAnXFxuJyArICgodGhpcy5fbG9hZGluZ1RleHQgPT0gXCJMb2FkaW5nIE1vZGVsXCIpPyBNYXRoLmZsb29yKChldmVudFtcImJ5dGVzTG9hZGVkXCJdIC8gMTAyNCkgPDwgMCkgKyAna2IgfCAnICsgTWF0aC5mbG9vcigoZXZlbnRbXCJieXRlc1RvdGFsXCJdIC8gMTAyNCkgPDwgMCkgKyAna2InIDogdGhpcy5fY3VycmVudFRleHR1cmUgKyAnIHwgJyArIHRoaXMuX251bVRleHR1cmVzKSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFBhcnNlcyB0aGUgQml0bWFwIGZpbGVcblx0ICovXG5cdHByaXZhdGUgcGFyc2VCaXRtYXAoZXZlbnQ6QXdheUV2ZW50KVxuXHR7XG5cdFx0dmFyIHVybExvYWRlcjpVUkxMb2FkZXIgPSA8VVJMTG9hZGVyPiBldmVudC50YXJnZXQ7XG5cdFx0dmFyIGltYWdlOkhUTUxJbWFnZUVsZW1lbnQgPSBQYXJzZXJVdGlscy5ibG9iVG9JbWFnZSh1cmxMb2FkZXIuZGF0YSk7XG5cdFx0aW1hZ2Uub25sb2FkID0gdGhpcy5vbkJpdG1hcENvbXBsZXRlRGVsZWdhdGU7XG5cdFx0dXJsTG9hZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoQXdheUV2ZW50LkNPTVBMRVRFLCB0aGlzLnBhcnNlQml0bWFwRGVsZWdhdGUpO1xuXHRcdHVybExvYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKFByb2dyZXNzRXZlbnQuUFJPR1JFU1MsIHRoaXMubG9hZFByb2dyZXNzRGVsZWdhdGUpO1xuXHRcdHVybExvYWRlciA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogUGFyc2VzIHRoZSBBV0QgZmlsZVxuXHQgKi9cblx0cHJpdmF0ZSBwYXJzZUFXRChldmVudDpBd2F5RXZlbnQpXG5cdHtcblx0XHRjb25zb2xlLmxvZyhcIlBhcnNpbmcgRGF0YVwiKTtcblx0XHR2YXIgdXJsTG9hZGVyOlVSTExvYWRlciA9IDxVUkxMb2FkZXI+IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vc2V0dXAgcGFyc2VyXG5cdFx0QXNzZXRMaWJyYXJ5LmFkZEV2ZW50TGlzdGVuZXIoQXNzZXRFdmVudC5BU1NFVF9DT01QTEVURSwgdGhpcy5vbkFzc2V0Q29tcGxldGVEZWxlZ2F0ZSk7XG5cdFx0QXNzZXRMaWJyYXJ5LmFkZEV2ZW50TGlzdGVuZXIoTG9hZGVyRXZlbnQuUkVTT1VSQ0VfQ09NUExFVEUsIHRoaXMub25SZXNvdXJjZUNvbXBsZXRlRGVsZWdhdGUpO1xuXHRcdEFzc2V0TGlicmFyeS5sb2FkRGF0YSh1cmxMb2FkZXIuZGF0YSwgbmV3IEFzc2V0TG9hZGVyQ29udGV4dChmYWxzZSksIG51bGwsIG5ldyBBV0RQYXJzZXIoKSk7XG5cblx0XHR1cmxMb2FkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihQcm9ncmVzc0V2ZW50LlBST0dSRVNTLCB0aGlzLmxvYWRQcm9ncmVzc0RlbGVnYXRlKTtcblx0XHR1cmxMb2FkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBd2F5RXZlbnQuQ09NUExFVEUsIHRoaXMucGFyc2VBV0REZWxlZ2F0ZSk7XG5cdFx0dXJsTG9hZGVyID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaXN0ZW5lciBmb3IgYml0bWFwIGNvbXBsZXRlIGV2ZW50IG9uIGxvYWRlclxuXHQgKi9cblx0cHJpdmF0ZSBvbkJpdG1hcENvbXBsZXRlKGV2ZW50OkV2ZW50KVxuXHR7XG5cdFx0dmFyIGltYWdlOkhUTUxJbWFnZUVsZW1lbnQgPSA8SFRNTEltYWdlRWxlbWVudD4gZXZlbnQudGFyZ2V0O1xuXHRcdGltYWdlLm9ubG9hZCA9IG51bGw7XG5cblx0XHQvL2NyZWF0ZSBiaXRtYXAgdGV4dHVyZSBpbiBkaWN0aW9uYXJ5XG5cdFx0aWYgKCF0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVt0aGlzLl90ZXh0dXJlU3RyaW5nc1t0aGlzLl9uXV0pXG5cdFx0XHR0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVt0aGlzLl90ZXh0dXJlU3RyaW5nc1t0aGlzLl9uXV0gPSAodGhpcy5fbiA9PSAxKT8gbmV3IFNwZWN1bGFyQml0bWFwVGV4dHVyZShDYXN0LmJpdG1hcERhdGEoaW1hZ2UpKSA6IG5ldyBJbWFnZVRleHR1cmUoaW1hZ2UsIHRydWUpO1xuXG5cdFx0dGhpcy5fbisrO1xuXG5cdFx0Ly9zd2l0Y2ggdG8gbmV4dCB0ZXR1cmUgc2V0XG5cdFx0aWYgKHRoaXMuX24gPCB0aGlzLl90ZXh0dXJlU3RyaW5ncy5sZW5ndGgpIHtcblx0XHRcdHRoaXMubG9hZCh0aGlzLl90ZXh0dXJlU3RyaW5nc1t0aGlzLl9uXSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubG9hZChcIk1vbnN0ZXJIZWFkLmF3ZFwiKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTmF2aWdhdGlvbiBhbmQgcmVuZGVyIGxvb3Bcblx0ICovXG5cdHByaXZhdGUgb25FbnRlckZyYW1lKGR0Om51bWJlcilcblx0e1xuXHRcdHRoaXMuX3ZpZXcucmVuZGVyKCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlzdGVuZXIgZm9yIGFzc2V0IGNvbXBsZXRlIGV2ZW50IG9uIGxvYWRlclxuXHQgKi9cblx0cHJpdmF0ZSBvbkFzc2V0Q29tcGxldGUoZXZlbnQ6QXNzZXRFdmVudClcblx0e1xuXHRcdGlmIChldmVudC5hc3NldC5hc3NldFR5cGUgPT0gQXNzZXRUeXBlLk1FU0gpIHtcblx0XHRcdHRoaXMuX2hlYWRNb2RlbCA9IDxNZXNoPiBldmVudC5hc3NldDtcblx0XHRcdHRoaXMuX2hlYWRNb2RlbC5nZW9tZXRyeS5zY2FsZSg0KTtcblx0XHRcdHRoaXMuX2hlYWRNb2RlbC55ID0gLTIwO1xuXHRcdFx0dGhpcy5fc2NlbmUuYWRkQ2hpbGQodGhpcy5faGVhZE1vZGVsKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVHJpZ2dlcmVkIG9uY2UgYWxsIHJlc291cmNlcyBhcmUgbG9hZGVkXG5cdCAqL1xuXHRwcml2YXRlIG9uUmVzb3VyY2VDb21wbGV0ZShlOkxvYWRlckV2ZW50KVxuXHR7XG5cdFx0QXNzZXRMaWJyYXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoQXNzZXRFdmVudC5BU1NFVF9DT01QTEVURSwgdGhpcy5vbkFzc2V0Q29tcGxldGVEZWxlZ2F0ZSk7XG5cdFx0QXNzZXRMaWJyYXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoTG9hZGVyRXZlbnQuUkVTT1VSQ0VfQ09NUExFVEUsIHRoaXMub25SZXNvdXJjZUNvbXBsZXRlRGVsZWdhdGUpO1xuXG5cdFx0Ly9zZXR1cCBjdXN0b20gbXVsdGlwYXNzIG1hdGVyaWFsXG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsID0gbmV3IFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWwodGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbXCJtb25zdGVyaGVhZF9kaWZmdXNlLmpwZ1wiXSk7XG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsLm1hdGVyaWFsTW9kZSA9IFRyaWFuZ2xlTWF0ZXJpYWxNb2RlLk1VTFRJX1BBU1M7XG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsLm1pcG1hcCA9IGZhbHNlO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5ub3JtYWxNYXAgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtcIm1vbnN0ZXJoZWFkX25vcm1hbHMuanBnXCJdO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5saWdodFBpY2tlciA9IHRoaXMuX2xpZ2h0UGlja2VyO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5hbWJpZW50Q29sb3IgPSAweDMwMzA0MDtcblxuXHRcdC8vIGNyZWF0ZSBzb2Z0IHNoYWRvd3Mgd2l0aCBhIGxvdCBvZiBzYW1wbGVzIGZvciBiZXN0IHJlc3VsdHMuIFdpdGggdGhlIGN1cnJlbnQgbWV0aG9kIHNldHVwLCBhbnkgbW9yZSBzYW1wbGVzIHdvdWxkIGZhaWwgdG8gY29tcGlsZVxuXHRcdHRoaXMuX3NvZnRTaGFkb3dNZXRob2QgPSBuZXcgU2hhZG93U29mdE1ldGhvZCh0aGlzLl9kaXJlY3Rpb25hbExpZ2h0LCAyMCk7XG5cdFx0dGhpcy5fc29mdFNoYWRvd01ldGhvZC5yYW5nZSA9IHRoaXMuX3NoYWRvd1JhbmdlO1x0Ly8gdGhlIHNhbXBsZSByYWRpdXMgZGVmaW5lcyB0aGUgc29mdG5lc3Mgb2YgdGhlIHNoYWRvd3Ncblx0XHR0aGlzLl9zb2Z0U2hhZG93TWV0aG9kLmVwc2lsb24gPSAuMTtcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwuc2hhZG93TWV0aG9kID0gdGhpcy5fc29mdFNoYWRvd01ldGhvZDtcblxuXHRcdC8vIGNyZWF0ZSBzcGVjdWxhciByZWZsZWN0aW9ucyB0aGF0IGFyZSBzdHJvbmdlciBmcm9tIHRoZSBzaWRlc1xuXHRcdHRoaXMuX2ZyZXNuZWxNZXRob2QgPSBuZXcgU3BlY3VsYXJGcmVzbmVsTWV0aG9kKHRydWUpO1xuXHRcdHRoaXMuX2ZyZXNuZWxNZXRob2QuZnJlc25lbFBvd2VyID0gMztcblx0XHR0aGlzLl9oZWFkTWF0ZXJpYWwuc3BlY3VsYXJNZXRob2QgPSB0aGlzLl9mcmVzbmVsTWV0aG9kO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5zcGVjdWxhck1hcCA9IHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W1wibW9uc3RlcmhlYWRfc3BlY3VsYXIuanBnXCJdO1xuXHRcdHRoaXMuX2hlYWRNYXRlcmlhbC5zcGVjdWxhciA9IDM7XG5cdFx0dGhpcy5faGVhZE1hdGVyaWFsLmdsb3NzID0gMTA7XG5cblx0XHQvL2FwcGx5IG1hdGVyaWFsIHRvIGhlYWQgbW9kZWxcblx0XHR2YXIgbGVuOm51bWJlciA9IHRoaXMuX2hlYWRNb2RlbC5zdWJNZXNoZXMubGVuZ3RoO1xuXHRcdGZvciAodmFyIGk6bnVtYmVyID0gMDsgaSA8IGxlbjsgaSsrKVxuXHRcdFx0dGhpcy5faGVhZE1vZGVsLnN1Yk1lc2hlc1tpXS5tYXRlcmlhbCA9IHRoaXMuX2hlYWRNYXRlcmlhbDtcblxuXHRcdEFzc2V0TGlicmFyeS5hZGRFdmVudExpc3RlbmVyKExvYWRlckV2ZW50LlJFU09VUkNFX0NPTVBMRVRFLCAoZXZlbnQ6TG9hZGVyRXZlbnQpID0+IHRoaXMub25FeHRyYVJlc291cmNlQ29tcGxldGUoZXZlbnQpKTtcblxuXHRcdC8vZGlmZnVzZSBncmFkaWVudCB0ZXh0dXJlXG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvZGlmZnVzZUdyYWRpZW50LmpwZ1wiKSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgb25jZSBleHRyYSByZXNvdXJjZXMgYXJlIGxvYWRlZFxuXHQgKi9cblx0cHJpdmF0ZSBvbkV4dHJhUmVzb3VyY2VDb21wbGV0ZShldmVudDpMb2FkZXJFdmVudClcblx0e1xuXHRcdHN3aXRjaCAoZXZlbnQudXJsKSB7XG5cdFx0XHRjYXNlIFwiYXNzZXRzL2RpZmZ1c2VHcmFkaWVudC5qcGdcIiA6XG5cdFx0XHRcdC8vIHZlcnkgbG93LWNvc3QgYW5kIGNydWRlIHN1YnN1cmZhY2Ugc2NhdHRlcmluZyBmb3IgZGlmZnVzZSBzaGFkaW5nXG5cdFx0XHRcdC8vdGhpcy5faGVhZE1hdGVyaWFsLmRpZmZ1c2VNZXRob2QgPSBuZXcgRGlmZnVzZUdyYWRpZW50TWV0aG9kKDxJbWFnZVRleHR1cmU+IGV2ZW50LmFzc2V0c1sgMCBdKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIGRvd24gbGlzdGVuZXIgZm9yIG5hdmlnYXRpb25cblx0ICovXG5cdHByaXZhdGUgb25Nb3VzZURvd24oZXZlbnQ6TW91c2VFdmVudClcblx0e1xuXHRcdHRoaXMuX2xhc3RQYW5BbmdsZSA9IHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIucGFuQW5nbGU7XG5cdFx0dGhpcy5fbGFzdFRpbHRBbmdsZSA9IHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIudGlsdEFuZ2xlO1xuXHRcdHRoaXMuX2xhc3RNb3VzZVggPSBldmVudC5jbGllbnRYO1xuXHRcdHRoaXMuX2xhc3RNb3VzZVkgPSBldmVudC5jbGllbnRZO1xuXHRcdHRoaXMuX21vdmUgPSB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIHVwIGxpc3RlbmVyIGZvciBuYXZpZ2F0aW9uXG5cdCAqL1xuXHRwcml2YXRlIG9uTW91c2VVcChldmVudDpNb3VzZUV2ZW50KVxuXHR7XG5cdFx0dGhpcy5fbW92ZSA9IGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIG1vdmUgbGlzdGVuZXIgZm9yIG1vdXNlTG9ja1xuXHQgKi9cblx0cHJpdmF0ZSBvbk1vdXNlTW92ZShldmVudDpNb3VzZUV2ZW50KVxuXHR7XG5cdFx0aWYgKHRoaXMuX21vdmUpIHtcblx0XHRcdHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIucGFuQW5nbGUgPSAwLjMqKGV2ZW50LmNsaWVudFggLSB0aGlzLl9sYXN0TW91c2VYKSArIHRoaXMuX2xhc3RQYW5BbmdsZTtcblx0XHRcdHRoaXMuX2NhbWVyYUNvbnRyb2xsZXIudGlsdEFuZ2xlID0gMC4zKihldmVudC5jbGllbnRZIC0gdGhpcy5fbGFzdE1vdXNlWSkgKyB0aGlzLl9sYXN0VGlsdEFuZ2xlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiB3aW5kb3cgbGlzdGVuZXIgZm9yIHJlc2l6ZSBldmVudHNcblx0ICovXG5cdHByaXZhdGUgb25SZXNpemUoZXZlbnQ6VUlFdmVudCA9IG51bGwpXG5cdHtcblx0XHR0aGlzLl92aWV3LnkgPSAwO1xuXHRcdHRoaXMuX3ZpZXcueCA9IDA7XG5cdFx0dGhpcy5fdmlldy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRcdHRoaXMuX3ZpZXcuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHR9XG59XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKVxue1xuXHRuZXcgSW50ZXJtZWRpYXRlX01vbnN0ZXJIZWFkU2hhZGluZygpO1xufSJdfQ==