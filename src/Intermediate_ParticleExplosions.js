/*

Particle explosions in Away3D using the Adobe AIR and Adobe Flash Player logos

Demonstrates:

How to split images into particles.
How to share particle geometries and animation sets between meshes and animators.
How to manually update the playhead of a particle animator using the update() function.

Code by Rob Bateman & Liao Cheng
rob@infiniteturtles.co.uk
http://www.infiniteturtles.co.uk
liaocheng210@126.com

This code is distributed under the MIT License

Copyright (c) The Away Foundation http://www.theawayfoundation.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var LoaderEvent = require("awayjs-core/lib/events/LoaderEvent");
var ColorTransform = require("awayjs-core/lib/geom/ColorTransform");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var AssetLibrary = require("awayjs-core/lib/library/AssetLibrary");
var URLRequest = require("awayjs-core/lib/net/URLRequest");
var RequestAnimationFrame = require("awayjs-core/lib/utils/RequestAnimationFrame");
var Scene = require("awayjs-display/lib/containers/Scene");
var View = require("awayjs-display/lib/containers/View");
var HoverController = require("awayjs-display/lib/controllers/HoverController");
var Camera = require("awayjs-display/lib/entities/Camera");
var Mesh = require("awayjs-display/lib/entities/Mesh");
var PointLight = require("awayjs-display/lib/entities/PointLight");
var StaticLightPicker = require("awayjs-display/lib/materials/lightpickers/StaticLightPicker");
var PrimitivePlanePrefab = require("awayjs-display/lib/prefabs/PrimitivePlanePrefab");
var Cast = require("awayjs-display/lib/utils/Cast");
var ParticleAnimationSet = require("awayjs-renderergl/lib/animators/ParticleAnimationSet");
var ParticleAnimator = require("awayjs-renderergl/lib/animators/ParticleAnimator");
var ParticlePropertiesMode = require("awayjs-renderergl/lib/animators/data/ParticlePropertiesMode");
var ParticleBillboardNode = require("awayjs-renderergl/lib/animators/nodes/ParticleBillboardNode");
var ParticleBezierCurveNode = require("awayjs-renderergl/lib/animators/nodes/ParticleBezierCurveNode");
var ParticleInitialColorNode = require("awayjs-renderergl/lib/animators/nodes/ParticleInitialColorNode");
var ParticlePositionNode = require("awayjs-renderergl/lib/animators/nodes/ParticlePositionNode");
var DefaultRenderer = require("awayjs-renderergl/lib/DefaultRenderer");
var ParticleGeometryHelper = require("awayjs-renderergl/lib/utils/ParticleGeometryHelper");
var MethodMaterial = require("awayjs-methodmaterials/lib/MethodMaterial");
var MethodRendererPool = require("awayjs-methodmaterials/lib/pool/MethodRendererPool");
var Intermediate_ParticleExplosions = (function () {
    /**
     * Constructor
     */
    function Intermediate_ParticleExplosions() {
        this.colorValues = new Array();
        this.colorPoints = new Array();
        this.time = 0;
        this.angle = 0;
        this.move = false;
        this.init();
    }
    /**
     * Global initialise function
     */
    Intermediate_ParticleExplosions.prototype.init = function () {
        this.initEngine();
        this.initLights();
        this.initMaterials();
        this.initListeners();
    };
    /**
     * Initialise the engine
     */
    Intermediate_ParticleExplosions.prototype.initEngine = function () {
        this.scene = new Scene();
        this.camera = new Camera();
        this.view = new View(new DefaultRenderer(MethodRendererPool), this.scene, this.camera);
        //setup controller to be used on the camera
        this.cameraController = new HoverController(this.camera, null, 225, 10, 1000);
    };
    /**
     * Initialise the lights
     */
    Intermediate_ParticleExplosions.prototype.initLights = function () {
        //create a green point light
        this.greenLight = new PointLight();
        this.greenLight.color = 0x00FF00;
        this.greenLight.ambient = 1;
        this.greenLight.fallOff = 600;
        this.greenLight.radius = 100;
        this.greenLight.specular = 2;
        this.scene.addChild(this.greenLight);
        //create a red pointlight
        this.blueLight = new PointLight();
        this.blueLight.color = 0x0000FF;
        this.blueLight.fallOff = 600;
        this.blueLight.radius = 100;
        this.blueLight.specular = 2;
        this.scene.addChild(this.blueLight);
        //create a lightpicker for the green and red light
        this.lightPicker = new StaticLightPicker([this.greenLight, this.blueLight]);
    };
    /**
     * Initialise the materials
     */
    Intermediate_ParticleExplosions.prototype.initMaterials = function () {
        //setup the particle material
        this.colorMaterial = new MethodMaterial(0xFFFFFF);
        this.colorMaterial.bothSides = true;
        this.colorMaterial.lightPicker = this.lightPicker;
    };
    /**
     * Initialise the particles
     */
    Intermediate_ParticleExplosions.prototype.initParticles = function () {
        var i /*int*/;
        var j /*int*/;
        var point;
        var rgb;
        var color; /*uint*/
        for (i = 0; i < this.chromeBitmapData.width; i++) {
            for (j = 0; j < this.chromeBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.chromeBitmapData.width / 2 - 100), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.chromeBitmapData.height / 2));
                color = this.chromeBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        //define where one logo stops and another starts
        this.colorChromeSeparation = this.colorPoints.length;
        for (i = 0; i < this.firefoxBitmapData.width; i++) {
            for (j = 0; j < this.firefoxBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.firefoxBitmapData.width / 2 + 100), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.firefoxBitmapData.height / 2));
                color = this.firefoxBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        //define where one logo stops and another starts
        this.colorFirefoxSeparation = this.colorPoints.length;
        for (i = 0; i < this.safariBitmapData.width; i++) {
            for (j = 0; j < this.safariBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.safariBitmapData.width / 2), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.safariBitmapData.height / 2), -Intermediate_ParticleExplosions.PARTICLE_SIZE * 100);
                color = this.safariBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        //define where one logo stops and another starts
        this.colorSafariSeparation = this.colorPoints.length;
        for (i = 0; i < this.ieBitmapData.width; i++) {
            for (j = 0; j < this.ieBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.ieBitmapData.width / 2), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.ieBitmapData.height / 2), Intermediate_ParticleExplosions.PARTICLE_SIZE * 100);
                color = this.ieBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        var num = this.colorPoints.length;
        //setup the base geometry for one particle
        var plane = new PrimitivePlanePrefab(Intermediate_ParticleExplosions.PARTICLE_SIZE, Intermediate_ParticleExplosions.PARTICLE_SIZE, 1, 1, false);
        //combine them into a list
        var colorGeometrySet = new Array();
        for (i = 0; i < num; i++)
            colorGeometrySet.push(plane.geometry);
        //generate the particle geometries
        this.colorGeometry = ParticleGeometryHelper.generateGeometry(colorGeometrySet);
        //define the particle animations and init function
        this.colorAnimationSet = new ParticleAnimationSet();
        this.colorAnimationSet.addAnimation(new ParticleBillboardNode());
        this.colorAnimationSet.addAnimation(new ParticleBezierCurveNode(ParticlePropertiesMode.LOCAL_STATIC));
        this.colorAnimationSet.addAnimation(new ParticlePositionNode(ParticlePropertiesMode.LOCAL_STATIC));
        this.colorAnimationSet.addAnimation(new ParticleInitialColorNode(ParticlePropertiesMode.LOCAL_STATIC, true, false, new ColorTransform(0, 1, 0, 1)));
        this.colorAnimationSet.initParticleFunc = this.iniColorParticleFunc;
        this.colorAnimationSet.initParticleScope = this;
    };
    /**
     * Initialise the scene objects
     */
    Intermediate_ParticleExplosions.prototype.initObjects = function () {
        //initialise animators vectors
        this.colorAnimators = new Array(Intermediate_ParticleExplosions.NUM_ANIMATORS);
        //create the particle mesh
        this.colorParticleMesh = new Mesh(this.colorGeometry, this.colorMaterial);
        var i = 0;
        for (i = 0; i < Intermediate_ParticleExplosions.NUM_ANIMATORS; i++) {
            //clone the particle mesh
            this.colorParticleMesh = this.colorParticleMesh.clone();
            this.colorParticleMesh.rotationY = 45 * (i - 1);
            this.scene.addChild(this.colorParticleMesh);
            //create and start the particle animator
            this.colorAnimators[i] = new ParticleAnimator(this.colorAnimationSet);
            this.colorParticleMesh.animator = this.colorAnimators[i];
            this.scene.addChild(this.colorParticleMesh);
        }
    };
    /**
     * Initialise the listeners
     */
    Intermediate_ParticleExplosions.prototype.initListeners = function () {
        var _this = this;
        window.onresize = function (event) { return _this.onResize(event); };
        document.onmousedown = function (event) { return _this.onMouseDown(event); };
        document.onmouseup = function (event) { return _this.onMouseUp(event); };
        document.onmousemove = function (event) { return _this.onMouseMove(event); };
        this.onResize();
        this.timer = new RequestAnimationFrame(this.onEnterFrame, this);
        this.timer.start();
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, function (event) { return _this.onResourceComplete(event); });
        //image textures
        AssetLibrary.load(new URLRequest("assets/firefox.png"));
        AssetLibrary.load(new URLRequest("assets/chrome.png"));
        AssetLibrary.load(new URLRequest("assets/safari.png"));
        AssetLibrary.load(new URLRequest("assets/ie.png"));
    };
    /**
     * Initialiser for particle properties
     */
    Intermediate_ParticleExplosions.prototype.iniColorParticleFunc = function (properties) {
        properties.startTime = 0;
        properties.duration = 1;
        var degree1 = Math.random() * Math.PI * 2;
        var degree2 = Math.random() * Math.PI * 2;
        var r = 500;
        if (properties.index < this.colorChromeSeparation)
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(300 * Intermediate_ParticleExplosions.PARTICLE_SIZE, 0, 0);
        else if (properties.index < this.colorFirefoxSeparation)
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(-300 * Intermediate_ParticleExplosions.PARTICLE_SIZE, 0, 0);
        else if (properties.index < this.colorSafariSeparation)
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(0, 0, 300 * Intermediate_ParticleExplosions.PARTICLE_SIZE);
        else
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(0, 0, -300 * Intermediate_ParticleExplosions.PARTICLE_SIZE);
        var rgb = this.colorValues[properties.index];
        properties[ParticleInitialColorNode.COLOR_INITIAL_COLORTRANSFORM] = new ColorTransform(rgb.x, rgb.y, rgb.z, 1);
        properties[ParticleBezierCurveNode.BEZIER_CONTROL_VECTOR3D] = new Vector3D(r * Math.sin(degree1) * Math.cos(degree2), r * Math.cos(degree1) * Math.cos(degree2), r * Math.sin(degree2));
        properties[ParticlePositionNode.POSITION_VECTOR3D] = this.colorPoints[properties.index];
    };
    /**
     * Navigation and render loop
     */
    Intermediate_ParticleExplosions.prototype.onEnterFrame = function (dt) {
        this.time += dt;
        //update the camera position
        this.cameraController.panAngle += 0.2;
        //update the particle animator playhead positions
        var i /*uint*/;
        var time /*uint*/;
        if (this.colorAnimators) {
            for (i = 0; i < this.colorAnimators.length; i++) {
                time = 1000 * (Math.sin(this.time / 5000 + Math.PI * i / 4) + 1);
                this.colorAnimators[i].update(time);
            }
        }
        //update the light positions
        this.angle += Math.PI / 180;
        this.greenLight.x = Math.sin(this.angle) * 600;
        this.greenLight.z = Math.cos(this.angle) * 600;
        this.blueLight.x = Math.sin(this.angle + Math.PI) * 600;
        this.blueLight.z = Math.cos(this.angle + Math.PI) * 600;
        this.view.render();
    };
    /**
     * Listener function for resource complete event on asset library
     */
    Intermediate_ParticleExplosions.prototype.onResourceComplete = function (event) {
        switch (event.url) {
            case "assets/firefox.png":
                this.firefoxBitmapData = Cast.bitmapData(event.assets[0]);
                break;
            case "assets/chrome.png":
                this.chromeBitmapData = Cast.bitmapData(event.assets[0]);
                break;
            case "assets/ie.png":
                this.ieBitmapData = Cast.bitmapData(event.assets[0]);
                break;
            case "assets/safari.png":
                this.safariBitmapData = Cast.bitmapData(event.assets[0]);
                break;
        }
        if (this.firefoxBitmapData != null && this.chromeBitmapData != null && this.safariBitmapData != null && this.ieBitmapData != null) {
            this.initParticles();
            this.initObjects();
        }
    };
    /**
     * Mouse down listener for navigation
     */
    Intermediate_ParticleExplosions.prototype.onMouseDown = function (event) {
        this.lastPanAngle = this.cameraController.panAngle;
        this.lastTiltAngle = this.cameraController.tiltAngle;
        this.lastMouseX = event.clientX;
        this.lastMouseY = event.clientY;
        this.move = true;
    };
    /**
     * Mouse up listener for navigation
     */
    Intermediate_ParticleExplosions.prototype.onMouseUp = function (event) {
        this.move = false;
    };
    /**
     * Mouse move listener for mouseLock
     */
    Intermediate_ParticleExplosions.prototype.onMouseMove = function (event) {
        if (this.move) {
            this.cameraController.panAngle = 0.3 * (event.clientX - this.lastMouseX) + this.lastPanAngle;
            this.cameraController.tiltAngle = 0.3 * (event.clientY - this.lastMouseY) + this.lastTiltAngle;
        }
    };
    /**
     * window listener for resize events
     */
    Intermediate_ParticleExplosions.prototype.onResize = function (event) {
        if (event === void 0) { event = null; }
        this.view.y = 0;
        this.view.x = 0;
        this.view.width = window.innerWidth;
        this.view.height = window.innerHeight;
    };
    Intermediate_ParticleExplosions.PARTICLE_SIZE = 2;
    Intermediate_ParticleExplosions.NUM_ANIMATORS = 4;
    return Intermediate_ParticleExplosions;
})();
window.onload = function () {
    new Intermediate_ParticleExplosions();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLnRzIl0sIm5hbWVzIjpbIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMiLCJJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLmNvbnN0cnVjdG9yIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0IiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0RW5naW5lIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0TGlnaHRzIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0TWF0ZXJpYWxzIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0UGFydGljbGVzIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0T2JqZWN0cyIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuaW5pdExpc3RlbmVycyIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuaW5pQ29sb3JQYXJ0aWNsZUZ1bmMiLCJJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLm9uRW50ZXJGcmFtZSIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMub25SZXNvdXJjZUNvbXBsZXRlIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5vbk1vdXNlRG93biIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMub25Nb3VzZVVwIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5vbk1vdXNlTW92ZSIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMub25SZXNpemUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBcUNFO0FBR0YsSUFBTyxXQUFXLFdBQWUsb0NBQW9DLENBQUMs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QSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN6QkEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0E7Z0JBQzdDQSxJQUFJQSxHQUFHQSxJQUFJQSxHQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxFQUFFQSxHQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDekRBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ3JDQSxDQUFDQTtRQUNGQSxDQUFDQTtRQUVEQSxBQUNBQSw0QkFENEJBO1FBQzVCQSxJQUFJQSxDQUFDQSxLQUFLQSxJQUFJQSxJQUFJQSxDQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDL0NBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO1FBQy9DQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN4REEsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFFeERBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBO0lBQ3BCQSxDQUFDQTtJQUVEVjs7T0FFR0E7SUFDS0EsNERBQWtCQSxHQUExQkEsVUFBMkJBLEtBQWlCQTtRQUUzQ1csTUFBTUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFHbkJBLEtBQUtBLG9CQUFvQkE7Z0JBQ3hCQSxJQUFJQSxDQUFDQSxpQkFBaUJBLEdBQUdBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLENBQUVBLENBQUNBLENBQUVBLENBQUNBLENBQUNBO2dCQUM1REEsS0FBS0EsQ0FBQ0E7WUFDUEEsS0FBS0EsbUJBQW1CQTtnQkFDdkJBLElBQUlBLENBQUNBLGdCQUFnQkEsR0FBR0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FBRUEsQ0FBQ0EsQ0FBRUEsQ0FBQ0EsQ0FBQ0E7Z0JBQzNEQSxLQUFLQSxDQUFDQTtZQUNQQSxLQUFLQSxlQUFlQTtnQkFDbkJBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLENBQUVBLENBQUNBLENBQUVBLENBQUNBLENBQUNBO2dCQUN2REEsS0FBS0EsQ0FBQ0E7WUFDUEEsS0FBS0EsbUJBQW1CQTtnQkFDdkJBLElBQUlBLENBQUNBLGdCQUFnQkEsR0FBR0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FBRUEsQ0FBQ0EsQ0FBRUEsQ0FBQ0EsQ0FBQ0E7Z0JBQzNEQSxLQUFLQSxDQUFDQTtRQUVSQSxDQUFDQTtRQUVEQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLElBQUlBLElBQUlBLElBQUlBLElBQUlBLENBQUNBLGdCQUFnQkEsSUFBSUEsSUFBSUEsSUFBSUEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxJQUFJQSxJQUFJQSxJQUFJQSxJQUFJQSxDQUFDQSxZQUFZQSxJQUFJQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNuSUEsSUFBSUEsQ0FBQ0EsYUFBYUEsRUFBRUEsQ0FBQ0E7WUFDckJBLElBQUlBLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBO1FBQ3BCQSxDQUFDQTtJQUNGQSxDQUFDQTtJQUVEWDs7T0FFR0E7SUFDS0EscURBQVdBLEdBQW5CQSxVQUFvQkEsS0FBZ0JBO1FBRW5DWSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFFBQVFBLENBQUNBO1FBQ25EQSxJQUFJQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFNBQVNBLENBQUNBO1FBQ3JEQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUNoQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDaENBLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBO0lBQ2xCQSxDQUFDQTtJQUVEWjs7T0FFR0E7SUFDS0EsbURBQVNBLEdBQWpCQSxVQUFrQkEsS0FBZ0JBO1FBRWpDYSxJQUFJQSxDQUFDQSxJQUFJQSxHQUFHQSxLQUFLQSxDQUFDQTtJQUNuQkEsQ0FBQ0E7SUFFRGI7O09BRUdBO0lBQ0tBLHFEQUFXQSxHQUFuQkEsVUFBb0JBLEtBQWdCQTtRQUVuQ2MsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDZkEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxRQUFRQSxHQUFHQSxHQUFHQSxHQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxHQUFHQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQTtZQUMzRkEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxTQUFTQSxHQUFHQSxHQUFHQSxHQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxHQUFHQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQTtRQUM5RkEsQ0FBQ0E7SUFDRkEsQ0FBQ0E7SUFFRGQ7O09BRUdBO0lBQ0tBLGtEQUFRQSxHQUFoQkEsVUFBaUJBLEtBQW9CQTtRQUFwQmUscUJBQW9CQSxHQUFwQkEsWUFBb0JBO1FBRXBDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNoQkEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaEJBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLE1BQU1BLENBQUNBLFVBQVVBLENBQUNBO1FBQ3BDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxNQUFNQSxDQUFDQSxXQUFXQSxDQUFDQTtJQUN2Q0EsQ0FBQ0E7SUFsWWNmLDZDQUFhQSxHQUFtQkEsQ0FBQ0EsQ0FBQ0E7SUFDbENBLDZDQUFhQSxHQUFtQkEsQ0FBQ0EsQ0FBQ0E7SUFrWWxEQSxzQ0FBQ0E7QUFBREEsQ0FyWUEsQUFxWUNBLElBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxHQUFHO0lBRWYsSUFBSSwrQkFBK0IsRUFBRSxDQUFDO0FBQ3ZDLENBQUMsQ0FBQSIsImZpbGUiOiJJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlc0NvbnRlbnQiOlsi77u/LypcblxuUGFydGljbGUgZXhwbG9zaW9ucyBpbiBBd2F5M0QgdXNpbmcgdGhlIEFkb2JlIEFJUiBhbmQgQWRvYmUgRmxhc2ggUGxheWVyIGxvZ29zXG5cbkRlbW9uc3RyYXRlczpcblxuSG93IHRvIHNwbGl0IGltYWdlcyBpbnRvIHBhcnRpY2xlcy5cbkhvdyB0byBzaGFyZSBwYXJ0aWNsZSBnZW9tZXRyaWVzIGFuZCBhbmltYXRpb24gc2V0cyBiZXR3ZWVuIG1lc2hlcyBhbmQgYW5pbWF0b3JzLlxuSG93IHRvIG1hbnVhbGx5IHVwZGF0ZSB0aGUgcGxheWhlYWQgb2YgYSBwYXJ0aWNsZSBhbmltYXRvciB1c2luZyB0aGUgdXBkYXRlKCkgZnVuY3Rpb24uXG5cbkNvZGUgYnkgUm9iIEJhdGVtYW4gJiBMaWFvIENoZW5nXG5yb2JAaW5maW5pdGV0dXJ0bGVzLmNvLnVrXG5odHRwOi8vd3d3LmluZmluaXRldHVydGxlcy5jby51a1xubGlhb2NoZW5nMjEwQDEyNi5jb21cblxuVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuXG5Db3B5cmlnaHQgKGMpIFRoZSBBd2F5IEZvdW5kYXRpb24gaHR0cDovL3d3dy50aGVhd2F5Zm91bmRhdGlvbi5vcmdcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUg4oCcU29mdHdhcmXigJ0pLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIOKAnEFTIElT4oCdLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cblxuaW1wb3J0IEJpdG1hcERhdGFcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2Jhc2UvQml0bWFwRGF0YVwiKTtcbmltcG9ydCBMb2FkZXJFdmVudFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0xvYWRlckV2ZW50XCIpO1xuaW1wb3J0IENvbG9yVHJhbnNmb3JtXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9Db2xvclRyYW5zZm9ybVwiKTtcbmltcG9ydCBWZWN0b3IzRFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL1ZlY3RvcjNEXCIpO1xuaW1wb3J0IEFzc2V0TGlicmFyeVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbGlicmFyeS9Bc3NldExpYnJhcnlcIik7XG5pbXBvcnQgVVJMUmVxdWVzdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbmV0L1VSTFJlcXVlc3RcIik7XG5pbXBvcnQgUGFyc2VyVXRpbHNcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3BhcnNlcnMvUGFyc2VyVXRpbHNcIik7XG5pbXBvcnQgSW1hZ2VUZXh0dXJlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi90ZXh0dXJlcy9JbWFnZVRleHR1cmVcIik7XG5pbXBvcnQgU3BlY3VsYXJCaXRtYXBUZXh0dXJlXHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi90ZXh0dXJlcy9TcGVjdWxhckJpdG1hcFRleHR1cmVcIik7XG5pbXBvcnQgUmVxdWVzdEFuaW1hdGlvbkZyYW1lXHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi91dGlscy9SZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIik7XG5cbmltcG9ydCBTY2VuZVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9jb250YWluZXJzL1NjZW5lXCIpO1xuaW1wb3J0IFZpZXdcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9jb250YWluZXJzL1ZpZXdcIik7XG5pbXBvcnQgSG92ZXJDb250cm9sbGVyXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udHJvbGxlcnMvSG92ZXJDb250cm9sbGVyXCIpO1xuaW1wb3J0IENhbWVyYVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9DYW1lcmFcIik7XG5pbXBvcnQgTWVzaFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL01lc2hcIik7XG5pbXBvcnQgUG9pbnRMaWdodFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvUG9pbnRMaWdodFwiKTtcbmltcG9ydCBHZW9tZXRyeVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL0dlb21ldHJ5XCIpO1xuaW1wb3J0IFN0YXRpY0xpZ2h0UGlja2VyXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9saWdodHBpY2tlcnMvU3RhdGljTGlnaHRQaWNrZXJcIik7XG5pbXBvcnQgRGlyZWN0aW9uYWxTaGFkb3dNYXBwZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9zaGFkb3dtYXBwZXJzL0RpcmVjdGlvbmFsU2hhZG93TWFwcGVyXCIpO1xuaW1wb3J0IFByaW1pdGl2ZVBsYW5lUHJlZmFiXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3ByZWZhYnMvUHJpbWl0aXZlUGxhbmVQcmVmYWJcIik7XG5pbXBvcnQgQ2FzdFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3V0aWxzL0Nhc3RcIik7XG5cbmltcG9ydCBQYXJ0aWNsZUdlb21ldHJ5XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYmFzZS9QYXJ0aWNsZUdlb21ldHJ5XCIpO1xuaW1wb3J0IFBhcnRpY2xlQW5pbWF0aW9uU2V0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9QYXJ0aWNsZUFuaW1hdGlvblNldFwiKTtcbmltcG9ydCBQYXJ0aWNsZUFuaW1hdG9yXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL1BhcnRpY2xlQW5pbWF0b3JcIik7XG5pbXBvcnQgUGFydGljbGVQcm9wZXJ0aWVzXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9kYXRhL1BhcnRpY2xlUHJvcGVydGllc1wiKTtcbmltcG9ydCBQYXJ0aWNsZVByb3BlcnRpZXNNb2RlXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvZGF0YS9QYXJ0aWNsZVByb3BlcnRpZXNNb2RlXCIpO1xuaW1wb3J0IFBhcnRpY2xlQmlsbGJvYXJkTm9kZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL25vZGVzL1BhcnRpY2xlQmlsbGJvYXJkTm9kZVwiKTtcbmltcG9ydCBQYXJ0aWNsZUJlemllckN1cnZlTm9kZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL25vZGVzL1BhcnRpY2xlQmV6aWVyQ3VydmVOb2RlXCIpO1xuaW1wb3J0IFBhcnRpY2xlSW5pdGlhbENvbG9yTm9kZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL25vZGVzL1BhcnRpY2xlSW5pdGlhbENvbG9yTm9kZVwiKTtcbmltcG9ydCBQYXJ0aWNsZVBvc2l0aW9uTm9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvbm9kZXMvUGFydGljbGVQb3NpdGlvbk5vZGVcIik7XG5cbmltcG9ydCBEZWZhdWx0UmVuZGVyZXJcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9EZWZhdWx0UmVuZGVyZXJcIik7XG5pbXBvcnQgUGFydGljbGVHZW9tZXRyeUhlbHBlclx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvdXRpbHMvUGFydGljbGVHZW9tZXRyeUhlbHBlclwiKTtcblxuaW1wb3J0IE1ldGhvZE1hdGVyaWFsXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtbWV0aG9kbWF0ZXJpYWxzL2xpYi9NZXRob2RNYXRlcmlhbFwiKTtcbmltcG9ydCBNZXRob2RNYXRlcmlhbE1vZGVcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtbWV0aG9kbWF0ZXJpYWxzL2xpYi9NZXRob2RNYXRlcmlhbE1vZGVcIik7XG5pbXBvcnQgTWV0aG9kUmVuZGVyZXJQb29sXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLW1ldGhvZG1hdGVyaWFscy9saWIvcG9vbC9NZXRob2RSZW5kZXJlclBvb2xcIik7XG5cbmNsYXNzIEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnNcbntcblx0cHJpdmF0ZSBzdGF0aWMgUEFSVElDTEVfU0laRTpudW1iZXIgLyp1aW50Ki8gPSAyO1xuXHRwcml2YXRlIHN0YXRpYyBOVU1fQU5JTUFUT1JTOm51bWJlciAvKnVpbnQqLyA9IDQ7XG5cdFxuXHQvL2VuZ2luZSB2YXJpYWJsZXNcblx0cHJpdmF0ZSBzY2VuZTpTY2VuZTtcblx0cHJpdmF0ZSBjYW1lcmE6Q2FtZXJhO1xuXHRwcml2YXRlIHZpZXc6Vmlldztcblx0cHJpdmF0ZSBjYW1lcmFDb250cm9sbGVyOkhvdmVyQ29udHJvbGxlcjtcblx0XG5cdC8vbGlnaHQgdmFyaWFibGVzXG5cdHByaXZhdGUgZ3JlZW5MaWdodDpQb2ludExpZ2h0O1xuXHRwcml2YXRlIGJsdWVMaWdodDpQb2ludExpZ2h0O1xuXHRwcml2YXRlIGxpZ2h0UGlja2VyOlN0YXRpY0xpZ2h0UGlja2VyO1xuXHRcblx0Ly9kYXRhIHZhcmlhYmxlc1xuXHRwcml2YXRlIGNocm9tZUJpdG1hcERhdGE6Qml0bWFwRGF0YTtcblx0cHJpdmF0ZSBmaXJlZm94Qml0bWFwRGF0YTpCaXRtYXBEYXRhO1xuXHRwcml2YXRlIGllQml0bWFwRGF0YTpCaXRtYXBEYXRhO1xuXHRwcml2YXRlIHNhZmFyaUJpdG1hcERhdGE6Qml0bWFwRGF0YTtcblx0cHJpdmF0ZSBjb2xvclZhbHVlczpBcnJheTxWZWN0b3IzRD4gPSBuZXcgQXJyYXk8VmVjdG9yM0Q+KCk7XG5cdHByaXZhdGUgY29sb3JQb2ludHM6QXJyYXk8VmVjdG9yM0Q+ID0gbmV3IEFycmF5PFZlY3RvcjNEPigpO1xuXHRwcml2YXRlIGNvbG9yQ2hyb21lU2VwYXJhdGlvbjpudW1iZXIgLyppbnQqLztcblx0cHJpdmF0ZSBjb2xvckZpcmVmb3hTZXBhcmF0aW9uOm51bWJlciAvKmludCovO1xuXHRwcml2YXRlIGNvbG9yU2FmYXJpU2VwYXJhdGlvbjpudW1iZXIgLyppbnQqLztcblx0XG5cdC8vbWF0ZXJpYWwgb2JqZWN0c1xuXHRwcml2YXRlIGNvbG9yTWF0ZXJpYWw6TWV0aG9kTWF0ZXJpYWw7XG5cdFxuXHQvL3BhcnRpY2xlIG9iamVjdHNcblx0cHJpdmF0ZSBjb2xvckdlb21ldHJ5OlBhcnRpY2xlR2VvbWV0cnk7XG5cdHByaXZhdGUgY29sb3JBbmltYXRpb25TZXQ6UGFydGljbGVBbmltYXRpb25TZXQ7XG5cdFxuXHQvL3NjZW5lIG9iamVjdHNcblx0cHJpdmF0ZSBjb2xvclBhcnRpY2xlTWVzaDpNZXNoO1xuXHRwcml2YXRlIGNvbG9yQW5pbWF0b3JzOkFycmF5PFBhcnRpY2xlQW5pbWF0b3I+O1xuXHRcblx0Ly9uYXZpZ2F0aW9uIHZhcmlhYmxlc1xuXHRwcml2YXRlIHRpbWVyOlJlcXVlc3RBbmltYXRpb25GcmFtZTtcblx0cHJpdmF0ZSB0aW1lOm51bWJlciA9IDA7XG5cdHByaXZhdGUgYW5nbGU6bnVtYmVyID0gMDtcblx0cHJpdmF0ZSBtb3ZlOkJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBsYXN0UGFuQW5nbGU6bnVtYmVyO1xuXHRwcml2YXRlIGxhc3RUaWx0QW5nbGU6bnVtYmVyO1xuXHRwcml2YXRlIGxhc3RNb3VzZVg6bnVtYmVyO1xuXHRwcml2YXRlIGxhc3RNb3VzZVk6bnVtYmVyO1xuXHRcblx0LyoqXG5cdCAqIENvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEdsb2JhbCBpbml0aWFsaXNlIGZ1bmN0aW9uXG5cdCAqL1xuXHRwcml2YXRlIGluaXQoKTp2b2lkXG5cdHtcblx0XHR0aGlzLmluaXRFbmdpbmUoKTtcblx0XHR0aGlzLmluaXRMaWdodHMoKTtcblx0XHR0aGlzLmluaXRNYXRlcmlhbHMoKTtcblx0XHR0aGlzLmluaXRMaXN0ZW5lcnMoKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEluaXRpYWxpc2UgdGhlIGVuZ2luZVxuXHQgKi9cblx0cHJpdmF0ZSBpbml0RW5naW5lKCk6dm9pZFxuXHR7XG5cdFx0dGhpcy5zY2VuZSA9IG5ldyBTY2VuZSgpO1xuXG5cdFx0dGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKCk7XG5cblx0XHR0aGlzLnZpZXcgPSBuZXcgVmlldyhuZXcgRGVmYXVsdFJlbmRlcmVyKE1ldGhvZFJlbmRlcmVyUG9vbCksIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcblx0XHRcblx0XHQvL3NldHVwIGNvbnRyb2xsZXIgdG8gYmUgdXNlZCBvbiB0aGUgY2FtZXJhXG5cdFx0dGhpcy5jYW1lcmFDb250cm9sbGVyID0gbmV3IEhvdmVyQ29udHJvbGxlcih0aGlzLmNhbWVyYSwgbnVsbCwgMjI1LCAxMCwgMTAwMCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBsaWdodHNcblx0ICovXG5cdHByaXZhdGUgaW5pdExpZ2h0cygpOnZvaWRcblx0e1xuXHRcdC8vY3JlYXRlIGEgZ3JlZW4gcG9pbnQgbGlnaHRcblx0XHR0aGlzLmdyZWVuTGlnaHQgPSBuZXcgUG9pbnRMaWdodCgpO1xuXHRcdHRoaXMuZ3JlZW5MaWdodC5jb2xvciA9IDB4MDBGRjAwO1xuXHRcdHRoaXMuZ3JlZW5MaWdodC5hbWJpZW50ID0gMTtcblx0XHR0aGlzLmdyZWVuTGlnaHQuZmFsbE9mZiA9IDYwMDtcblx0XHR0aGlzLmdyZWVuTGlnaHQucmFkaXVzID0gMTAwO1xuXHRcdHRoaXMuZ3JlZW5MaWdodC5zcGVjdWxhciA9IDI7XG5cdFx0dGhpcy5zY2VuZS5hZGRDaGlsZCh0aGlzLmdyZWVuTGlnaHQpO1xuXHRcdFxuXHRcdC8vY3JlYXRlIGEgcmVkIHBvaW50bGlnaHRcblx0XHR0aGlzLmJsdWVMaWdodCA9IG5ldyBQb2ludExpZ2h0KCk7XG5cdFx0dGhpcy5ibHVlTGlnaHQuY29sb3IgPSAweDAwMDBGRjtcblx0XHR0aGlzLmJsdWVMaWdodC5mYWxsT2ZmID0gNjAwO1xuXHRcdHRoaXMuYmx1ZUxpZ2h0LnJhZGl1cyA9IDEwMDtcblx0XHR0aGlzLmJsdWVMaWdodC5zcGVjdWxhciA9IDI7XG5cdFx0dGhpcy5zY2VuZS5hZGRDaGlsZCh0aGlzLmJsdWVMaWdodCk7XG5cdFx0XG5cdFx0Ly9jcmVhdGUgYSBsaWdodHBpY2tlciBmb3IgdGhlIGdyZWVuIGFuZCByZWQgbGlnaHRcblx0XHR0aGlzLmxpZ2h0UGlja2VyID0gbmV3IFN0YXRpY0xpZ2h0UGlja2VyKFt0aGlzLmdyZWVuTGlnaHQsIHRoaXMuYmx1ZUxpZ2h0XSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBtYXRlcmlhbHNcblx0ICovXG5cdHByaXZhdGUgaW5pdE1hdGVyaWFscygpOnZvaWRcblx0e1xuXHRcdC8vc2V0dXAgdGhlIHBhcnRpY2xlIG1hdGVyaWFsXG5cdFx0dGhpcy5jb2xvck1hdGVyaWFsID0gbmV3IE1ldGhvZE1hdGVyaWFsKDB4RkZGRkZGKTtcblx0XHR0aGlzLmNvbG9yTWF0ZXJpYWwuYm90aFNpZGVzID0gdHJ1ZTtcblx0XHR0aGlzLmNvbG9yTWF0ZXJpYWwubGlnaHRQaWNrZXIgPSB0aGlzLmxpZ2h0UGlja2VyO1xuXHR9XG5cdFxuXHQvKipcblx0ICogSW5pdGlhbGlzZSB0aGUgcGFydGljbGVzXG5cdCAqL1xuXHRwcml2YXRlIGluaXRQYXJ0aWNsZXMoKTp2b2lkXG5cdHtcblx0XHR2YXIgaTpudW1iZXIgLyppbnQqLztcblx0XHR2YXIgajpudW1iZXIgLyppbnQqLztcblx0XHR2YXIgcG9pbnQ6VmVjdG9yM0Q7XG5cdFx0dmFyIHJnYjpWZWN0b3IzRDtcblx0XHR2YXIgY29sb3I6bnVtYmVyIC8qdWludCovXG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5jaHJvbWVCaXRtYXBEYXRhLndpZHRoOyBpKyspIHtcblx0XHRcdGZvciAoaiA9IDA7IGogPCB0aGlzLmNocm9tZUJpdG1hcERhdGEuaGVpZ2h0OyBqKyspIHtcblx0XHRcdFx0cG9pbnQgPSBuZXcgVmVjdG9yM0QoSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKihpIC0gdGhpcy5jaHJvbWVCaXRtYXBEYXRhLndpZHRoIC8gMiAtIDEwMCksIEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSooIC1qICsgdGhpcy5jaHJvbWVCaXRtYXBEYXRhLmhlaWdodCAvIDIpKTtcblx0XHRcdFx0Y29sb3IgPSB0aGlzLmNocm9tZUJpdG1hcERhdGEuZ2V0UGl4ZWwoaSwgaik7XG5cdFx0XHRcdGlmICgoKGNvbG9yID4+IDI0KSAmIDB4ZmYpID4gMHhiMCkge1xuXHRcdFx0XHRcdHRoaXMuY29sb3JWYWx1ZXMucHVzaChuZXcgVmVjdG9yM0QoKChjb2xvciAmIDB4ZmYwMDAwKSA+PiAxNikvMjU1LCAoKGNvbG9yICYgMHhmZjAwKSA+PiA4KS8yNTUsIChjb2xvciAmIDB4ZmYpLzI1NSkpO1xuXHRcdFx0XHRcdHRoaXMuY29sb3JQb2ludHMucHVzaChwb2ludCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly9kZWZpbmUgd2hlcmUgb25lIGxvZ28gc3RvcHMgYW5kIGFub3RoZXIgc3RhcnRzXG5cdFx0dGhpcy5jb2xvckNocm9tZVNlcGFyYXRpb24gPSB0aGlzLmNvbG9yUG9pbnRzLmxlbmd0aDtcblxuXHRcdFxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLmZpcmVmb3hCaXRtYXBEYXRhLndpZHRoOyBpKyspIHtcblx0XHRcdGZvciAoaiA9IDA7IGogPCB0aGlzLmZpcmVmb3hCaXRtYXBEYXRhLmhlaWdodDsgaisrKSB7XG5cdFx0XHRcdHBvaW50ID0gbmV3IFZlY3RvcjNEKEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSooaSAtIHRoaXMuZmlyZWZveEJpdG1hcERhdGEud2lkdGggLyAyICsgMTAwKSwgSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKiggLWogKyB0aGlzLmZpcmVmb3hCaXRtYXBEYXRhLmhlaWdodCAvIDIpKTtcblx0XHRcdFx0Y29sb3IgPSB0aGlzLmZpcmVmb3hCaXRtYXBEYXRhLmdldFBpeGVsKGksIGopO1xuXHRcdFx0XHRpZiAoKChjb2xvciA+PiAyNCkgJiAweGZmKSA+IDB4YjApIHtcblx0XHRcdFx0XHR0aGlzLmNvbG9yVmFsdWVzLnB1c2gobmV3IFZlY3RvcjNEKCgoY29sb3IgJiAweGZmMDAwMCkgPj4gMTYpLzI1NSwgKChjb2xvciAmIDB4ZmYwMCkgPj4gOCkvMjU1LCAoY29sb3IgJiAweGZmKS8yNTUpKTtcblx0XHRcdFx0XHR0aGlzLmNvbG9yUG9pbnRzLnB1c2gocG9pbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9kZWZpbmUgd2hlcmUgb25lIGxvZ28gc3RvcHMgYW5kIGFub3RoZXIgc3RhcnRzXG5cdFx0dGhpcy5jb2xvckZpcmVmb3hTZXBhcmF0aW9uID0gdGhpcy5jb2xvclBvaW50cy5sZW5ndGg7XG5cblxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLnNhZmFyaUJpdG1hcERhdGEud2lkdGg7IGkrKykge1xuXHRcdFx0Zm9yIChqID0gMDsgaiA8IHRoaXMuc2FmYXJpQml0bWFwRGF0YS5oZWlnaHQ7IGorKykge1xuXHRcdFx0XHRwb2ludCA9IG5ldyBWZWN0b3IzRChJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUqKGkgLSB0aGlzLnNhZmFyaUJpdG1hcERhdGEud2lkdGggLyAyKSwgSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKiggLWogKyB0aGlzLnNhZmFyaUJpdG1hcERhdGEuaGVpZ2h0IC8gMiksIC1JbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUqMTAwKTtcblx0XHRcdFx0Y29sb3IgPSB0aGlzLnNhZmFyaUJpdG1hcERhdGEuZ2V0UGl4ZWwoaSwgaik7XG5cdFx0XHRcdGlmICgoKGNvbG9yID4+IDI0KSAmIDB4ZmYpID4gMHhiMCkge1xuXHRcdFx0XHRcdHRoaXMuY29sb3JWYWx1ZXMucHVzaChuZXcgVmVjdG9yM0QoKChjb2xvciAmIDB4ZmYwMDAwKSA+PiAxNikvMjU1LCAoKGNvbG9yICYgMHhmZjAwKSA+PiA4KS8yNTUsIChjb2xvciAmIDB4ZmYpLzI1NSkpO1xuXHRcdFx0XHRcdHRoaXMuY29sb3JQb2ludHMucHVzaChwb2ludCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL2RlZmluZSB3aGVyZSBvbmUgbG9nbyBzdG9wcyBhbmQgYW5vdGhlciBzdGFydHNcblx0XHR0aGlzLmNvbG9yU2FmYXJpU2VwYXJhdGlvbiA9IHRoaXMuY29sb3JQb2ludHMubGVuZ3RoO1xuXG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5pZUJpdG1hcERhdGEud2lkdGg7IGkrKykge1xuXHRcdFx0Zm9yIChqID0gMDsgaiA8IHRoaXMuaWVCaXRtYXBEYXRhLmhlaWdodDsgaisrKSB7XG5cdFx0XHRcdHBvaW50ID0gbmV3IFZlY3RvcjNEKEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSooaSAtIHRoaXMuaWVCaXRtYXBEYXRhLndpZHRoIC8gMiksIEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSooIC1qICsgdGhpcy5pZUJpdG1hcERhdGEuaGVpZ2h0IC8gMiksIEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSoxMDApO1xuXHRcdFx0XHRjb2xvciA9IHRoaXMuaWVCaXRtYXBEYXRhLmdldFBpeGVsKGksIGopO1xuXHRcdFx0XHRpZiAoKChjb2xvciA+PiAyNCkgJiAweGZmKSA+IDB4YjApIHtcblx0XHRcdFx0XHR0aGlzLmNvbG9yVmFsdWVzLnB1c2gobmV3IFZlY3RvcjNEKCgoY29sb3IgJiAweGZmMDAwMCkgPj4gMTYpLzI1NSwgKChjb2xvciAmIDB4ZmYwMCkgPj4gOCkvMjU1LCAoY29sb3IgJiAweGZmKS8yNTUpKTtcblx0XHRcdFx0XHR0aGlzLmNvbG9yUG9pbnRzLnB1c2gocG9pbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIG51bTpudW1iZXIgLyp1aW50Ki8gPSB0aGlzLmNvbG9yUG9pbnRzLmxlbmd0aDtcblx0XHRcblx0XHQvL3NldHVwIHRoZSBiYXNlIGdlb21ldHJ5IGZvciBvbmUgcGFydGljbGVcblx0XHR2YXIgcGxhbmU6UHJpbWl0aXZlUGxhbmVQcmVmYWIgPSBuZXcgUHJpbWl0aXZlUGxhbmVQcmVmYWIoSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFLCBJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUsMSwxLGZhbHNlKTtcblx0XHRcblx0XHQvL2NvbWJpbmUgdGhlbSBpbnRvIGEgbGlzdFxuXHRcdHZhciBjb2xvckdlb21ldHJ5U2V0OkFycmF5PEdlb21ldHJ5PiA9IG5ldyBBcnJheTxHZW9tZXRyeT4oKTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbnVtOyBpKyspXG5cdFx0XHRjb2xvckdlb21ldHJ5U2V0LnB1c2gocGxhbmUuZ2VvbWV0cnkpO1xuXHRcdFxuXHRcdC8vZ2VuZXJhdGUgdGhlIHBhcnRpY2xlIGdlb21ldHJpZXNcblx0XHR0aGlzLmNvbG9yR2VvbWV0cnkgPSBQYXJ0aWNsZUdlb21ldHJ5SGVscGVyLmdlbmVyYXRlR2VvbWV0cnkoY29sb3JHZW9tZXRyeVNldCk7XG5cblx0XHQvL2RlZmluZSB0aGUgcGFydGljbGUgYW5pbWF0aW9ucyBhbmQgaW5pdCBmdW5jdGlvblxuXHRcdHRoaXMuY29sb3JBbmltYXRpb25TZXQgPSBuZXcgUGFydGljbGVBbmltYXRpb25TZXQoKTtcblx0XHR0aGlzLmNvbG9yQW5pbWF0aW9uU2V0LmFkZEFuaW1hdGlvbihuZXcgUGFydGljbGVCaWxsYm9hcmROb2RlKCkpO1xuXHRcdHRoaXMuY29sb3JBbmltYXRpb25TZXQuYWRkQW5pbWF0aW9uKG5ldyBQYXJ0aWNsZUJlemllckN1cnZlTm9kZShQYXJ0aWNsZVByb3BlcnRpZXNNb2RlLkxPQ0FMX1NUQVRJQykpO1xuXHRcdHRoaXMuY29sb3JBbmltYXRpb25TZXQuYWRkQW5pbWF0aW9uKG5ldyBQYXJ0aWNsZVBvc2l0aW9uTm9kZShQYXJ0aWNsZVByb3BlcnRpZXNNb2RlLkxPQ0FMX1NUQVRJQykpO1xuXHRcdHRoaXMuY29sb3JBbmltYXRpb25TZXQuYWRkQW5pbWF0aW9uKG5ldyBQYXJ0aWNsZUluaXRpYWxDb2xvck5vZGUoUGFydGljbGVQcm9wZXJ0aWVzTW9kZS5MT0NBTF9TVEFUSUMsIHRydWUsIGZhbHNlLCBuZXcgQ29sb3JUcmFuc2Zvcm0oMCwgMSwgMCwgMSkpKTtcblx0XHR0aGlzLmNvbG9yQW5pbWF0aW9uU2V0LmluaXRQYXJ0aWNsZUZ1bmMgPSB0aGlzLmluaUNvbG9yUGFydGljbGVGdW5jO1xuXHRcdHRoaXMuY29sb3JBbmltYXRpb25TZXQuaW5pdFBhcnRpY2xlU2NvcGUgPSB0aGlzO1xuXHR9XG5cdFxuXHQvKipcblx0ICogSW5pdGlhbGlzZSB0aGUgc2NlbmUgb2JqZWN0c1xuXHQgKi9cblx0cHJpdmF0ZSBpbml0T2JqZWN0cygpOnZvaWRcblx0e1xuXHRcdC8vaW5pdGlhbGlzZSBhbmltYXRvcnMgdmVjdG9yc1xuXHRcdHRoaXMuY29sb3JBbmltYXRvcnMgPSBuZXcgQXJyYXk8UGFydGljbGVBbmltYXRvcj4oSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5OVU1fQU5JTUFUT1JTKTtcblx0XHRcblx0XHQvL2NyZWF0ZSB0aGUgcGFydGljbGUgbWVzaFxuXHRcdHRoaXMuY29sb3JQYXJ0aWNsZU1lc2ggPSBuZXcgTWVzaCh0aGlzLmNvbG9yR2VvbWV0cnksIHRoaXMuY29sb3JNYXRlcmlhbCk7XG5cdFx0XG5cdFx0dmFyIGk6bnVtYmVyIC8qdWludCovID0gMDtcblx0XHRmb3IgKGk9MDsgaTxJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLk5VTV9BTklNQVRPUlM7IGkrKykge1xuXHRcdFx0Ly9jbG9uZSB0aGUgcGFydGljbGUgbWVzaFxuXHRcdFx0dGhpcy5jb2xvclBhcnRpY2xlTWVzaCA9IDxNZXNoPiB0aGlzLmNvbG9yUGFydGljbGVNZXNoLmNsb25lKCk7XG5cdFx0XHR0aGlzLmNvbG9yUGFydGljbGVNZXNoLnJvdGF0aW9uWSA9IDQ1KihpLTEpO1xuXHRcdFx0dGhpcy5zY2VuZS5hZGRDaGlsZCh0aGlzLmNvbG9yUGFydGljbGVNZXNoKTtcblxuXHRcdFx0Ly9jcmVhdGUgYW5kIHN0YXJ0IHRoZSBwYXJ0aWNsZSBhbmltYXRvclxuXHRcdFx0dGhpcy5jb2xvckFuaW1hdG9yc1tpXSA9IG5ldyBQYXJ0aWNsZUFuaW1hdG9yKHRoaXMuY29sb3JBbmltYXRpb25TZXQpO1xuXHRcdFx0dGhpcy5jb2xvclBhcnRpY2xlTWVzaC5hbmltYXRvciA9IHRoaXMuY29sb3JBbmltYXRvcnNbaV07XG5cdFx0XHR0aGlzLnNjZW5lLmFkZENoaWxkKHRoaXMuY29sb3JQYXJ0aWNsZU1lc2gpO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEluaXRpYWxpc2UgdGhlIGxpc3RlbmVyc1xuXHQgKi9cblx0cHJpdmF0ZSBpbml0TGlzdGVuZXJzKCk6dm9pZFxuXHR7XG5cdFx0d2luZG93Lm9ucmVzaXplID0gKGV2ZW50OlVJRXZlbnQpID0+IHRoaXMub25SZXNpemUoZXZlbnQpO1xuXG5cdFx0ZG9jdW1lbnQub25tb3VzZWRvd24gPSAoZXZlbnQ6TW91c2VFdmVudCkgPT4gdGhpcy5vbk1vdXNlRG93bihldmVudCk7XG5cdFx0ZG9jdW1lbnQub25tb3VzZXVwID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHRoaXMub25Nb3VzZVVwKGV2ZW50KTtcblx0XHRkb2N1bWVudC5vbm1vdXNlbW92ZSA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VNb3ZlKGV2ZW50KTtcblxuXG5cdFx0dGhpcy5vblJlc2l6ZSgpO1xuXG5cblx0XHR0aGlzLnRpbWVyID0gbmV3IFJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm9uRW50ZXJGcmFtZSwgdGhpcyk7XG5cdFx0dGhpcy50aW1lci5zdGFydCgpO1xuXG5cdFx0QXNzZXRMaWJyYXJ5LmFkZEV2ZW50TGlzdGVuZXIoTG9hZGVyRXZlbnQuUkVTT1VSQ0VfQ09NUExFVEUsIChldmVudDpMb2FkZXJFdmVudCkgPT4gdGhpcy5vblJlc291cmNlQ29tcGxldGUoZXZlbnQpKTtcblxuXHRcdC8vaW1hZ2UgdGV4dHVyZXNcblx0XHRBc3NldExpYnJhcnkubG9hZChuZXcgVVJMUmVxdWVzdChcImFzc2V0cy9maXJlZm94LnBuZ1wiKSk7XG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvY2hyb21lLnBuZ1wiKSk7XG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvc2FmYXJpLnBuZ1wiKSk7XG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvaWUucG5nXCIpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEluaXRpYWxpc2VyIGZvciBwYXJ0aWNsZSBwcm9wZXJ0aWVzXG5cdCAqL1xuXHRwcml2YXRlIGluaUNvbG9yUGFydGljbGVGdW5jKHByb3BlcnRpZXM6UGFydGljbGVQcm9wZXJ0aWVzKTp2b2lkXG5cdHtcblx0XHRwcm9wZXJ0aWVzLnN0YXJ0VGltZSA9IDA7XG5cdFx0cHJvcGVydGllcy5kdXJhdGlvbiA9IDE7XG5cdFx0dmFyIGRlZ3JlZTE6bnVtYmVyID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyO1xuXHRcdHZhciBkZWdyZWUyOm51bWJlciA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMjtcblx0XHR2YXIgcjpudW1iZXIgPSA1MDA7XG5cblx0XHRpZiAocHJvcGVydGllcy5pbmRleCA8IHRoaXMuY29sb3JDaHJvbWVTZXBhcmF0aW9uKVxuXHRcdFx0cHJvcGVydGllc1tQYXJ0aWNsZUJlemllckN1cnZlTm9kZS5CRVpJRVJfRU5EX1ZFQ1RPUjNEXSA9IG5ldyBWZWN0b3IzRCgzMDAqSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFLCAwLCAwKTtcblx0XHRlbHNlIGlmIChwcm9wZXJ0aWVzLmluZGV4IDwgdGhpcy5jb2xvckZpcmVmb3hTZXBhcmF0aW9uKVxuXHRcdFx0cHJvcGVydGllc1tQYXJ0aWNsZUJlemllckN1cnZlTm9kZS5CRVpJRVJfRU5EX1ZFQ1RPUjNEXSA9IG5ldyBWZWN0b3IzRCgtMzAwKkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSwgMCwgMCk7XG5cdFx0ZWxzZSBpZiAocHJvcGVydGllcy5pbmRleCA8IHRoaXMuY29sb3JTYWZhcmlTZXBhcmF0aW9uKVxuXHRcdFx0cHJvcGVydGllc1tQYXJ0aWNsZUJlemllckN1cnZlTm9kZS5CRVpJRVJfRU5EX1ZFQ1RPUjNEXSA9IG5ldyBWZWN0b3IzRCgwLCAwLCAzMDAqSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKTtcblx0XHRlbHNlXG5cdFx0XHRwcm9wZXJ0aWVzW1BhcnRpY2xlQmV6aWVyQ3VydmVOb2RlLkJFWklFUl9FTkRfVkVDVE9SM0RdID0gbmV3IFZlY3RvcjNEKDAsIDAsLTMwMCpJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUpO1xuXG5cdFx0dmFyIHJnYjpWZWN0b3IzRCA9IHRoaXMuY29sb3JWYWx1ZXNbcHJvcGVydGllcy5pbmRleF07XG5cdFx0cHJvcGVydGllc1tQYXJ0aWNsZUluaXRpYWxDb2xvck5vZGUuQ09MT1JfSU5JVElBTF9DT0xPUlRSQU5TRk9STV0gPSBuZXcgQ29sb3JUcmFuc2Zvcm0ocmdiLngsIHJnYi55LCByZ2IueiwgMSk7XG5cblx0XHRwcm9wZXJ0aWVzW1BhcnRpY2xlQmV6aWVyQ3VydmVOb2RlLkJFWklFUl9DT05UUk9MX1ZFQ1RPUjNEXSA9IG5ldyBWZWN0b3IzRChyICogTWF0aC5zaW4oZGVncmVlMSkgKiBNYXRoLmNvcyhkZWdyZWUyKSwgciAqIE1hdGguY29zKGRlZ3JlZTEpICogTWF0aC5jb3MoZGVncmVlMiksIHIgKiBNYXRoLnNpbihkZWdyZWUyKSk7XG5cdFx0cHJvcGVydGllc1tQYXJ0aWNsZVBvc2l0aW9uTm9kZS5QT1NJVElPTl9WRUNUT1IzRF0gPSB0aGlzLmNvbG9yUG9pbnRzW3Byb3BlcnRpZXMuaW5kZXhdO1xuXHR9XG5cblx0LyoqXG5cdCAqIE5hdmlnYXRpb24gYW5kIHJlbmRlciBsb29wXG5cdCAqL1xuXHRwcml2YXRlIG9uRW50ZXJGcmFtZShkdDpudW1iZXIpOnZvaWRcblx0e1xuXHRcdHRoaXMudGltZSArPSBkdDtcblxuXHRcdC8vdXBkYXRlIHRoZSBjYW1lcmEgcG9zaXRpb25cblx0XHR0aGlzLmNhbWVyYUNvbnRyb2xsZXIucGFuQW5nbGUgKz0gMC4yO1xuXHRcdFxuXHRcdC8vdXBkYXRlIHRoZSBwYXJ0aWNsZSBhbmltYXRvciBwbGF5aGVhZCBwb3NpdGlvbnNcblx0XHR2YXIgaTpudW1iZXIgLyp1aW50Ki87XG5cdFx0dmFyIHRpbWU6bnVtYmVyIC8qdWludCovO1xuXG5cdFx0aWYgKHRoaXMuY29sb3JBbmltYXRvcnMpIHtcblx0XHRcdGZvciAoaT0wOyBpPHRoaXMuY29sb3JBbmltYXRvcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dGltZSA9IDEwMDAqKE1hdGguc2luKHRoaXMudGltZS81MDAwICsgTWF0aC5QSSppLzQpICsgMSk7XG5cdFx0XHRcdHRoaXMuY29sb3JBbmltYXRvcnNbaV0udXBkYXRlKHRpbWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vdXBkYXRlIHRoZSBsaWdodCBwb3NpdGlvbnNcblx0XHR0aGlzLmFuZ2xlICs9IE1hdGguUEkgLyAxODA7XG5cdFx0dGhpcy5ncmVlbkxpZ2h0LnggPSBNYXRoLnNpbih0aGlzLmFuZ2xlKSAqIDYwMDtcblx0XHR0aGlzLmdyZWVuTGlnaHQueiA9IE1hdGguY29zKHRoaXMuYW5nbGUpICogNjAwO1xuXHRcdHRoaXMuYmx1ZUxpZ2h0LnggPSBNYXRoLnNpbih0aGlzLmFuZ2xlICsgTWF0aC5QSSkgKiA2MDA7XG5cdFx0dGhpcy5ibHVlTGlnaHQueiA9IE1hdGguY29zKHRoaXMuYW5nbGUgKyBNYXRoLlBJKSAqIDYwMDtcblxuXHRcdHRoaXMudmlldy5yZW5kZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaXN0ZW5lciBmdW5jdGlvbiBmb3IgcmVzb3VyY2UgY29tcGxldGUgZXZlbnQgb24gYXNzZXQgbGlicmFyeVxuXHQgKi9cblx0cHJpdmF0ZSBvblJlc291cmNlQ29tcGxldGUoZXZlbnQ6TG9hZGVyRXZlbnQpXG5cdHtcblx0XHRzd2l0Y2ggKGV2ZW50LnVybCkge1xuXG5cdFx0XHQvL2ltYWdlIHRleHR1cmVzXG5cdFx0XHRjYXNlIFwiYXNzZXRzL2ZpcmVmb3gucG5nXCIgOlxuXHRcdFx0XHR0aGlzLmZpcmVmb3hCaXRtYXBEYXRhID0gQ2FzdC5iaXRtYXBEYXRhKGV2ZW50LmFzc2V0c1sgMCBdKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXNzZXRzL2Nocm9tZS5wbmdcIiA6XG5cdFx0XHRcdHRoaXMuY2hyb21lQml0bWFwRGF0YSA9IENhc3QuYml0bWFwRGF0YShldmVudC5hc3NldHNbIDAgXSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImFzc2V0cy9pZS5wbmdcIiA6XG5cdFx0XHRcdHRoaXMuaWVCaXRtYXBEYXRhID0gQ2FzdC5iaXRtYXBEYXRhKGV2ZW50LmFzc2V0c1sgMCBdKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXNzZXRzL3NhZmFyaS5wbmdcIiA6XG5cdFx0XHRcdHRoaXMuc2FmYXJpQml0bWFwRGF0YSA9IENhc3QuYml0bWFwRGF0YShldmVudC5hc3NldHNbIDAgXSk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuZmlyZWZveEJpdG1hcERhdGEgIT0gbnVsbCAmJiB0aGlzLmNocm9tZUJpdG1hcERhdGEgIT0gbnVsbCAmJiB0aGlzLnNhZmFyaUJpdG1hcERhdGEgIT0gbnVsbCAmJiB0aGlzLmllQml0bWFwRGF0YSAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLmluaXRQYXJ0aWNsZXMoKTtcblx0XHRcdHRoaXMuaW5pdE9iamVjdHMoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTW91c2UgZG93biBsaXN0ZW5lciBmb3IgbmF2aWdhdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBvbk1vdXNlRG93bihldmVudDpNb3VzZUV2ZW50KTp2b2lkXG5cdHtcblx0XHR0aGlzLmxhc3RQYW5BbmdsZSA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5wYW5BbmdsZTtcblx0XHR0aGlzLmxhc3RUaWx0QW5nbGUgPSB0aGlzLmNhbWVyYUNvbnRyb2xsZXIudGlsdEFuZ2xlO1xuXHRcdHRoaXMubGFzdE1vdXNlWCA9IGV2ZW50LmNsaWVudFg7XG5cdFx0dGhpcy5sYXN0TW91c2VZID0gZXZlbnQuY2xpZW50WTtcblx0XHR0aGlzLm1vdmUgPSB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIHVwIGxpc3RlbmVyIGZvciBuYXZpZ2F0aW9uXG5cdCAqL1xuXHRwcml2YXRlIG9uTW91c2VVcChldmVudDpNb3VzZUV2ZW50KTp2b2lkXG5cdHtcblx0XHR0aGlzLm1vdmUgPSBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBNb3VzZSBtb3ZlIGxpc3RlbmVyIGZvciBtb3VzZUxvY2tcblx0ICovXG5cdHByaXZhdGUgb25Nb3VzZU1vdmUoZXZlbnQ6TW91c2VFdmVudCk6dm9pZFxuXHR7XG5cdFx0aWYgKHRoaXMubW92ZSkge1xuXHRcdFx0dGhpcy5jYW1lcmFDb250cm9sbGVyLnBhbkFuZ2xlID0gMC4zKihldmVudC5jbGllbnRYIC0gdGhpcy5sYXN0TW91c2VYKSArIHRoaXMubGFzdFBhbkFuZ2xlO1xuXHRcdFx0dGhpcy5jYW1lcmFDb250cm9sbGVyLnRpbHRBbmdsZSA9IDAuMyooZXZlbnQuY2xpZW50WSAtIHRoaXMubGFzdE1vdXNlWSkgKyB0aGlzLmxhc3RUaWx0QW5nbGU7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIHdpbmRvdyBsaXN0ZW5lciBmb3IgcmVzaXplIGV2ZW50c1xuXHQgKi9cblx0cHJpdmF0ZSBvblJlc2l6ZShldmVudDpVSUV2ZW50ID0gbnVsbCk6dm9pZFxuXHR7XG5cdFx0dGhpcy52aWV3LnkgPSAwO1xuXHRcdHRoaXMudmlldy54ID0gMDtcblx0XHR0aGlzLnZpZXcud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0XHR0aGlzLnZpZXcuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHR9XG59XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKVxue1xuXHRuZXcgSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucygpO1xufSJdfQ==