/*

Particle explosions in Away3D using the Adobe AIR and Adobe Flash Player logos

Demonstrates:

How to split images into particles.
How to share particle geometries and animation sets between meshes and animators.
How to manually update the playhead of a particle animator using the update() function.

Code by Rob Bateman & Liao Cheng
rob@infiniteturtles.co.uk
http://www.infiniteturtles.co.uk
liaocheng210@126.com

This code is distributed under the MIT License

Copyright (c) The Away Foundation http://www.theawayfoundation.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var Scene = require("awayjs-core/lib/containers/Scene");
var View = require("awayjs-core/lib/containers/View");
var HoverController = require("awayjs-core/lib/controllers/HoverController");
var Camera = require("awayjs-core/lib/entities/Camera");
var Mesh = require("awayjs-core/lib/entities/Mesh");
var PointLight = require("awayjs-core/lib/entities/PointLight");
var LoaderEvent = require("awayjs-core/lib/events/LoaderEvent");
var ColorTransform = require("awayjs-core/lib/core/geom/ColorTransform");
var Vector3D = require("awayjs-core/lib/core/geom/Vector3D");
var AssetLibrary = require("awayjs-core/lib/core/library/AssetLibrary");
var URLRequest = require("awayjs-core/lib/core/net/URLRequest");
var TriangleMethodMaterial = require("awayjs-stagegl/lib/materials/TriangleMethodMaterial");
var StaticLightPicker = require("awayjs-core/lib/materials/lightpickers/StaticLightPicker");
var PrimitivePlanePrefab = require("awayjs-core/lib/prefabs/PrimitivePlanePrefab");
var DefaultRenderer = require("awayjs-stagegl/lib/core/render/DefaultRenderer");
var Cast = require("awayjs-core/lib/utils/Cast");
var RequestAnimationFrame = require("awayjs-core/lib/utils/RequestAnimationFrame");
var ParticleAnimationSet = require("awayjs-renderergl/lib/animators/ParticleAnimationSet");
var ParticleAnimator = require("awayjs-renderergl/lib/animators/ParticleAnimator");
var ParticlePropertiesMode = require("awayjs-renderergl/lib/animators/data/ParticlePropertiesMode");
var ParticleBillboardNode = require("awayjs-renderergl/lib/animators/nodes/ParticleBillboardNode");
var ParticleBezierCurveNode = require("awayjs-renderergl/lib/animators/nodes/ParticleBezierCurveNode");
var ParticleInitialColorNode = require("awayjs-renderergl/lib/animators/nodes/ParticleInitialColorNode");
var ParticlePositionNode = require("awayjs-renderergl/lib/animators/nodes/ParticlePositionNode");
var ParticleGeometryHelper = require("awayjs-renderergl/lib/tools/helpers/ParticleGeometryHelper");
var Intermediate_ParticleExplosions = (function () {
    /**
     * Constructor
     */
    function Intermediate_ParticleExplosions() {
        this.colorValues = new Array();
        this.colorPoints = new Array();
        this.time = 0;
        this.angle = 0;
        this.move = false;
        this.init();
    }
    /**
     * Global initialise function
     */
    Intermediate_ParticleExplosions.prototype.init = function () {
        this.initEngine();
        this.initLights();
        this.initMaterials();
        this.initListeners();
    };
    /**
     * Initialise the engine
     */
    Intermediate_ParticleExplosions.prototype.initEngine = function () {
        this.scene = new Scene();
        this.camera = new Camera();
        this.view = new View(new DefaultRenderer(), this.scene, this.camera);
        //setup controller to be used on the camera
        this.cameraController = new HoverController(this.camera, null, 225, 10, 1000);
    };
    /**
     * Initialise the lights
     */
    Intermediate_ParticleExplosions.prototype.initLights = function () {
        //create a green point light
        this.greenLight = new PointLight();
        this.greenLight.color = 0x00FF00;
        this.greenLight.ambient = 1;
        this.greenLight.fallOff = 600;
        this.greenLight.radius = 100;
        this.greenLight.specular = 2;
        this.scene.addChild(this.greenLight);
        //create a red pointlight
        this.blueLight = new PointLight();
        this.blueLight.color = 0x0000FF;
        this.blueLight.fallOff = 600;
        this.blueLight.radius = 100;
        this.blueLight.specular = 2;
        this.scene.addChild(this.blueLight);
        //create a lightpicker for the green and red light
        this.lightPicker = new StaticLightPicker([this.greenLight, this.blueLight]);
    };
    /**
     * Initialise the materials
     */
    Intermediate_ParticleExplosions.prototype.initMaterials = function () {
        //setup the particle material
        this.colorMaterial = new TriangleMethodMaterial(0xFFFFFF);
        this.colorMaterial.bothSides = true;
        this.colorMaterial.lightPicker = this.lightPicker;
    };
    /**
     * Initialise the particles
     */
    Intermediate_ParticleExplosions.prototype.initParticles = function () {
        var i /*int*/;
        var j /*int*/;
        var point;
        var rgb;
        var color; /*uint*/
        for (i = 0; i < this.chromeBitmapData.width; i++) {
            for (j = 0; j < this.chromeBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.chromeBitmapData.width / 2 - 100), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.chromeBitmapData.height / 2));
                color = this.chromeBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        //define where one logo stops and another starts
        this.colorChromeSeparation = this.colorPoints.length;
        for (i = 0; i < this.firefoxBitmapData.width; i++) {
            for (j = 0; j < this.firefoxBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.firefoxBitmapData.width / 2 + 100), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.firefoxBitmapData.height / 2));
                color = this.firefoxBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        //define where one logo stops and another starts
        this.colorFirefoxSeparation = this.colorPoints.length;
        for (i = 0; i < this.safariBitmapData.width; i++) {
            for (j = 0; j < this.safariBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.safariBitmapData.width / 2), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.safariBitmapData.height / 2), -Intermediate_ParticleExplosions.PARTICLE_SIZE * 100);
                color = this.safariBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        //define where one logo stops and another starts
        this.colorSafariSeparation = this.colorPoints.length;
        for (i = 0; i < this.ieBitmapData.width; i++) {
            for (j = 0; j < this.ieBitmapData.height; j++) {
                point = new Vector3D(Intermediate_ParticleExplosions.PARTICLE_SIZE * (i - this.ieBitmapData.width / 2), Intermediate_ParticleExplosions.PARTICLE_SIZE * (-j + this.ieBitmapData.height / 2), Intermediate_ParticleExplosions.PARTICLE_SIZE * 100);
                color = this.ieBitmapData.getPixel(i, j);
                if (((color >> 24) & 0xff) > 0xb0) {
                    this.colorValues.push(new Vector3D(((color & 0xff0000) >> 16) / 255, ((color & 0xff00) >> 8) / 255, (color & 0xff) / 255));
                    this.colorPoints.push(point);
                }
            }
        }
        var num = this.colorPoints.length;
        //setup the base geometry for one particle
        var plane = new PrimitivePlanePrefab(Intermediate_ParticleExplosions.PARTICLE_SIZE, Intermediate_ParticleExplosions.PARTICLE_SIZE, 1, 1, false);
        //combine them into a list
        var colorGeometrySet = new Array();
        for (i = 0; i < num; i++)
            colorGeometrySet.push(plane.geometry);
        //generate the particle geometries
        this.colorGeometry = ParticleGeometryHelper.generateGeometry(colorGeometrySet);
        //define the particle animations and init function
        this.colorAnimationSet = new ParticleAnimationSet();
        this.colorAnimationSet.addAnimation(new ParticleBillboardNode());
        this.colorAnimationSet.addAnimation(new ParticleBezierCurveNode(ParticlePropertiesMode.LOCAL_STATIC));
        this.colorAnimationSet.addAnimation(new ParticlePositionNode(ParticlePropertiesMode.LOCAL_STATIC));
        this.colorAnimationSet.addAnimation(new ParticleInitialColorNode(ParticlePropertiesMode.LOCAL_STATIC, true, false, new ColorTransform(0, 1, 0, 1)));
        this.colorAnimationSet.initParticleFunc = this.iniColorParticleFunc;
        this.colorAnimationSet.initParticleScope = this;
    };
    /**
     * Initialise the scene objects
     */
    Intermediate_ParticleExplosions.prototype.initObjects = function () {
        //initialise animators vectors
        this.colorAnimators = new Array(Intermediate_ParticleExplosions.NUM_ANIMATORS);
        //create the particle mesh
        this.colorParticleMesh = new Mesh(this.colorGeometry, this.colorMaterial);
        var i = 0;
        for (i = 0; i < Intermediate_ParticleExplosions.NUM_ANIMATORS; i++) {
            //clone the particle mesh
            this.colorParticleMesh = this.colorParticleMesh.clone();
            this.colorParticleMesh.rotationY = 45 * (i - 1);
            this.scene.addChild(this.colorParticleMesh);
            //create and start the particle animator
            this.colorAnimators[i] = new ParticleAnimator(this.colorAnimationSet);
            this.colorParticleMesh.animator = this.colorAnimators[i];
            this.scene.addChild(this.colorParticleMesh);
        }
    };
    /**
     * Initialise the listeners
     */
    Intermediate_ParticleExplosions.prototype.initListeners = function () {
        var _this = this;
        window.onresize = function (event) { return _this.onResize(event); };
        document.onmousedown = function (event) { return _this.onMouseDown(event); };
        document.onmouseup = function (event) { return _this.onMouseUp(event); };
        document.onmousemove = function (event) { return _this.onMouseMove(event); };
        this.onResize();
        this.timer = new RequestAnimationFrame(this.onEnterFrame, this);
        this.timer.start();
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, function (event) { return _this.onResourceComplete(event); });
        //image textures
        AssetLibrary.load(new URLRequest("assets/firefox.png"));
        AssetLibrary.load(new URLRequest("assets/chrome.png"));
        AssetLibrary.load(new URLRequest("assets/safari.png"));
        AssetLibrary.load(new URLRequest("assets/ie.png"));
    };
    /**
     * Initialiser for particle properties
     */
    Intermediate_ParticleExplosions.prototype.iniColorParticleFunc = function (properties) {
        properties.startTime = 0;
        properties.duration = 1;
        var degree1 = Math.random() * Math.PI * 2;
        var degree2 = Math.random() * Math.PI * 2;
        var r = 500;
        if (properties.index < this.colorChromeSeparation)
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(300 * Intermediate_ParticleExplosions.PARTICLE_SIZE, 0, 0);
        else if (properties.index < this.colorFirefoxSeparation)
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(-300 * Intermediate_ParticleExplosions.PARTICLE_SIZE, 0, 0);
        else if (properties.index < this.colorSafariSeparation)
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(0, 0, 300 * Intermediate_ParticleExplosions.PARTICLE_SIZE);
        else
            properties[ParticleBezierCurveNode.BEZIER_END_VECTOR3D] = new Vector3D(0, 0, -300 * Intermediate_ParticleExplosions.PARTICLE_SIZE);
        var rgb = this.colorValues[properties.index];
        properties[ParticleInitialColorNode.COLOR_INITIAL_COLORTRANSFORM] = new ColorTransform(rgb.x, rgb.y, rgb.z, 1);
        properties[ParticleBezierCurveNode.BEZIER_CONTROL_VECTOR3D] = new Vector3D(r * Math.sin(degree1) * Math.cos(degree2), r * Math.cos(degree1) * Math.cos(degree2), r * Math.sin(degree2));
        properties[ParticlePositionNode.POSITION_VECTOR3D] = this.colorPoints[properties.index];
    };
    /**
     * Navigation and render loop
     */
    Intermediate_ParticleExplosions.prototype.onEnterFrame = function (dt) {
        this.time += dt;
        //update the camera position
        this.cameraController.panAngle += 0.2;
        //update the particle animator playhead positions
        var i /*uint*/;
        var time /*uint*/;
        if (this.colorAnimators) {
            for (i = 0; i < this.colorAnimators.length; i++) {
                time = 1000 * (Math.sin(this.time / 5000 + Math.PI * i / 4) + 1);
                this.colorAnimators[i].update(time);
            }
        }
        //update the light positions
        this.angle += Math.PI / 180;
        this.greenLight.x = Math.sin(this.angle) * 600;
        this.greenLight.z = Math.cos(this.angle) * 600;
        this.blueLight.x = Math.sin(this.angle + Math.PI) * 600;
        this.blueLight.z = Math.cos(this.angle + Math.PI) * 600;
        this.view.render();
    };
    /**
     * Listener function for resource complete event on asset library
     */
    Intermediate_ParticleExplosions.prototype.onResourceComplete = function (event) {
        switch (event.url) {
            case "assets/firefox.png":
                this.firefoxBitmapData = Cast.bitmapData(event.assets[0]);
                break;
            case "assets/chrome.png":
                this.chromeBitmapData = Cast.bitmapData(event.assets[0]);
                break;
            case "assets/ie.png":
                this.ieBitmapData = Cast.bitmapData(event.assets[0]);
                break;
            case "assets/safari.png":
                this.safariBitmapData = Cast.bitmapData(event.assets[0]);
                break;
        }
        if (this.firefoxBitmapData != null && this.chromeBitmapData != null && this.safariBitmapData != null && this.ieBitmapData != null) {
            this.initParticles();
            this.initObjects();
        }
    };
    /**
     * Mouse down listener for navigation
     */
    Intermediate_ParticleExplosions.prototype.onMouseDown = function (event) {
        this.lastPanAngle = this.cameraController.panAngle;
        this.lastTiltAngle = this.cameraController.tiltAngle;
        this.lastMouseX = event.clientX;
        this.lastMouseY = event.clientY;
        this.move = true;
    };
    /**
     * Mouse up listener for navigation
     */
    Intermediate_ParticleExplosions.prototype.onMouseUp = function (event) {
        this.move = false;
    };
    /**
     * Mouse move listener for mouseLock
     */
    Intermediate_ParticleExplosions.prototype.onMouseMove = function (event) {
        if (this.move) {
            this.cameraController.panAngle = 0.3 * (event.clientX - this.lastMouseX) + this.lastPanAngle;
            this.cameraController.tiltAngle = 0.3 * (event.clientY - this.lastMouseY) + this.lastTiltAngle;
        }
    };
    /**
     * window listener for resize events
     */
    Intermediate_ParticleExplosions.prototype.onResize = function (event) {
        if (event === void 0) { event = null; }
        this.view.y = 0;
        this.view.x = 0;
        this.view.width = window.innerWidth;
        this.view.height = window.innerHeight;
    };
    Intermediate_ParticleExplosions.PARTICLE_SIZE = 2;
    Intermediate_ParticleExplosions.NUM_ANIMATORS = 4;
    return Intermediate_ParticleExplosions;
})();
window.onload = function () {
    new Intermediate_ParticleExplosions();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLnRzIl0sIm5hbWVzIjpbIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMiLCJJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLmNvbnN0cnVjdG9yIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0IiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0RW5naW5lIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0TGlnaHRzIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0TWF0ZXJpYWxzIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0UGFydGljbGVzIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5pbml0T2JqZWN0cyIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuaW5pdExpc3RlbmVycyIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuaW5pQ29sb3JQYXJ0aWNsZUZ1bmMiLCJJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLm9uRW50ZXJGcmFtZSIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMub25SZXNvdXJjZUNvbXBsZXRlIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5vbk1vdXNlRG93biIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMub25Nb3VzZVVwIiwiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5vbk1vdXNlTW92ZSIsIkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMub25SZXNpemUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBcUNFO0FBRUYsSUFBTyxLQUFLLFdBQWdCLGtDQUFrQyxDQUFD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LEdBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBO2dCQUM3Q0EsSUFBSUEsR0FBR0EsSUFBSUEsR0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsRUFBRUEsR0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3pEQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNyQ0EsQ0FBQ0E7UUFDRkEsQ0FBQ0E7UUFFREEsQUFDQUEsNEJBRDRCQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsS0FBS0EsSUFBSUEsSUFBSUEsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDNUJBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO1FBQy9DQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUMvQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDeERBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLElBQUlB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LENBQUNBLGdCQUFnQkEsQ0FBQ0EsU0FBU0EsR0FBR0EsR0FBR0EsR0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsR0FBR0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0E7UUFDOUZBLENBQUNBO0lBQ0ZBLENBQUNBO0lBRURkOztPQUVHQTtJQUNLQSxrREFBUUEsR0FBaEJBLFVBQWlCQSxLQUFvQkE7UUFBcEJlLHFCQUFvQkEsR0FBcEJBLFlBQW9CQTtRQUVwQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaEJBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1FBQ2hCQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxNQUFNQSxDQUFDQSxVQUFVQSxDQUFDQTtRQUNwQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsTUFBTUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7SUFDdkNBLENBQUNBO0lBbFljZiw2Q0FBYUEsR0FBbUJBLENBQUNBLENBQUNBO0lBQ2xDQSw2Q0FBYUEsR0FBbUJBLENBQUNBLENBQUNBO0lBa1lsREEsc0NBQUNBO0FBQURBLENBcllBLEFBcVlDQSxJQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sR0FBRztJQUVmLElBQUksK0JBQStCLEVBQUUsQ0FBQztBQUN2QyxDQUFDLENBQUEiLCJmaWxlIjoiSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXNDb250ZW50IjpbIu+7vy8qXG5cblBhcnRpY2xlIGV4cGxvc2lvbnMgaW4gQXdheTNEIHVzaW5nIHRoZSBBZG9iZSBBSVIgYW5kIEFkb2JlIEZsYXNoIFBsYXllciBsb2dvc1xuXG5EZW1vbnN0cmF0ZXM6XG5cbkhvdyB0byBzcGxpdCBpbWFnZXMgaW50byBwYXJ0aWNsZXMuXG5Ib3cgdG8gc2hhcmUgcGFydGljbGUgZ2VvbWV0cmllcyBhbmQgYW5pbWF0aW9uIHNldHMgYmV0d2VlbiBtZXNoZXMgYW5kIGFuaW1hdG9ycy5cbkhvdyB0byBtYW51YWxseSB1cGRhdGUgdGhlIHBsYXloZWFkIG9mIGEgcGFydGljbGUgYW5pbWF0b3IgdXNpbmcgdGhlIHVwZGF0ZSgpIGZ1bmN0aW9uLlxuXG5Db2RlIGJ5IFJvYiBCYXRlbWFuICYgTGlhbyBDaGVuZ1xucm9iQGluZmluaXRldHVydGxlcy5jby51a1xuaHR0cDovL3d3dy5pbmZpbml0ZXR1cnRsZXMuY28udWtcbmxpYW9jaGVuZzIxMEAxMjYuY29tXG5cblRoaXMgY29kZSBpcyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcblxuQ29weXJpZ2h0IChjKSBUaGUgQXdheSBGb3VuZGF0aW9uIGh0dHA6Ly93d3cudGhlYXdheWZvdW5kYXRpb24ub3JnXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIOKAnFNvZnR3YXJl4oCdKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCDigJxBUyBJU+KAnSwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG5cbmltcG9ydCBTY2VuZVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb250YWluZXJzL1NjZW5lXCIpO1xuaW1wb3J0IFZpZXdcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb250YWluZXJzL1ZpZXdcIik7XG5pbXBvcnQgSG92ZXJDb250cm9sbGVyXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29udHJvbGxlcnMvSG92ZXJDb250cm9sbGVyXCIpO1xuaW1wb3J0IENhbWVyYVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9lbnRpdGllcy9DYW1lcmFcIik7XG5pbXBvcnQgTWVzaFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2VudGl0aWVzL01lc2hcIik7XG5pbXBvcnQgUG9pbnRMaWdodFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZW50aXRpZXMvUG9pbnRMaWdodFwiKTtcbmltcG9ydCBMb2FkZXJFdmVudFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0xvYWRlckV2ZW50XCIpO1xuaW1wb3J0IEJpdG1hcERhdGFcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvYmFzZS9CaXRtYXBEYXRhXCIpO1xuaW1wb3J0IEdlb21ldHJ5XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvYmFzZS9HZW9tZXRyeVwiKTtcbmltcG9ydCBDb2xvclRyYW5zZm9ybVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvZ2VvbS9Db2xvclRyYW5zZm9ybVwiKTtcbmltcG9ydCBWZWN0b3IzRFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL2dlb20vVmVjdG9yM0RcIik7XG5pbXBvcnQgQXNzZXRMaWJyYXJ5XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL2xpYnJhcnkvQXNzZXRMaWJyYXJ5XCIpO1xuaW1wb3J0IFVSTFJlcXVlc3RcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvbmV0L1VSTFJlcXVlc3RcIik7XG5pbXBvcnQgVHJpYW5nbGVNZXRob2RNYXRlcmlhbFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvbWF0ZXJpYWxzL1RyaWFuZ2xlTWV0aG9kTWF0ZXJpYWxcIik7XG5pbXBvcnQgVHJpYW5nbGVNYXRlcmlhbE1vZGVcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvbWF0ZXJpYWxzL1RyaWFuZ2xlTWF0ZXJpYWxNb2RlXCIpO1xuaW1wb3J0IFN0YXRpY0xpZ2h0UGlja2VyXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL21hdGVyaWFscy9saWdodHBpY2tlcnMvU3RhdGljTGlnaHRQaWNrZXJcIik7XG5pbXBvcnQgRGlyZWN0aW9uYWxTaGFkb3dNYXBwZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL21hdGVyaWFscy9zaGFkb3dtYXBwZXJzL0RpcmVjdGlvbmFsU2hhZG93TWFwcGVyXCIpO1xuaW1wb3J0IFByaW1pdGl2ZVBsYW5lUHJlZmFiXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3ByZWZhYnMvUHJpbWl0aXZlUGxhbmVQcmVmYWJcIik7XG5pbXBvcnQgUGFyc2VyVXRpbHNcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3BhcnNlcnMvUGFyc2VyVXRpbHNcIik7XG5pbXBvcnQgRGVmYXVsdFJlbmRlcmVyXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9yZW5kZXIvRGVmYXVsdFJlbmRlcmVyXCIpO1xuaW1wb3J0IEltYWdlVGV4dHVyZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdGV4dHVyZXMvSW1hZ2VUZXh0dXJlXCIpO1xuaW1wb3J0IFNwZWN1bGFyQml0bWFwVGV4dHVyZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdGV4dHVyZXMvU3BlY3VsYXJCaXRtYXBUZXh0dXJlXCIpO1xuaW1wb3J0IENhc3RcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi91dGlscy9DYXN0XCIpO1xuaW1wb3J0IFJlcXVlc3RBbmltYXRpb25GcmFtZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIpO1xuXG5pbXBvcnQgUGFydGljbGVHZW9tZXRyeVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2NvcmUvYmFzZS9QYXJ0aWNsZUdlb21ldHJ5XCIpO1xuaW1wb3J0IFBhcnRpY2xlQW5pbWF0aW9uU2V0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9QYXJ0aWNsZUFuaW1hdGlvblNldFwiKTtcbmltcG9ydCBQYXJ0aWNsZUFuaW1hdG9yXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL1BhcnRpY2xlQW5pbWF0b3JcIik7XG5pbXBvcnQgUGFydGljbGVQcm9wZXJ0aWVzXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9kYXRhL1BhcnRpY2xlUHJvcGVydGllc1wiKTtcbmltcG9ydCBQYXJ0aWNsZVByb3BlcnRpZXNNb2RlXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvZGF0YS9QYXJ0aWNsZVByb3BlcnRpZXNNb2RlXCIpO1xuaW1wb3J0IFBhcnRpY2xlQmlsbGJvYXJkTm9kZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL25vZGVzL1BhcnRpY2xlQmlsbGJvYXJkTm9kZVwiKTtcbmltcG9ydCBQYXJ0aWNsZUJlemllckN1cnZlTm9kZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL25vZGVzL1BhcnRpY2xlQmV6aWVyQ3VydmVOb2RlXCIpO1xuaW1wb3J0IFBhcnRpY2xlSW5pdGlhbENvbG9yTm9kZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL25vZGVzL1BhcnRpY2xlSW5pdGlhbENvbG9yTm9kZVwiKTtcbmltcG9ydCBQYXJ0aWNsZVBvc2l0aW9uTm9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvbm9kZXMvUGFydGljbGVQb3NpdGlvbk5vZGVcIik7XG5pbXBvcnQgUGFydGljbGVHZW9tZXRyeUhlbHBlclx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvdG9vbHMvaGVscGVycy9QYXJ0aWNsZUdlb21ldHJ5SGVscGVyXCIpO1xuXG5jbGFzcyBJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zXG57XG5cdHByaXZhdGUgc3RhdGljIFBBUlRJQ0xFX1NJWkU6bnVtYmVyIC8qdWludCovID0gMjtcblx0cHJpdmF0ZSBzdGF0aWMgTlVNX0FOSU1BVE9SUzpudW1iZXIgLyp1aW50Ki8gPSA0O1xuXHRcblx0Ly9lbmdpbmUgdmFyaWFibGVzXG5cdHByaXZhdGUgc2NlbmU6U2NlbmU7XG5cdHByaXZhdGUgY2FtZXJhOkNhbWVyYTtcblx0cHJpdmF0ZSB2aWV3OlZpZXc7XG5cdHByaXZhdGUgY2FtZXJhQ29udHJvbGxlcjpIb3ZlckNvbnRyb2xsZXI7XG5cdFxuXHQvL2xpZ2h0IHZhcmlhYmxlc1xuXHRwcml2YXRlIGdyZWVuTGlnaHQ6UG9pbnRMaWdodDtcblx0cHJpdmF0ZSBibHVlTGlnaHQ6UG9pbnRMaWdodDtcblx0cHJpdmF0ZSBsaWdodFBpY2tlcjpTdGF0aWNMaWdodFBpY2tlcjtcblx0XG5cdC8vZGF0YSB2YXJpYWJsZXNcblx0cHJpdmF0ZSBjaHJvbWVCaXRtYXBEYXRhOkJpdG1hcERhdGE7XG5cdHByaXZhdGUgZmlyZWZveEJpdG1hcERhdGE6Qml0bWFwRGF0YTtcblx0cHJpdmF0ZSBpZUJpdG1hcERhdGE6Qml0bWFwRGF0YTtcblx0cHJpdmF0ZSBzYWZhcmlCaXRtYXBEYXRhOkJpdG1hcERhdGE7XG5cdHByaXZhdGUgY29sb3JWYWx1ZXM6QXJyYXk8VmVjdG9yM0Q+ID0gbmV3IEFycmF5PFZlY3RvcjNEPigpO1xuXHRwcml2YXRlIGNvbG9yUG9pbnRzOkFycmF5PFZlY3RvcjNEPiA9IG5ldyBBcnJheTxWZWN0b3IzRD4oKTtcblx0cHJpdmF0ZSBjb2xvckNocm9tZVNlcGFyYXRpb246bnVtYmVyIC8qaW50Ki87XG5cdHByaXZhdGUgY29sb3JGaXJlZm94U2VwYXJhdGlvbjpudW1iZXIgLyppbnQqLztcblx0cHJpdmF0ZSBjb2xvclNhZmFyaVNlcGFyYXRpb246bnVtYmVyIC8qaW50Ki87XG5cdFxuXHQvL21hdGVyaWFsIG9iamVjdHNcblx0cHJpdmF0ZSBjb2xvck1hdGVyaWFsOlRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWw7XG5cdFxuXHQvL3BhcnRpY2xlIG9iamVjdHNcblx0cHJpdmF0ZSBjb2xvckdlb21ldHJ5OlBhcnRpY2xlR2VvbWV0cnk7XG5cdHByaXZhdGUgY29sb3JBbmltYXRpb25TZXQ6UGFydGljbGVBbmltYXRpb25TZXQ7XG5cdFxuXHQvL3NjZW5lIG9iamVjdHNcblx0cHJpdmF0ZSBjb2xvclBhcnRpY2xlTWVzaDpNZXNoO1xuXHRwcml2YXRlIGNvbG9yQW5pbWF0b3JzOkFycmF5PFBhcnRpY2xlQW5pbWF0b3I+O1xuXHRcblx0Ly9uYXZpZ2F0aW9uIHZhcmlhYmxlc1xuXHRwcml2YXRlIHRpbWVyOlJlcXVlc3RBbmltYXRpb25GcmFtZTtcblx0cHJpdmF0ZSB0aW1lOm51bWJlciA9IDA7XG5cdHByaXZhdGUgYW5nbGU6bnVtYmVyID0gMDtcblx0cHJpdmF0ZSBtb3ZlOkJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBsYXN0UGFuQW5nbGU6bnVtYmVyO1xuXHRwcml2YXRlIGxhc3RUaWx0QW5nbGU6bnVtYmVyO1xuXHRwcml2YXRlIGxhc3RNb3VzZVg6bnVtYmVyO1xuXHRwcml2YXRlIGxhc3RNb3VzZVk6bnVtYmVyO1xuXHRcblx0LyoqXG5cdCAqIENvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEdsb2JhbCBpbml0aWFsaXNlIGZ1bmN0aW9uXG5cdCAqL1xuXHRwcml2YXRlIGluaXQoKTp2b2lkXG5cdHtcblx0XHR0aGlzLmluaXRFbmdpbmUoKTtcblx0XHR0aGlzLmluaXRMaWdodHMoKTtcblx0XHR0aGlzLmluaXRNYXRlcmlhbHMoKTtcblx0XHR0aGlzLmluaXRMaXN0ZW5lcnMoKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEluaXRpYWxpc2UgdGhlIGVuZ2luZVxuXHQgKi9cblx0cHJpdmF0ZSBpbml0RW5naW5lKCk6dm9pZFxuXHR7XG5cdFx0dGhpcy5zY2VuZSA9IG5ldyBTY2VuZSgpO1xuXG5cdFx0dGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKCk7XG5cblx0XHR0aGlzLnZpZXcgPSBuZXcgVmlldyhuZXcgRGVmYXVsdFJlbmRlcmVyKCksIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcblx0XHRcblx0XHQvL3NldHVwIGNvbnRyb2xsZXIgdG8gYmUgdXNlZCBvbiB0aGUgY2FtZXJhXG5cdFx0dGhpcy5jYW1lcmFDb250cm9sbGVyID0gbmV3IEhvdmVyQ29udHJvbGxlcih0aGlzLmNhbWVyYSwgbnVsbCwgMjI1LCAxMCwgMTAwMCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBsaWdodHNcblx0ICovXG5cdHByaXZhdGUgaW5pdExpZ2h0cygpOnZvaWRcblx0e1xuXHRcdC8vY3JlYXRlIGEgZ3JlZW4gcG9pbnQgbGlnaHRcblx0XHR0aGlzLmdyZWVuTGlnaHQgPSBuZXcgUG9pbnRMaWdodCgpO1xuXHRcdHRoaXMuZ3JlZW5MaWdodC5jb2xvciA9IDB4MDBGRjAwO1xuXHRcdHRoaXMuZ3JlZW5MaWdodC5hbWJpZW50ID0gMTtcblx0XHR0aGlzLmdyZWVuTGlnaHQuZmFsbE9mZiA9IDYwMDtcblx0XHR0aGlzLmdyZWVuTGlnaHQucmFkaXVzID0gMTAwO1xuXHRcdHRoaXMuZ3JlZW5MaWdodC5zcGVjdWxhciA9IDI7XG5cdFx0dGhpcy5zY2VuZS5hZGRDaGlsZCh0aGlzLmdyZWVuTGlnaHQpO1xuXHRcdFxuXHRcdC8vY3JlYXRlIGEgcmVkIHBvaW50bGlnaHRcblx0XHR0aGlzLmJsdWVMaWdodCA9IG5ldyBQb2ludExpZ2h0KCk7XG5cdFx0dGhpcy5ibHVlTGlnaHQuY29sb3IgPSAweDAwMDBGRjtcblx0XHR0aGlzLmJsdWVMaWdodC5mYWxsT2ZmID0gNjAwO1xuXHRcdHRoaXMuYmx1ZUxpZ2h0LnJhZGl1cyA9IDEwMDtcblx0XHR0aGlzLmJsdWVMaWdodC5zcGVjdWxhciA9IDI7XG5cdFx0dGhpcy5zY2VuZS5hZGRDaGlsZCh0aGlzLmJsdWVMaWdodCk7XG5cdFx0XG5cdFx0Ly9jcmVhdGUgYSBsaWdodHBpY2tlciBmb3IgdGhlIGdyZWVuIGFuZCByZWQgbGlnaHRcblx0XHR0aGlzLmxpZ2h0UGlja2VyID0gbmV3IFN0YXRpY0xpZ2h0UGlja2VyKFt0aGlzLmdyZWVuTGlnaHQsIHRoaXMuYmx1ZUxpZ2h0XSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBtYXRlcmlhbHNcblx0ICovXG5cdHByaXZhdGUgaW5pdE1hdGVyaWFscygpOnZvaWRcblx0e1xuXHRcdC8vc2V0dXAgdGhlIHBhcnRpY2xlIG1hdGVyaWFsXG5cdFx0dGhpcy5jb2xvck1hdGVyaWFsID0gbmV3IFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWwoMHhGRkZGRkYpO1xuXHRcdHRoaXMuY29sb3JNYXRlcmlhbC5ib3RoU2lkZXMgPSB0cnVlO1xuXHRcdHRoaXMuY29sb3JNYXRlcmlhbC5saWdodFBpY2tlciA9IHRoaXMubGlnaHRQaWNrZXI7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBwYXJ0aWNsZXNcblx0ICovXG5cdHByaXZhdGUgaW5pdFBhcnRpY2xlcygpOnZvaWRcblx0e1xuXHRcdHZhciBpOm51bWJlciAvKmludCovO1xuXHRcdHZhciBqOm51bWJlciAvKmludCovO1xuXHRcdHZhciBwb2ludDpWZWN0b3IzRDtcblx0XHR2YXIgcmdiOlZlY3RvcjNEO1xuXHRcdHZhciBjb2xvcjpudW1iZXIgLyp1aW50Ki9cblxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLmNocm9tZUJpdG1hcERhdGEud2lkdGg7IGkrKykge1xuXHRcdFx0Zm9yIChqID0gMDsgaiA8IHRoaXMuY2hyb21lQml0bWFwRGF0YS5oZWlnaHQ7IGorKykge1xuXHRcdFx0XHRwb2ludCA9IG5ldyBWZWN0b3IzRChJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUqKGkgLSB0aGlzLmNocm9tZUJpdG1hcERhdGEud2lkdGggLyAyIC0gMTAwKSwgSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKiggLWogKyB0aGlzLmNocm9tZUJpdG1hcERhdGEuaGVpZ2h0IC8gMikpO1xuXHRcdFx0XHRjb2xvciA9IHRoaXMuY2hyb21lQml0bWFwRGF0YS5nZXRQaXhlbChpLCBqKTtcblx0XHRcdFx0aWYgKCgoY29sb3IgPj4gMjQpICYgMHhmZikgPiAweGIwKSB7XG5cdFx0XHRcdFx0dGhpcy5jb2xvclZhbHVlcy5wdXNoKG5ldyBWZWN0b3IzRCgoKGNvbG9yICYgMHhmZjAwMDApID4+IDE2KS8yNTUsICgoY29sb3IgJiAweGZmMDApID4+IDgpLzI1NSwgKGNvbG9yICYgMHhmZikvMjU1KSk7XG5cdFx0XHRcdFx0dGhpcy5jb2xvclBvaW50cy5wdXNoKHBvaW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvL2RlZmluZSB3aGVyZSBvbmUgbG9nbyBzdG9wcyBhbmQgYW5vdGhlciBzdGFydHNcblx0XHR0aGlzLmNvbG9yQ2hyb21lU2VwYXJhdGlvbiA9IHRoaXMuY29sb3JQb2ludHMubGVuZ3RoO1xuXG5cdFx0XG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuZmlyZWZveEJpdG1hcERhdGEud2lkdGg7IGkrKykge1xuXHRcdFx0Zm9yIChqID0gMDsgaiA8IHRoaXMuZmlyZWZveEJpdG1hcERhdGEuaGVpZ2h0OyBqKyspIHtcblx0XHRcdFx0cG9pbnQgPSBuZXcgVmVjdG9yM0QoSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKihpIC0gdGhpcy5maXJlZm94Qml0bWFwRGF0YS53aWR0aCAvIDIgKyAxMDApLCBJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUqKCAtaiArIHRoaXMuZmlyZWZveEJpdG1hcERhdGEuaGVpZ2h0IC8gMikpO1xuXHRcdFx0XHRjb2xvciA9IHRoaXMuZmlyZWZveEJpdG1hcERhdGEuZ2V0UGl4ZWwoaSwgaik7XG5cdFx0XHRcdGlmICgoKGNvbG9yID4+IDI0KSAmIDB4ZmYpID4gMHhiMCkge1xuXHRcdFx0XHRcdHRoaXMuY29sb3JWYWx1ZXMucHVzaChuZXcgVmVjdG9yM0QoKChjb2xvciAmIDB4ZmYwMDAwKSA+PiAxNikvMjU1LCAoKGNvbG9yICYgMHhmZjAwKSA+PiA4KS8yNTUsIChjb2xvciAmIDB4ZmYpLzI1NSkpO1xuXHRcdFx0XHRcdHRoaXMuY29sb3JQb2ludHMucHVzaChwb2ludCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL2RlZmluZSB3aGVyZSBvbmUgbG9nbyBzdG9wcyBhbmQgYW5vdGhlciBzdGFydHNcblx0XHR0aGlzLmNvbG9yRmlyZWZveFNlcGFyYXRpb24gPSB0aGlzLmNvbG9yUG9pbnRzLmxlbmd0aDtcblxuXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuc2FmYXJpQml0bWFwRGF0YS53aWR0aDsgaSsrKSB7XG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgdGhpcy5zYWZhcmlCaXRtYXBEYXRhLmhlaWdodDsgaisrKSB7XG5cdFx0XHRcdHBvaW50ID0gbmV3IFZlY3RvcjNEKEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSooaSAtIHRoaXMuc2FmYXJpQml0bWFwRGF0YS53aWR0aCAvIDIpLCBJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUqKCAtaiArIHRoaXMuc2FmYXJpQml0bWFwRGF0YS5oZWlnaHQgLyAyKSwgLUludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSoxMDApO1xuXHRcdFx0XHRjb2xvciA9IHRoaXMuc2FmYXJpQml0bWFwRGF0YS5nZXRQaXhlbChpLCBqKTtcblx0XHRcdFx0aWYgKCgoY29sb3IgPj4gMjQpICYgMHhmZikgPiAweGIwKSB7XG5cdFx0XHRcdFx0dGhpcy5jb2xvclZhbHVlcy5wdXNoKG5ldyBWZWN0b3IzRCgoKGNvbG9yICYgMHhmZjAwMDApID4+IDE2KS8yNTUsICgoY29sb3IgJiAweGZmMDApID4+IDgpLzI1NSwgKGNvbG9yICYgMHhmZikvMjU1KSk7XG5cdFx0XHRcdFx0dGhpcy5jb2xvclBvaW50cy5wdXNoKHBvaW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vZGVmaW5lIHdoZXJlIG9uZSBsb2dvIHN0b3BzIGFuZCBhbm90aGVyIHN0YXJ0c1xuXHRcdHRoaXMuY29sb3JTYWZhcmlTZXBhcmF0aW9uID0gdGhpcy5jb2xvclBvaW50cy5sZW5ndGg7XG5cblxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLmllQml0bWFwRGF0YS53aWR0aDsgaSsrKSB7XG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgdGhpcy5pZUJpdG1hcERhdGEuaGVpZ2h0OyBqKyspIHtcblx0XHRcdFx0cG9pbnQgPSBuZXcgVmVjdG9yM0QoSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKihpIC0gdGhpcy5pZUJpdG1hcERhdGEud2lkdGggLyAyKSwgSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKiggLWogKyB0aGlzLmllQml0bWFwRGF0YS5oZWlnaHQgLyAyKSwgSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFKjEwMCk7XG5cdFx0XHRcdGNvbG9yID0gdGhpcy5pZUJpdG1hcERhdGEuZ2V0UGl4ZWwoaSwgaik7XG5cdFx0XHRcdGlmICgoKGNvbG9yID4+IDI0KSAmIDB4ZmYpID4gMHhiMCkge1xuXHRcdFx0XHRcdHRoaXMuY29sb3JWYWx1ZXMucHVzaChuZXcgVmVjdG9yM0QoKChjb2xvciAmIDB4ZmYwMDAwKSA+PiAxNikvMjU1LCAoKGNvbG9yICYgMHhmZjAwKSA+PiA4KS8yNTUsIChjb2xvciAmIDB4ZmYpLzI1NSkpO1xuXHRcdFx0XHRcdHRoaXMuY29sb3JQb2ludHMucHVzaChwb2ludCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgbnVtOm51bWJlciAvKnVpbnQqLyA9IHRoaXMuY29sb3JQb2ludHMubGVuZ3RoO1xuXHRcdFxuXHRcdC8vc2V0dXAgdGhlIGJhc2UgZ2VvbWV0cnkgZm9yIG9uZSBwYXJ0aWNsZVxuXHRcdHZhciBwbGFuZTpQcmltaXRpdmVQbGFuZVByZWZhYiA9IG5ldyBQcmltaXRpdmVQbGFuZVByZWZhYihJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUsIEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSwxLDEsZmFsc2UpO1xuXHRcdFxuXHRcdC8vY29tYmluZSB0aGVtIGludG8gYSBsaXN0XG5cdFx0dmFyIGNvbG9yR2VvbWV0cnlTZXQ6QXJyYXk8R2VvbWV0cnk+ID0gbmV3IEFycmF5PEdlb21ldHJ5PigpO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBudW07IGkrKylcblx0XHRcdGNvbG9yR2VvbWV0cnlTZXQucHVzaChwbGFuZS5nZW9tZXRyeSk7XG5cdFx0XG5cdFx0Ly9nZW5lcmF0ZSB0aGUgcGFydGljbGUgZ2VvbWV0cmllc1xuXHRcdHRoaXMuY29sb3JHZW9tZXRyeSA9IFBhcnRpY2xlR2VvbWV0cnlIZWxwZXIuZ2VuZXJhdGVHZW9tZXRyeShjb2xvckdlb21ldHJ5U2V0KTtcblxuXHRcdC8vZGVmaW5lIHRoZSBwYXJ0aWNsZSBhbmltYXRpb25zIGFuZCBpbml0IGZ1bmN0aW9uXG5cdFx0dGhpcy5jb2xvckFuaW1hdGlvblNldCA9IG5ldyBQYXJ0aWNsZUFuaW1hdGlvblNldCgpO1xuXHRcdHRoaXMuY29sb3JBbmltYXRpb25TZXQuYWRkQW5pbWF0aW9uKG5ldyBQYXJ0aWNsZUJpbGxib2FyZE5vZGUoKSk7XG5cdFx0dGhpcy5jb2xvckFuaW1hdGlvblNldC5hZGRBbmltYXRpb24obmV3IFBhcnRpY2xlQmV6aWVyQ3VydmVOb2RlKFBhcnRpY2xlUHJvcGVydGllc01vZGUuTE9DQUxfU1RBVElDKSk7XG5cdFx0dGhpcy5jb2xvckFuaW1hdGlvblNldC5hZGRBbmltYXRpb24obmV3IFBhcnRpY2xlUG9zaXRpb25Ob2RlKFBhcnRpY2xlUHJvcGVydGllc01vZGUuTE9DQUxfU1RBVElDKSk7XG5cdFx0dGhpcy5jb2xvckFuaW1hdGlvblNldC5hZGRBbmltYXRpb24obmV3IFBhcnRpY2xlSW5pdGlhbENvbG9yTm9kZShQYXJ0aWNsZVByb3BlcnRpZXNNb2RlLkxPQ0FMX1NUQVRJQywgdHJ1ZSwgZmFsc2UsIG5ldyBDb2xvclRyYW5zZm9ybSgwLCAxLCAwLCAxKSkpO1xuXHRcdHRoaXMuY29sb3JBbmltYXRpb25TZXQuaW5pdFBhcnRpY2xlRnVuYyA9IHRoaXMuaW5pQ29sb3JQYXJ0aWNsZUZ1bmM7XG5cdFx0dGhpcy5jb2xvckFuaW1hdGlvblNldC5pbml0UGFydGljbGVTY29wZSA9IHRoaXM7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJbml0aWFsaXNlIHRoZSBzY2VuZSBvYmplY3RzXG5cdCAqL1xuXHRwcml2YXRlIGluaXRPYmplY3RzKCk6dm9pZFxuXHR7XG5cdFx0Ly9pbml0aWFsaXNlIGFuaW1hdG9ycyB2ZWN0b3JzXG5cdFx0dGhpcy5jb2xvckFuaW1hdG9ycyA9IG5ldyBBcnJheTxQYXJ0aWNsZUFuaW1hdG9yPihJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLk5VTV9BTklNQVRPUlMpO1xuXHRcdFxuXHRcdC8vY3JlYXRlIHRoZSBwYXJ0aWNsZSBtZXNoXG5cdFx0dGhpcy5jb2xvclBhcnRpY2xlTWVzaCA9IG5ldyBNZXNoKHRoaXMuY29sb3JHZW9tZXRyeSwgdGhpcy5jb2xvck1hdGVyaWFsKTtcblx0XHRcblx0XHR2YXIgaTpudW1iZXIgLyp1aW50Ki8gPSAwO1xuXHRcdGZvciAoaT0wOyBpPEludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuTlVNX0FOSU1BVE9SUzsgaSsrKSB7XG5cdFx0XHQvL2Nsb25lIHRoZSBwYXJ0aWNsZSBtZXNoXG5cdFx0XHR0aGlzLmNvbG9yUGFydGljbGVNZXNoID0gPE1lc2g+IHRoaXMuY29sb3JQYXJ0aWNsZU1lc2guY2xvbmUoKTtcblx0XHRcdHRoaXMuY29sb3JQYXJ0aWNsZU1lc2gucm90YXRpb25ZID0gNDUqKGktMSk7XG5cdFx0XHR0aGlzLnNjZW5lLmFkZENoaWxkKHRoaXMuY29sb3JQYXJ0aWNsZU1lc2gpO1xuXG5cdFx0XHQvL2NyZWF0ZSBhbmQgc3RhcnQgdGhlIHBhcnRpY2xlIGFuaW1hdG9yXG5cdFx0XHR0aGlzLmNvbG9yQW5pbWF0b3JzW2ldID0gbmV3IFBhcnRpY2xlQW5pbWF0b3IodGhpcy5jb2xvckFuaW1hdGlvblNldCk7XG5cdFx0XHR0aGlzLmNvbG9yUGFydGljbGVNZXNoLmFuaW1hdG9yID0gdGhpcy5jb2xvckFuaW1hdG9yc1tpXTtcblx0XHRcdHRoaXMuc2NlbmUuYWRkQ2hpbGQodGhpcy5jb2xvclBhcnRpY2xlTWVzaCk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogSW5pdGlhbGlzZSB0aGUgbGlzdGVuZXJzXG5cdCAqL1xuXHRwcml2YXRlIGluaXRMaXN0ZW5lcnMoKTp2b2lkXG5cdHtcblx0XHR3aW5kb3cub25yZXNpemUgPSAoZXZlbnQ6VUlFdmVudCkgPT4gdGhpcy5vblJlc2l6ZShldmVudCk7XG5cblx0XHRkb2N1bWVudC5vbm1vdXNlZG93biA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VEb3duKGV2ZW50KTtcblx0XHRkb2N1bWVudC5vbm1vdXNldXAgPSAoZXZlbnQ6TW91c2VFdmVudCkgPT4gdGhpcy5vbk1vdXNlVXAoZXZlbnQpO1xuXHRcdGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHRoaXMub25Nb3VzZU1vdmUoZXZlbnQpO1xuXG5cblx0XHR0aGlzLm9uUmVzaXplKCk7XG5cblxuXHRcdHRoaXMudGltZXIgPSBuZXcgUmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25FbnRlckZyYW1lLCB0aGlzKTtcblx0XHR0aGlzLnRpbWVyLnN0YXJ0KCk7XG5cblx0XHRBc3NldExpYnJhcnkuYWRkRXZlbnRMaXN0ZW5lcihMb2FkZXJFdmVudC5SRVNPVVJDRV9DT01QTEVURSwgKGV2ZW50OkxvYWRlckV2ZW50KSA9PiB0aGlzLm9uUmVzb3VyY2VDb21wbGV0ZShldmVudCkpO1xuXG5cdFx0Ly9pbWFnZSB0ZXh0dXJlc1xuXHRcdEFzc2V0TGlicmFyeS5sb2FkKG5ldyBVUkxSZXF1ZXN0KFwiYXNzZXRzL2ZpcmVmb3gucG5nXCIpKTtcblx0XHRBc3NldExpYnJhcnkubG9hZChuZXcgVVJMUmVxdWVzdChcImFzc2V0cy9jaHJvbWUucG5nXCIpKTtcblx0XHRBc3NldExpYnJhcnkubG9hZChuZXcgVVJMUmVxdWVzdChcImFzc2V0cy9zYWZhcmkucG5nXCIpKTtcblx0XHRBc3NldExpYnJhcnkubG9hZChuZXcgVVJMUmVxdWVzdChcImFzc2V0cy9pZS5wbmdcIikpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogSW5pdGlhbGlzZXIgZm9yIHBhcnRpY2xlIHByb3BlcnRpZXNcblx0ICovXG5cdHByaXZhdGUgaW5pQ29sb3JQYXJ0aWNsZUZ1bmMocHJvcGVydGllczpQYXJ0aWNsZVByb3BlcnRpZXMpOnZvaWRcblx0e1xuXHRcdHByb3BlcnRpZXMuc3RhcnRUaW1lID0gMDtcblx0XHRwcm9wZXJ0aWVzLmR1cmF0aW9uID0gMTtcblx0XHR2YXIgZGVncmVlMTpudW1iZXIgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XG5cdFx0dmFyIGRlZ3JlZTI6bnVtYmVyID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyO1xuXHRcdHZhciByOm51bWJlciA9IDUwMDtcblxuXHRcdGlmIChwcm9wZXJ0aWVzLmluZGV4IDwgdGhpcy5jb2xvckNocm9tZVNlcGFyYXRpb24pXG5cdFx0XHRwcm9wZXJ0aWVzW1BhcnRpY2xlQmV6aWVyQ3VydmVOb2RlLkJFWklFUl9FTkRfVkVDVE9SM0RdID0gbmV3IFZlY3RvcjNEKDMwMCpJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUsIDAsIDApO1xuXHRcdGVsc2UgaWYgKHByb3BlcnRpZXMuaW5kZXggPCB0aGlzLmNvbG9yRmlyZWZveFNlcGFyYXRpb24pXG5cdFx0XHRwcm9wZXJ0aWVzW1BhcnRpY2xlQmV6aWVyQ3VydmVOb2RlLkJFWklFUl9FTkRfVkVDVE9SM0RdID0gbmV3IFZlY3RvcjNEKC0zMDAqSW50ZXJtZWRpYXRlX1BhcnRpY2xlRXhwbG9zaW9ucy5QQVJUSUNMRV9TSVpFLCAwLCAwKTtcblx0XHRlbHNlIGlmIChwcm9wZXJ0aWVzLmluZGV4IDwgdGhpcy5jb2xvclNhZmFyaVNlcGFyYXRpb24pXG5cdFx0XHRwcm9wZXJ0aWVzW1BhcnRpY2xlQmV6aWVyQ3VydmVOb2RlLkJFWklFUl9FTkRfVkVDVE9SM0RdID0gbmV3IFZlY3RvcjNEKDAsIDAsIDMwMCpJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zLlBBUlRJQ0xFX1NJWkUpO1xuXHRcdGVsc2Vcblx0XHRcdHByb3BlcnRpZXNbUGFydGljbGVCZXppZXJDdXJ2ZU5vZGUuQkVaSUVSX0VORF9WRUNUT1IzRF0gPSBuZXcgVmVjdG9yM0QoMCwgMCwtMzAwKkludGVybWVkaWF0ZV9QYXJ0aWNsZUV4cGxvc2lvbnMuUEFSVElDTEVfU0laRSk7XG5cblx0XHR2YXIgcmdiOlZlY3RvcjNEID0gdGhpcy5jb2xvclZhbHVlc1twcm9wZXJ0aWVzLmluZGV4XTtcblx0XHRwcm9wZXJ0aWVzW1BhcnRpY2xlSW5pdGlhbENvbG9yTm9kZS5DT0xPUl9JTklUSUFMX0NPTE9SVFJBTlNGT1JNXSA9IG5ldyBDb2xvclRyYW5zZm9ybShyZ2IueCwgcmdiLnksIHJnYi56LCAxKTtcblxuXHRcdHByb3BlcnRpZXNbUGFydGljbGVCZXppZXJDdXJ2ZU5vZGUuQkVaSUVSX0NPTlRST0xfVkVDVE9SM0RdID0gbmV3IFZlY3RvcjNEKHIgKiBNYXRoLnNpbihkZWdyZWUxKSAqIE1hdGguY29zKGRlZ3JlZTIpLCByICogTWF0aC5jb3MoZGVncmVlMSkgKiBNYXRoLmNvcyhkZWdyZWUyKSwgciAqIE1hdGguc2luKGRlZ3JlZTIpKTtcblx0XHRwcm9wZXJ0aWVzW1BhcnRpY2xlUG9zaXRpb25Ob2RlLlBPU0lUSU9OX1ZFQ1RPUjNEXSA9IHRoaXMuY29sb3JQb2ludHNbcHJvcGVydGllcy5pbmRleF07XG5cdH1cblxuXHQvKipcblx0ICogTmF2aWdhdGlvbiBhbmQgcmVuZGVyIGxvb3Bcblx0ICovXG5cdHByaXZhdGUgb25FbnRlckZyYW1lKGR0Om51bWJlcik6dm9pZFxuXHR7XG5cdFx0dGhpcy50aW1lICs9IGR0O1xuXG5cdFx0Ly91cGRhdGUgdGhlIGNhbWVyYSBwb3NpdGlvblxuXHRcdHRoaXMuY2FtZXJhQ29udHJvbGxlci5wYW5BbmdsZSArPSAwLjI7XG5cdFx0XG5cdFx0Ly91cGRhdGUgdGhlIHBhcnRpY2xlIGFuaW1hdG9yIHBsYXloZWFkIHBvc2l0aW9uc1xuXHRcdHZhciBpOm51bWJlciAvKnVpbnQqLztcblx0XHR2YXIgdGltZTpudW1iZXIgLyp1aW50Ki87XG5cblx0XHRpZiAodGhpcy5jb2xvckFuaW1hdG9ycykge1xuXHRcdFx0Zm9yIChpPTA7IGk8dGhpcy5jb2xvckFuaW1hdG9ycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR0aW1lID0gMTAwMCooTWF0aC5zaW4odGhpcy50aW1lLzUwMDAgKyBNYXRoLlBJKmkvNCkgKyAxKTtcblx0XHRcdFx0dGhpcy5jb2xvckFuaW1hdG9yc1tpXS51cGRhdGUodGltZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly91cGRhdGUgdGhlIGxpZ2h0IHBvc2l0aW9uc1xuXHRcdHRoaXMuYW5nbGUgKz0gTWF0aC5QSSAvIDE4MDtcblx0XHR0aGlzLmdyZWVuTGlnaHQueCA9IE1hdGguc2luKHRoaXMuYW5nbGUpICogNjAwO1xuXHRcdHRoaXMuZ3JlZW5MaWdodC56ID0gTWF0aC5jb3ModGhpcy5hbmdsZSkgKiA2MDA7XG5cdFx0dGhpcy5ibHVlTGlnaHQueCA9IE1hdGguc2luKHRoaXMuYW5nbGUgKyBNYXRoLlBJKSAqIDYwMDtcblx0XHR0aGlzLmJsdWVMaWdodC56ID0gTWF0aC5jb3ModGhpcy5hbmdsZSArIE1hdGguUEkpICogNjAwO1xuXG5cdFx0dGhpcy52aWV3LnJlbmRlcigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpc3RlbmVyIGZ1bmN0aW9uIGZvciByZXNvdXJjZSBjb21wbGV0ZSBldmVudCBvbiBhc3NldCBsaWJyYXJ5XG5cdCAqL1xuXHRwcml2YXRlIG9uUmVzb3VyY2VDb21wbGV0ZShldmVudDpMb2FkZXJFdmVudClcblx0e1xuXHRcdHN3aXRjaCAoZXZlbnQudXJsKSB7XG5cblx0XHRcdC8vaW1hZ2UgdGV4dHVyZXNcblx0XHRcdGNhc2UgXCJhc3NldHMvZmlyZWZveC5wbmdcIiA6XG5cdFx0XHRcdHRoaXMuZmlyZWZveEJpdG1hcERhdGEgPSBDYXN0LmJpdG1hcERhdGEoZXZlbnQuYXNzZXRzWyAwIF0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhc3NldHMvY2hyb21lLnBuZ1wiIDpcblx0XHRcdFx0dGhpcy5jaHJvbWVCaXRtYXBEYXRhID0gQ2FzdC5iaXRtYXBEYXRhKGV2ZW50LmFzc2V0c1sgMCBdKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXNzZXRzL2llLnBuZ1wiIDpcblx0XHRcdFx0dGhpcy5pZUJpdG1hcERhdGEgPSBDYXN0LmJpdG1hcERhdGEoZXZlbnQuYXNzZXRzWyAwIF0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhc3NldHMvc2FmYXJpLnBuZ1wiIDpcblx0XHRcdFx0dGhpcy5zYWZhcmlCaXRtYXBEYXRhID0gQ2FzdC5iaXRtYXBEYXRhKGV2ZW50LmFzc2V0c1sgMCBdKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHR9XG5cblx0XHRpZiAodGhpcy5maXJlZm94Qml0bWFwRGF0YSAhPSBudWxsICYmIHRoaXMuY2hyb21lQml0bWFwRGF0YSAhPSBudWxsICYmIHRoaXMuc2FmYXJpQml0bWFwRGF0YSAhPSBudWxsICYmIHRoaXMuaWVCaXRtYXBEYXRhICE9IG51bGwpIHtcblx0XHRcdHRoaXMuaW5pdFBhcnRpY2xlcygpO1xuXHRcdFx0dGhpcy5pbml0T2JqZWN0cygpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBNb3VzZSBkb3duIGxpc3RlbmVyIGZvciBuYXZpZ2F0aW9uXG5cdCAqL1xuXHRwcml2YXRlIG9uTW91c2VEb3duKGV2ZW50Ok1vdXNlRXZlbnQpOnZvaWRcblx0e1xuXHRcdHRoaXMubGFzdFBhbkFuZ2xlID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnBhbkFuZ2xlO1xuXHRcdHRoaXMubGFzdFRpbHRBbmdsZSA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci50aWx0QW5nbGU7XG5cdFx0dGhpcy5sYXN0TW91c2VYID0gZXZlbnQuY2xpZW50WDtcblx0XHR0aGlzLmxhc3RNb3VzZVkgPSBldmVudC5jbGllbnRZO1xuXHRcdHRoaXMubW92ZSA9IHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogTW91c2UgdXAgbGlzdGVuZXIgZm9yIG5hdmlnYXRpb25cblx0ICovXG5cdHByaXZhdGUgb25Nb3VzZVVwKGV2ZW50Ok1vdXNlRXZlbnQpOnZvaWRcblx0e1xuXHRcdHRoaXMubW92ZSA9IGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1vdXNlIG1vdmUgbGlzdGVuZXIgZm9yIG1vdXNlTG9ja1xuXHQgKi9cblx0cHJpdmF0ZSBvbk1vdXNlTW92ZShldmVudDpNb3VzZUV2ZW50KTp2b2lkXG5cdHtcblx0XHRpZiAodGhpcy5tb3ZlKSB7XG5cdFx0XHR0aGlzLmNhbWVyYUNvbnRyb2xsZXIucGFuQW5nbGUgPSAwLjMqKGV2ZW50LmNsaWVudFggLSB0aGlzLmxhc3RNb3VzZVgpICsgdGhpcy5sYXN0UGFuQW5nbGU7XG5cdFx0XHR0aGlzLmNhbWVyYUNvbnRyb2xsZXIudGlsdEFuZ2xlID0gMC4zKihldmVudC5jbGllbnRZIC0gdGhpcy5sYXN0TW91c2VZKSArIHRoaXMubGFzdFRpbHRBbmdsZTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogd2luZG93IGxpc3RlbmVyIGZvciByZXNpemUgZXZlbnRzXG5cdCAqL1xuXHRwcml2YXRlIG9uUmVzaXplKGV2ZW50OlVJRXZlbnQgPSBudWxsKTp2b2lkXG5cdHtcblx0XHR0aGlzLnZpZXcueSA9IDA7XG5cdFx0dGhpcy52aWV3LnggPSAwO1xuXHRcdHRoaXMudmlldy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRcdHRoaXMudmlldy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdH1cbn1cblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpXG57XG5cdG5ldyBJbnRlcm1lZGlhdGVfUGFydGljbGVFeHBsb3Npb25zKCk7XG59Il19