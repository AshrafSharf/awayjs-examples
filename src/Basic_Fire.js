/*

Creating fire effects with particles in Away3D

Demonstrates:

How to setup a particle geometry and particle animationset in order to simulate fire.
How to stagger particle animation instances with different animator objects running on different timers.
How to apply fire lighting to a floor mesh using a multipass material.

Code by Rob Bateman & Liao Cheng
rob@infiniteturtles.co.uk
http://www.infiniteturtles.co.uk
liaocheng210@126.com

This code is distributed under the MIT License

Copyright (c) The Away Foundation http://www.theawayfoundation.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var BlendMode = require("awayjs-core/lib/base/BlendMode");
var LoaderEvent = require("awayjs-core/lib/events/LoaderEvent");
var TimerEvent = require("awayjs-core/lib/events/TimerEvent");
var ColorTransform = require("awayjs-core/lib/geom/ColorTransform");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var AssetLibrary = require("awayjs-core/lib/library/AssetLibrary");
var URLRequest = require("awayjs-core/lib/net/URLRequest");
var RequestAnimationFrame = require("awayjs-core/lib/utils/RequestAnimationFrame");
var Timer = require("awayjs-core/lib/utils/Timer");
var Scene = require("awayjs-display/lib/containers/Scene");
var View = require("awayjs-display/lib/containers/View");
var HoverController = require("awayjs-display/lib/controllers/HoverController");
var DirectionalLight = require("awayjs-display/lib/entities/DirectionalLight");
var Camera = require("awayjs-display/lib/entities/Camera");
var Mesh = require("awayjs-display/lib/entities/Mesh");
var PointLight = require("awayjs-display/lib/entities/PointLight");
var StaticLightPicker = require("awayjs-display/lib/materials/lightpickers/StaticLightPicker");
var PrimitivePlanePrefab = require("awayjs-display/lib/prefabs/PrimitivePlanePrefab");
var ParticleAnimationSet = require("awayjs-renderergl/lib/animators/ParticleAnimationSet");
var ParticleAnimator = require("awayjs-renderergl/lib/animators/ParticleAnimator");
var ParticlePropertiesMode = require("awayjs-renderergl/lib/animators/data/ParticlePropertiesMode");
var ParticleBillboardNode = require("awayjs-renderergl/lib/animators/nodes/ParticleBillboardNode");
var ParticleScaleNode = require("awayjs-renderergl/lib/animators/nodes/ParticleScaleNode");
var ParticleVelocityNode = require("awayjs-renderergl/lib/animators/nodes/ParticleVelocityNode");
var ParticleColorNode = require("awayjs-renderergl/lib/animators/nodes/ParticleColorNode");
var MethodMaterial = require("awayjs-methodmaterials/lib/MethodMaterial");
var MethodRendererPool = require("awayjs-methodmaterials/lib/pool/MethodRendererPool");
var MethodMaterialMode = require("awayjs-methodmaterials/lib/MethodMaterialMode");
var DefaultRenderer = require("awayjs-renderergl/lib/DefaultRenderer");
var ParticleGeometryHelper = require("awayjs-renderergl/lib/utils/ParticleGeometryHelper");
var Basic_Fire = (function () {
    /**
     * Constructor
     */
    function Basic_Fire() {
        this.fireObjects = new Array();
        this.time = 0;
        this.move = false;
        this.init();
    }
    /**
     * Global initialise function
     */
    Basic_Fire.prototype.init = function () {
        this.initEngine();
        this.initLights();
        this.initMaterials();
        this.initParticles();
        this.initObjects();
        this.initListeners();
    };
    /**
     * Initialise the engine
     */
    Basic_Fire.prototype.initEngine = function () {
        this.scene = new Scene();
        this.camera = new Camera();
        this.view = new View(new DefaultRenderer(MethodRendererPool));
        //this.view.antiAlias = 4;
        this.view.scene = this.scene;
        this.view.camera = this.camera;
        //setup controller to be used on the camera
        this.cameraController = new HoverController(this.camera);
        this.cameraController.distance = 1000;
        this.cameraController.minTiltAngle = 0;
        this.cameraController.maxTiltAngle = 90;
        this.cameraController.panAngle = 45;
        this.cameraController.tiltAngle = 20;
    };
    /**
     * Initialise the lights
     */
    Basic_Fire.prototype.initLights = function () {
        this.directionalLight = new DirectionalLight(0, -1, 0);
        this.directionalLight.castsShadows = false;
        this.directionalLight.color = 0xeedddd;
        this.directionalLight.diffuse = .5;
        this.directionalLight.ambient = .5;
        this.directionalLight.specular = 0;
        this.directionalLight.ambientColor = 0x808090;
        this.view.scene.addChild(this.directionalLight);
        this.lightPicker = new StaticLightPicker([this.directionalLight]);
    };
    /**
     * Initialise the materials
     */
    Basic_Fire.prototype.initMaterials = function () {
        this.planeMaterial = new MethodMaterial();
        this.planeMaterial.mode = MethodMaterialMode.MULTI_PASS;
        this.planeMaterial.lightPicker = this.lightPicker;
        this.planeMaterial.repeat = true;
        this.planeMaterial.mipmap = false;
        this.planeMaterial.specular = 10;
        this.particleMaterial = new MethodMaterial();
        this.particleMaterial.blendMode = BlendMode.ADD;
    };
    /**
     * Initialise the particles
     */
    Basic_Fire.prototype.initParticles = function () {
        //create the particle animation set
        this.fireAnimationSet = new ParticleAnimationSet(true, true);
        //add some animations which can control the particles:
        //the global animations can be set directly, because they influence all the particles with the same factor
        this.fireAnimationSet.addAnimation(new ParticleBillboardNode());
        this.fireAnimationSet.addAnimation(new ParticleScaleNode(ParticlePropertiesMode.GLOBAL, false, false, 2.5, 0.5));
        this.fireAnimationSet.addAnimation(new ParticleVelocityNode(ParticlePropertiesMode.GLOBAL, new Vector3D(0, 80, 0)));
        this.fireAnimationSet.addAnimation(new ParticleColorNode(ParticlePropertiesMode.GLOBAL, true, true, false, false, new ColorTransform(0, 0, 0, 1, 0xFF, 0x33, 0x01), new ColorTransform(0, 0, 0, 1, 0x99)));
        //no need to set the local animations here, because they influence all the particle with different factors.
        this.fireAnimationSet.addAnimation(new ParticleVelocityNode(ParticlePropertiesMode.LOCAL_STATIC));
        //set the initParticleFunc. It will be invoked for the local static property initialization of every particle
        this.fireAnimationSet.initParticleFunc = this.initParticleFunc;
        //create the original particle geometry
        var particle = new PrimitivePlanePrefab(10, 10, 1, 1, false);
        //combine them into a list
        var geometrySet = new Array();
        for (var i = 0; i < 500; i++)
            geometrySet.push(particle.geometry);
        this.particleGeometry = ParticleGeometryHelper.generateGeometry(geometrySet);
    };
    /**
     * Initialise the scene objects
     */
    Basic_Fire.prototype.initObjects = function () {
        var _this = this;
        this.plane = new PrimitivePlanePrefab(1000, 1000).getNewObject();
        this.plane.material = this.planeMaterial;
        this.plane.geometry.scaleUV(2, 2);
        this.plane.y = -20;
        this.scene.addChild(this.plane);
        for (var i = 0; i < Basic_Fire.NUM_FIRES; i++) {
            var particleMesh = new Mesh(this.particleGeometry, this.particleMaterial);
            var animator = new ParticleAnimator(this.fireAnimationSet);
            particleMesh.animator = animator;
            //position the mesh
            var degree = i / Basic_Fire.NUM_FIRES * Math.PI * 2;
            particleMesh.x = Math.sin(degree) * 400;
            particleMesh.z = Math.cos(degree) * 400;
            particleMesh.y = 5;
            //create a fire object and add it to the fire object vector
            this.fireObjects.push(new FireVO(particleMesh, animator));
            this.view.scene.addChild(particleMesh);
        }
        //setup timer for triggering each particle aniamtor
        this.fireTimer = new Timer(1000, this.fireObjects.length);
        this.fireTimer.addEventListener(TimerEvent.TIMER, function (event) { return _this.onTimer(event); });
        this.fireTimer.start();
    };
    /**
     * Initialise the listeners
     */
    Basic_Fire.prototype.initListeners = function () {
        var _this = this;
        window.onresize = function (event) { return _this.onResize(event); };
        document.onmousedown = function (event) { return _this.onMouseDown(event); };
        document.onmouseup = function (event) { return _this.onMouseUp(event); };
        document.onmousemove = function (event) { return _this.onMouseMove(event); };
        this.onResize();
        this.timer = new RequestAnimationFrame(this.onEnterFrame, this);
        this.timer.start();
        AssetLibrary.addEventListener(LoaderEvent.RESOURCE_COMPLETE, function (event) { return _this.onResourceComplete(event); });
        //plane textures
        AssetLibrary.load(new URLRequest("assets/floor_diffuse.jpg"));
        AssetLibrary.load(new URLRequest("assets/floor_normal.jpg"));
        AssetLibrary.load(new URLRequest("assets/floor_specular.jpg"));
        //particle texture
        AssetLibrary.load(new URLRequest("assets/blue.png"));
    };
    /**
     * Initialiser for particle properties
     */
    Basic_Fire.prototype.initParticleFunc = function (prop) {
        prop.startTime = Math.random() * 5;
        prop.duration = Math.random() * 4 + 0.1;
        var degree1 = Math.random() * Math.PI * 2;
        var degree2 = Math.random() * Math.PI * 2;
        var r = 15;
        prop[ParticleVelocityNode.VELOCITY_VECTOR3D] = new Vector3D(r * Math.sin(degree1) * Math.cos(degree2), r * Math.cos(degree1) * Math.cos(degree2), r * Math.sin(degree2));
    };
    /**
     * Returns an array of active lights in the scene
     */
    Basic_Fire.prototype.getAllLights = function () {
        var lights = new Array();
        lights.push(this.directionalLight);
        var fireVO;
        for (var i = 0; i < this.fireObjects.length; i++) {
            fireVO = this.fireObjects[i];
            if (fireVO.light)
                lights.push(fireVO.light);
        }
        return lights;
    };
    /**
     * Timer event handler
     */
    Basic_Fire.prototype.onTimer = function (event) {
        var fireObject = this.fireObjects[this.fireTimer.currentCount - 1];
        //start the animator
        fireObject.animator.start();
        //create the lightsource
        var light = new PointLight();
        light.color = 0xFF3301;
        light.diffuse = 0;
        light.specular = 0;
        light.transform.position = fireObject.mesh.transform.position;
        //add the lightsource to the fire object
        fireObject.light = light;
        //update the lightpicker
        this.lightPicker.lights = this.getAllLights();
    };
    /**
     * Navigation and render loop
     */
    Basic_Fire.prototype.onEnterFrame = function (dt) {
        this.time += dt;
        //animate lights
        var fireVO;
        for (var i = 0; i < this.fireObjects.length; i++) {
            fireVO = this.fireObjects[i];
            //update flame light
            var light = fireVO.light;
            if (!light)
                continue;
            if (fireVO.strength < 1)
                fireVO.strength += 0.1;
            light.fallOff = 380 + Math.random() * 20;
            light.radius = 200 + Math.random() * 30;
            light.diffuse = light.specular = fireVO.strength + Math.random() * .2;
        }
        this.view.render();
    };
    /**
     * Listener function for resource complete event on asset library
     */
    Basic_Fire.prototype.onResourceComplete = function (event) {
        var assets = event.assets;
        var length = assets.length;
        for (var c = 0; c < length; c++) {
            var asset = assets[c];
            console.log(asset.name, event.url);
            switch (event.url) {
                case "assets/floor_diffuse.jpg":
                    this.planeMaterial.texture = AssetLibrary.getAsset(asset.name);
                    break;
                case "assets/floor_normal.jpg":
                    this.planeMaterial.normalMap = AssetLibrary.getAsset(asset.name);
                    break;
                case "assets/floor_specular.jpg":
                    this.planeMaterial.specularMap = AssetLibrary.getAsset(asset.name);
                    break;
                case "assets/blue.png":
                    this.particleMaterial.texture = AssetLibrary.getAsset(asset.name);
                    break;
            }
        }
    };
    /**
    * Mouse down listener for navigation
    */
    Basic_Fire.prototype.onMouseDown = function (event) {
        this.lastPanAngle = this.cameraController.panAngle;
        this.lastTiltAngle = this.cameraController.tiltAngle;
        this.lastMouseX = event.clientX;
        this.lastMouseY = event.clientY;
        this.move = true;
    };
    /**
     * Mouse up listener for navigation
     */
    Basic_Fire.prototype.onMouseUp = function (event) {
        this.move = false;
    };
    Basic_Fire.prototype.onMouseMove = function (event) {
        if (this.move) {
            this.cameraController.panAngle = 0.3 * (event.clientX - this.lastMouseX) + this.lastPanAngle;
            this.cameraController.tiltAngle = 0.3 * (event.clientY - this.lastMouseY) + this.lastTiltAngle;
        }
    };
    /**
     * stage listener for resize events
     */
    Basic_Fire.prototype.onResize = function (event) {
        if (event === void 0) { event = null; }
        this.view.y = 0;
        this.view.x = 0;
        this.view.width = window.innerWidth;
        this.view.height = window.innerHeight;
    };
    Basic_Fire.NUM_FIRES = 10;
    return Basic_Fire;
})();
/**
* Data class for the fire objects
*/
var FireVO = (function () {
    function FireVO(mesh, animator) {
        this.strength = 0;
        this.mesh = mesh;
        this.animator = animator;
    }
    return FireVO;
})();
window.onload = function () {
    new Basic_Fire();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9CYXNpY19GaXJlLnRzIl0sIm5hbWVzIjpbIkJhc2ljX0ZpcmUiLCJCYXNpY19GaXJlLmNvbnN0cnVjdG9yIiwiQmFzaWNfRmlyZS5pbml0IiwiQmFzaWNfRmlyZS5pbml0RW5naW5lIiwiQmFzaWNfRmlyZS5pbml0TGlnaHRzIiwiQmFzaWNfRmlyZS5pbml0TWF0ZXJpYWxzIiwiQmFzaWNfRmlyZS5pbml0UGFydGljbGVzIiwiQmFzaWNfRmlyZS5pbml0T2JqZWN0cyIsIkJhc2ljX0ZpcmUuaW5pdExpc3RlbmVycyIsIkJhc2ljX0ZpcmUuaW5pdFBhcnRpY2xlRnVuYyIsIkJhc2ljX0ZpcmUuZ2V0QWxsTGlnaHRzIiwiQmFzaWNfRmlyZS5vblRpbWVyIiwiQmFzaWNfRmlyZS5vbkVudGVyRnJhbWUiLCJCYXNpY19GaXJlLm9uUmVzb3VyY2VDb21wbGV0ZSIsIkJhc2ljX0ZpcmUub25Nb3VzZURvd24iLCJCYXNpY19GaXJlLm9uTW91c2VVcCIsIkJhc2ljX0ZpcmUub25Nb3VzZU1vdmUiLCJCYXNpY19GaXJlLm9uUmVzaXplIiwiRmlyZVZPIiwiRmlyZVZPLmNvbnN0cnVjdG9yIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXFDRTtBQUVGLElBQU8sU0FBUyxXQUFlLGdDQUFnQyxDQUFDLENBQUM7QUFFakUsSUFBTyxXQUFXLFdBQWUsb0NBQW9DLENBQUMsQ0FBQztBQUN2RSxJQUFPLFVBQVUsV0FBZSxtQ0FBbUMsQ0FBQyxDQUFDO0FBQ3JFLElBQU8sY0FBYyxXQUFjLHFDQUFxQyxDQUFDLENBQUM7QUFDMUUsSUFBTyxRQUFRLFdBQWdCLCtCQUErQixDQUFDLENBQUM7QUFDaEUsSUFBTyxZQUFZLFdBQWUsc0NBQXNDLENBQUMsQ0FBQztBQUkxRSxJQUFPLFVBQVUsV0FBZSxnQ0FBZ0MsQ0FBQyxDQUFDO0FBRWxFLElBQU8scUJBQXFCLFdBQVksNkNBQTZDLENBQUMsQ0FBQztBQUN2RixJQUFP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QSxNQUFNQSxDQUFDQSxDQUFDQTtRQUN6REEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUN0Q0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxZQUFZQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUN2Q0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxZQUFZQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUN4Q0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNwQ0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxTQUFTQSxHQUFHQSxFQUFFQSxDQUFDQTtJQUN0Q0EsQ0FBQ0E7SUFFREg7O09BRUdBO0lBQ0tBLCtCQUFVQSxHQUFsQkE7UUFFQ0ksSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxJQUFJQSxnQkFBZ0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQ3ZEQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFlBQVlBLEdBQUdBLEtBQUtBLENBQUNBO1FBQzNDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEtBQUtBLEdBQUdBLFFBQVFBLENBQUNBO1FBQ3ZDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLE9BQU9BLEdBQUdBLEVBQUVBLENBQUNBO1FBQ25DQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLE9BQU9BLEdBQUdBLEVBQUVBLENBQUNBO1FBQ25DQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFFBQVFBLEdBQUdBLENBQUNBLENBQUNBO1FBQ25DQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFlBQVlBLEdBQUdBLFFBQVFBLENBQUNBO1FBQzlDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1FBRWhEQSxJQUFJQSxDQUFDQSxX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SUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaEJBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1FBQ2hCQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxNQUFNQSxDQUFDQSxVQUFVQSxDQUFDQTtRQUNwQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsTUFBTUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7SUFDdkNBLENBQUNBO0lBMVdjakIsb0JBQVNBLEdBQW1CQSxFQUFFQSxDQUFDQTtJQTJXL0NBLGlCQUFDQTtBQUFEQSxDQTdXQSxBQTZXQ0EsSUFBQTtBQUVELEFBR0E7O0VBREU7SUFDSSxNQUFNO0lBT1hrQixTQVBLQSxNQUFNQSxDQU9DQSxJQUFTQSxFQUFFQSxRQUF5QkE7UUFGekNDLGFBQVFBLEdBQVVBLENBQUNBLENBQUNBO1FBSTFCQSxJQUFJQSxDQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUNqQkEsSUFBSUEsQ0FBQ0EsUUFBUUEsR0FBR0EsUUFBUUEsQ0FBQ0E7SUFDMUJBLENBQUNBO0lBQ0ZELGFBQUNBO0FBQURBLENBWkEsQUFZQ0EsSUFBQTtBQUdELE1BQU0sQ0FBQyxNQUFNLEdBQUc7SUFFZixJQUFJLFVBQVUsRUFBRSxDQUFDO0FBQ2xCLENBQUMsQ0FBQSIsImZpbGUiOiJCYXNpY19GaXJlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuXHJcbkNyZWF0aW5nIGZpcmUgZWZmZWN0cyB3aXRoIHBhcnRpY2xlcyBpbiBBd2F5M0RcclxuXHJcbkRlbW9uc3RyYXRlczpcclxuXHJcbkhvdyB0byBzZXR1cCBhIHBhcnRpY2xlIGdlb21ldHJ5IGFuZCBwYXJ0aWNsZSBhbmltYXRpb25zZXQgaW4gb3JkZXIgdG8gc2ltdWxhdGUgZmlyZS5cclxuSG93IHRvIHN0YWdnZXIgcGFydGljbGUgYW5pbWF0aW9uIGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBhbmltYXRvciBvYmplY3RzIHJ1bm5pbmcgb24gZGlmZmVyZW50IHRpbWVycy5cclxuSG93IHRvIGFwcGx5IGZpcmUgbGlnaHRpbmcgdG8gYSBmbG9vciBtZXNoIHVzaW5nIGEgbXVsdGlwYXNzIG1hdGVyaWFsLlxyXG5cclxuQ29kZSBieSBSb2IgQmF0ZW1hbiAmIExpYW8gQ2hlbmdcclxucm9iQGluZmluaXRldHVydGxlcy5jby51a1xyXG5odHRwOi8vd3d3LmluZmluaXRldHVydGxlcy5jby51a1xyXG5saWFvY2hlbmcyMTBAMTI2LmNvbVxyXG5cclxuVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxyXG5cclxuQ29weXJpZ2h0IChjKSBUaGUgQXdheSBGb3VuZGF0aW9uIGh0dHA6Ly93d3cudGhlYXdheWZvdW5kYXRpb24ub3JnXHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIOKAnFNvZnR3YXJl4oCdKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCDigJxBUyBJU+KAnSwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4qL1xyXG5cclxuaW1wb3J0IEJsZW5kTW9kZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvYmFzZS9CbGVuZE1vZGVcIik7XHJcbmltcG9ydCBBc3NldEV2ZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvQXNzZXRFdmVudFwiKTtcclxuaW1wb3J0IExvYWRlckV2ZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvTG9hZGVyRXZlbnRcIik7XHJcbmltcG9ydCBUaW1lckV2ZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvVGltZXJFdmVudFwiKTtcclxuaW1wb3J0IENvbG9yVHJhbnNmb3JtXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9Db2xvclRyYW5zZm9ybVwiKTtcclxuaW1wb3J0IFZlY3RvcjNEXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vVmVjdG9yM0RcIik7XHJcbmltcG9ydCBBc3NldExpYnJhcnlcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2xpYnJhcnkvQXNzZXRMaWJyYXJ5XCIpO1xyXG5pbXBvcnQgQXNzZXRMb2FkZXJDb250ZXh0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2xpYnJhcnkvQXNzZXRMb2FkZXJDb250ZXh0XCIpO1xyXG5pbXBvcnQgQXNzZXRUeXBlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9saWJyYXJ5L0Fzc2V0VHlwZVwiKTtcclxuaW1wb3J0IElBc3NldFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9saWJyYXJ5L0lBc3NldFwiKTtcclxuaW1wb3J0IFVSTFJlcXVlc3RcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL25ldC9VUkxSZXF1ZXN0XCIpO1xyXG5pbXBvcnQgVGV4dHVyZTJEQmFzZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3RleHR1cmVzL1RleHR1cmUyREJhc2VcIik7XHJcbmltcG9ydCBSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3V0aWxzL1JlcXVlc3RBbmltYXRpb25GcmFtZVwiKTtcclxuaW1wb3J0IFRpbWVyXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3V0aWxzL1RpbWVyXCIpO1xyXG5cclxuaW1wb3J0IExvYWRlclx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9jb250YWluZXJzL0xvYWRlclwiKTtcclxuaW1wb3J0IFNjZW5lXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRhaW5lcnMvU2NlbmVcIik7XHJcbmltcG9ydCBWaWV3XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udGFpbmVycy9WaWV3XCIpO1xyXG5pbXBvcnQgSG92ZXJDb250cm9sbGVyXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udHJvbGxlcnMvSG92ZXJDb250cm9sbGVyXCIpO1xyXG5pbXBvcnQgRGlyZWN0aW9uYWxMaWdodFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0RpcmVjdGlvbmFsTGlnaHRcIik7XHJcbmltcG9ydCBDYW1lcmFcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvQ2FtZXJhXCIpO1xyXG5pbXBvcnQgTWVzaFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL01lc2hcIik7XHJcbmltcG9ydCBQb2ludExpZ2h0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9Qb2ludExpZ2h0XCIpO1xyXG5pbXBvcnQgR2VvbWV0cnlcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9HZW9tZXRyeVwiKTtcclxuaW1wb3J0IFN0YXRpY0xpZ2h0UGlja2VyXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9saWdodHBpY2tlcnMvU3RhdGljTGlnaHRQaWNrZXJcIik7XHJcbmltcG9ydCBQcmltaXRpdmVQbGFuZVByZWZhYlx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9wcmVmYWJzL1ByaW1pdGl2ZVBsYW5lUHJlZmFiXCIpO1xyXG5pbXBvcnQgQ2FzdFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3V0aWxzL0Nhc3RcIik7XHJcblxyXG5pbXBvcnQgUGFydGljbGVBbmltYXRpb25TZXRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL1BhcnRpY2xlQW5pbWF0aW9uU2V0XCIpO1xyXG5pbXBvcnQgUGFydGljbGVBbmltYXRvclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9QYXJ0aWNsZUFuaW1hdG9yXCIpO1xyXG5pbXBvcnQgUGFydGljbGVQcm9wZXJ0aWVzXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9kYXRhL1BhcnRpY2xlUHJvcGVydGllc1wiKTtcclxuaW1wb3J0IFBhcnRpY2xlUHJvcGVydGllc01vZGVcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9kYXRhL1BhcnRpY2xlUHJvcGVydGllc01vZGVcIik7XHJcbmltcG9ydCBQYXJ0aWNsZUJpbGxib2FyZE5vZGVcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9ub2Rlcy9QYXJ0aWNsZUJpbGxib2FyZE5vZGVcIik7XHJcbmltcG9ydCBQYXJ0aWNsZVNjYWxlTm9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvbm9kZXMvUGFydGljbGVTY2FsZU5vZGVcIik7XHJcbmltcG9ydCBQYXJ0aWNsZVZlbG9jaXR5Tm9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvbm9kZXMvUGFydGljbGVWZWxvY2l0eU5vZGVcIik7XHJcbmltcG9ydCBQYXJ0aWNsZUNvbG9yTm9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvbm9kZXMvUGFydGljbGVDb2xvck5vZGVcIik7XHJcbmltcG9ydCBQYXJ0aWNsZUdlb21ldHJ5XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYmFzZS9QYXJ0aWNsZUdlb21ldHJ5XCIpO1xyXG5cclxuaW1wb3J0IE1ldGhvZE1hdGVyaWFsXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtbWV0aG9kbWF0ZXJpYWxzL2xpYi9NZXRob2RNYXRlcmlhbFwiKTtcclxuaW1wb3J0IE1ldGhvZFJlbmRlcmVyUG9vbFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1tZXRob2RtYXRlcmlhbHMvbGliL3Bvb2wvTWV0aG9kUmVuZGVyZXJQb29sXCIpO1xyXG5pbXBvcnQgTWV0aG9kTWF0ZXJpYWxNb2RlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLW1ldGhvZG1hdGVyaWFscy9saWIvTWV0aG9kTWF0ZXJpYWxNb2RlXCIpO1xyXG5cclxuaW1wb3J0IERlZmF1bHRSZW5kZXJlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL0RlZmF1bHRSZW5kZXJlclwiKTtcclxuaW1wb3J0IFBhcnRpY2xlR2VvbWV0cnlIZWxwZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL3V0aWxzL1BhcnRpY2xlR2VvbWV0cnlIZWxwZXJcIik7XHJcblxyXG5jbGFzcyBCYXNpY19GaXJlXHJcbntcclxuXHRwcml2YXRlIHN0YXRpYyBOVU1fRklSRVM6bnVtYmVyIC8qdWludCovID0gMTA7XHJcblxyXG5cdC8vZW5naW5lIHZhcmlhYmxlc1xyXG5cdHByaXZhdGUgc2NlbmU6U2NlbmU7XHJcblx0cHJpdmF0ZSBjYW1lcmE6Q2FtZXJhO1xyXG5cdHByaXZhdGUgdmlldzpWaWV3O1xyXG5cdHByaXZhdGUgY2FtZXJhQ29udHJvbGxlcjpIb3ZlckNvbnRyb2xsZXI7XHJcblxyXG5cdC8vbWF0ZXJpYWwgb2JqZWN0c1xyXG5cdHByaXZhdGUgcGxhbmVNYXRlcmlhbDpNZXRob2RNYXRlcmlhbDtcclxuXHRwcml2YXRlIHBhcnRpY2xlTWF0ZXJpYWw6TWV0aG9kTWF0ZXJpYWw7XHJcblxyXG5cdC8vbGlnaHQgb2JqZWN0c1xyXG5cdHByaXZhdGUgZGlyZWN0aW9uYWxMaWdodDpEaXJlY3Rpb25hbExpZ2h0O1xyXG5cdHByaXZhdGUgbGlnaHRQaWNrZXI6U3RhdGljTGlnaHRQaWNrZXI7XHJcblxyXG5cdC8vcGFydGljbGUgb2JqZWN0c1xyXG5cdHByaXZhdGUgZmlyZUFuaW1hdGlvblNldDpQYXJ0aWNsZUFuaW1hdGlvblNldDtcclxuXHRwcml2YXRlIHBhcnRpY2xlR2VvbWV0cnk6UGFydGljbGVHZW9tZXRyeTtcclxuXHRwcml2YXRlIGZpcmVUaW1lcjpUaW1lcjtcclxuXHJcblx0Ly9zY2VuZSBvYmplY3RzXHJcblx0cHJpdmF0ZSBwbGFuZTpNZXNoO1xyXG5cdHByaXZhdGUgZmlyZU9iamVjdHM6QXJyYXk8RmlyZVZPPiA9IG5ldyBBcnJheTxGaXJlVk8+KCk7XHJcblxyXG5cdC8vbmF2aWdhdGlvbiB2YXJpYWJsZXNcclxuXHRwcml2YXRlIHRpbWVyOlJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuXHRwcml2YXRlIHRpbWU6bnVtYmVyID0gMDtcclxuXHRwcml2YXRlIG1vdmU6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cdHByaXZhdGUgbGFzdFBhbkFuZ2xlOm51bWJlcjtcclxuXHRwcml2YXRlIGxhc3RUaWx0QW5nbGU6bnVtYmVyO1xyXG5cdHByaXZhdGUgbGFzdE1vdXNlWDpudW1iZXI7XHJcblx0cHJpdmF0ZSBsYXN0TW91c2VZOm51bWJlcjtcclxuXHJcblx0LyoqXHJcblx0ICogQ29uc3RydWN0b3JcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcigpXHJcblx0e1xyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHbG9iYWwgaW5pdGlhbGlzZSBmdW5jdGlvblxyXG5cdCAqL1xyXG5cdHByaXZhdGUgaW5pdCgpOnZvaWRcclxuXHR7XHJcblx0XHR0aGlzLmluaXRFbmdpbmUoKTtcclxuXHRcdHRoaXMuaW5pdExpZ2h0cygpO1xyXG5cdFx0dGhpcy5pbml0TWF0ZXJpYWxzKCk7XHJcblx0XHR0aGlzLmluaXRQYXJ0aWNsZXMoKTtcclxuXHRcdHRoaXMuaW5pdE9iamVjdHMoKTtcclxuXHRcdHRoaXMuaW5pdExpc3RlbmVycygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGlzZSB0aGUgZW5naW5lXHJcblx0ICovXHJcblx0cHJpdmF0ZSBpbml0RW5naW5lKCk6dm9pZFxyXG5cdHtcclxuXHRcdHRoaXMuc2NlbmUgPSBuZXcgU2NlbmUoKTtcclxuXHJcblx0XHR0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEoKTtcclxuXHJcblx0XHR0aGlzLnZpZXcgPSBuZXcgVmlldyhuZXcgRGVmYXVsdFJlbmRlcmVyKE1ldGhvZFJlbmRlcmVyUG9vbCkpO1xyXG5cdFx0Ly90aGlzLnZpZXcuYW50aUFsaWFzID0gNDtcclxuXHRcdHRoaXMudmlldy5zY2VuZSA9IHRoaXMuc2NlbmU7XHJcblx0XHR0aGlzLnZpZXcuY2FtZXJhID0gdGhpcy5jYW1lcmE7XHJcblxyXG5cdFx0Ly9zZXR1cCBjb250cm9sbGVyIHRvIGJlIHVzZWQgb24gdGhlIGNhbWVyYVxyXG5cdFx0dGhpcy5jYW1lcmFDb250cm9sbGVyID0gbmV3IEhvdmVyQ29udHJvbGxlcih0aGlzLmNhbWVyYSk7XHJcblx0XHR0aGlzLmNhbWVyYUNvbnRyb2xsZXIuZGlzdGFuY2UgPSAxMDAwO1xyXG5cdFx0dGhpcy5jYW1lcmFDb250cm9sbGVyLm1pblRpbHRBbmdsZSA9IDA7XHJcblx0XHR0aGlzLmNhbWVyYUNvbnRyb2xsZXIubWF4VGlsdEFuZ2xlID0gOTA7XHJcblx0XHR0aGlzLmNhbWVyYUNvbnRyb2xsZXIucGFuQW5nbGUgPSA0NTtcclxuXHRcdHRoaXMuY2FtZXJhQ29udHJvbGxlci50aWx0QW5nbGUgPSAyMDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluaXRpYWxpc2UgdGhlIGxpZ2h0c1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgaW5pdExpZ2h0cygpOnZvaWRcclxuXHR7XHJcblx0XHR0aGlzLmRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgwLCAtMSwgMCk7XHJcblx0XHR0aGlzLmRpcmVjdGlvbmFsTGlnaHQuY2FzdHNTaGFkb3dzID0gZmFsc2U7XHJcblx0XHR0aGlzLmRpcmVjdGlvbmFsTGlnaHQuY29sb3IgPSAweGVlZGRkZDtcclxuXHRcdHRoaXMuZGlyZWN0aW9uYWxMaWdodC5kaWZmdXNlID0gLjU7XHJcblx0XHR0aGlzLmRpcmVjdGlvbmFsTGlnaHQuYW1iaWVudCA9IC41O1xyXG5cdFx0dGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNwZWN1bGFyID0gMDtcclxuXHRcdHRoaXMuZGlyZWN0aW9uYWxMaWdodC5hbWJpZW50Q29sb3IgPSAweDgwODA5MDtcclxuXHRcdHRoaXMudmlldy5zY2VuZS5hZGRDaGlsZCh0aGlzLmRpcmVjdGlvbmFsTGlnaHQpO1xyXG5cclxuXHRcdHRoaXMubGlnaHRQaWNrZXIgPSBuZXcgU3RhdGljTGlnaHRQaWNrZXIoW3RoaXMuZGlyZWN0aW9uYWxMaWdodF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGlzZSB0aGUgbWF0ZXJpYWxzXHJcblx0ICovXHJcblx0cHJpdmF0ZSBpbml0TWF0ZXJpYWxzKCk6dm9pZFxyXG5cdHtcclxuXHRcdHRoaXMucGxhbmVNYXRlcmlhbCA9IG5ldyBNZXRob2RNYXRlcmlhbCgpO1xyXG5cdFx0dGhpcy5wbGFuZU1hdGVyaWFsLm1vZGUgPSBNZXRob2RNYXRlcmlhbE1vZGUuTVVMVElfUEFTUztcclxuXHRcdHRoaXMucGxhbmVNYXRlcmlhbC5saWdodFBpY2tlciA9IHRoaXMubGlnaHRQaWNrZXI7XHJcblx0XHR0aGlzLnBsYW5lTWF0ZXJpYWwucmVwZWF0ID0gdHJ1ZTtcclxuXHRcdHRoaXMucGxhbmVNYXRlcmlhbC5taXBtYXAgPSBmYWxzZTtcclxuXHRcdHRoaXMucGxhbmVNYXRlcmlhbC5zcGVjdWxhciA9IDEwO1xyXG5cclxuXHRcdHRoaXMucGFydGljbGVNYXRlcmlhbCA9IG5ldyBNZXRob2RNYXRlcmlhbCgpO1xyXG5cdFx0dGhpcy5wYXJ0aWNsZU1hdGVyaWFsLmJsZW5kTW9kZSA9IEJsZW5kTW9kZS5BREQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXNlIHRoZSBwYXJ0aWNsZXNcclxuXHQgKi9cclxuXHRwcml2YXRlIGluaXRQYXJ0aWNsZXMoKTp2b2lkXHJcblx0e1xyXG5cclxuXHRcdC8vY3JlYXRlIHRoZSBwYXJ0aWNsZSBhbmltYXRpb24gc2V0XHJcblx0XHR0aGlzLmZpcmVBbmltYXRpb25TZXQgPSBuZXcgUGFydGljbGVBbmltYXRpb25TZXQodHJ1ZSwgdHJ1ZSk7XHJcblxyXG5cdFx0Ly9hZGQgc29tZSBhbmltYXRpb25zIHdoaWNoIGNhbiBjb250cm9sIHRoZSBwYXJ0aWNsZXM6XHJcblx0XHQvL3RoZSBnbG9iYWwgYW5pbWF0aW9ucyBjYW4gYmUgc2V0IGRpcmVjdGx5LCBiZWNhdXNlIHRoZXkgaW5mbHVlbmNlIGFsbCB0aGUgcGFydGljbGVzIHdpdGggdGhlIHNhbWUgZmFjdG9yXHJcblx0XHR0aGlzLmZpcmVBbmltYXRpb25TZXQuYWRkQW5pbWF0aW9uKG5ldyBQYXJ0aWNsZUJpbGxib2FyZE5vZGUoKSk7XHJcblx0XHR0aGlzLmZpcmVBbmltYXRpb25TZXQuYWRkQW5pbWF0aW9uKG5ldyBQYXJ0aWNsZVNjYWxlTm9kZShQYXJ0aWNsZVByb3BlcnRpZXNNb2RlLkdMT0JBTCwgZmFsc2UsIGZhbHNlLCAyLjUsIDAuNSkpO1xyXG5cdFx0dGhpcy5maXJlQW5pbWF0aW9uU2V0LmFkZEFuaW1hdGlvbihuZXcgUGFydGljbGVWZWxvY2l0eU5vZGUoUGFydGljbGVQcm9wZXJ0aWVzTW9kZS5HTE9CQUwsIG5ldyBWZWN0b3IzRCgwLCA4MCwgMCkpKTtcclxuXHRcdHRoaXMuZmlyZUFuaW1hdGlvblNldC5hZGRBbmltYXRpb24obmV3IFBhcnRpY2xlQ29sb3JOb2RlKFBhcnRpY2xlUHJvcGVydGllc01vZGUuR0xPQkFMLCB0cnVlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIG5ldyBDb2xvclRyYW5zZm9ybSgwLCAwLCAwLCAxLCAweEZGLCAweDMzLCAweDAxKSwgbmV3IENvbG9yVHJhbnNmb3JtKDAsIDAsIDAsIDEsIDB4OTkpKSk7XHJcblxyXG5cdFx0Ly9ubyBuZWVkIHRvIHNldCB0aGUgbG9jYWwgYW5pbWF0aW9ucyBoZXJlLCBiZWNhdXNlIHRoZXkgaW5mbHVlbmNlIGFsbCB0aGUgcGFydGljbGUgd2l0aCBkaWZmZXJlbnQgZmFjdG9ycy5cclxuXHRcdHRoaXMuZmlyZUFuaW1hdGlvblNldC5hZGRBbmltYXRpb24obmV3IFBhcnRpY2xlVmVsb2NpdHlOb2RlKFBhcnRpY2xlUHJvcGVydGllc01vZGUuTE9DQUxfU1RBVElDKSk7XHJcblxyXG5cdFx0Ly9zZXQgdGhlIGluaXRQYXJ0aWNsZUZ1bmMuIEl0IHdpbGwgYmUgaW52b2tlZCBmb3IgdGhlIGxvY2FsIHN0YXRpYyBwcm9wZXJ0eSBpbml0aWFsaXphdGlvbiBvZiBldmVyeSBwYXJ0aWNsZVxyXG5cdFx0dGhpcy5maXJlQW5pbWF0aW9uU2V0LmluaXRQYXJ0aWNsZUZ1bmMgPSB0aGlzLmluaXRQYXJ0aWNsZUZ1bmM7XHJcblxyXG5cdFx0Ly9jcmVhdGUgdGhlIG9yaWdpbmFsIHBhcnRpY2xlIGdlb21ldHJ5XHJcblx0XHR2YXIgcGFydGljbGU6UHJpbWl0aXZlUGxhbmVQcmVmYWIgPSBuZXcgUHJpbWl0aXZlUGxhbmVQcmVmYWIoMTAsIDEwLCAxLCAxLCBmYWxzZSk7XHJcblxyXG5cdFx0Ly9jb21iaW5lIHRoZW0gaW50byBhIGxpc3RcclxuXHRcdHZhciBnZW9tZXRyeVNldDpBcnJheTxHZW9tZXRyeT4gPSBuZXcgQXJyYXk8R2VvbWV0cnk+KCk7XHJcblx0XHRmb3IgKHZhciBpOm51bWJlciAvKmludCovID0gMDsgaSA8IDUwMDsgaSsrKVxyXG5cdFx0XHRnZW9tZXRyeVNldC5wdXNoKHBhcnRpY2xlLmdlb21ldHJ5KTtcclxuXHJcblx0XHR0aGlzLnBhcnRpY2xlR2VvbWV0cnkgPSBQYXJ0aWNsZUdlb21ldHJ5SGVscGVyLmdlbmVyYXRlR2VvbWV0cnkoZ2VvbWV0cnlTZXQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGlzZSB0aGUgc2NlbmUgb2JqZWN0c1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgaW5pdE9iamVjdHMoKTp2b2lkXHJcblx0e1xyXG5cdFx0dGhpcy5wbGFuZSA9IDxNZXNoPiBuZXcgUHJpbWl0aXZlUGxhbmVQcmVmYWIoMTAwMCwgMTAwMCkuZ2V0TmV3T2JqZWN0KCk7XHJcblx0XHR0aGlzLnBsYW5lLm1hdGVyaWFsID0gdGhpcy5wbGFuZU1hdGVyaWFsO1xyXG5cdFx0dGhpcy5wbGFuZS5nZW9tZXRyeS5zY2FsZVVWKDIsIDIpO1xyXG5cdFx0dGhpcy5wbGFuZS55ID0gLTIwO1xyXG5cclxuXHRcdHRoaXMuc2NlbmUuYWRkQ2hpbGQodGhpcy5wbGFuZSk7XHJcblxyXG5cdFx0Ly9jcmVhdGUgZmlyZSBvYmplY3QgbWVzaGVzIGZyb20gZ2VvbXRyeSBhbmQgbWF0ZXJpYWwsIGFuZCBhcHBseSBwYXJ0aWNsZSBhbmltYXRvcnMgdG8gZWFjaFxyXG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgLyppbnQqLyA9IDA7IGkgPCBCYXNpY19GaXJlLk5VTV9GSVJFUzsgaSsrKSB7XHJcblx0XHRcdHZhciBwYXJ0aWNsZU1lc2g6TWVzaCA9IG5ldyBNZXNoKHRoaXMucGFydGljbGVHZW9tZXRyeSwgdGhpcy5wYXJ0aWNsZU1hdGVyaWFsKTtcclxuXHRcdFx0dmFyIGFuaW1hdG9yOlBhcnRpY2xlQW5pbWF0b3IgPSBuZXcgUGFydGljbGVBbmltYXRvcih0aGlzLmZpcmVBbmltYXRpb25TZXQpO1xyXG5cdFx0XHRwYXJ0aWNsZU1lc2guYW5pbWF0b3IgPSBhbmltYXRvcjtcclxuXHJcblx0XHRcdC8vcG9zaXRpb24gdGhlIG1lc2hcclxuXHRcdFx0dmFyIGRlZ3JlZTpudW1iZXIgPSBpIC8gQmFzaWNfRmlyZS5OVU1fRklSRVMgKiBNYXRoLlBJICogMjtcclxuXHRcdFx0cGFydGljbGVNZXNoLnggPSBNYXRoLnNpbihkZWdyZWUpICogNDAwO1xyXG5cdFx0XHRwYXJ0aWNsZU1lc2gueiA9IE1hdGguY29zKGRlZ3JlZSkgKiA0MDA7XHJcblx0XHRcdHBhcnRpY2xlTWVzaC55ID0gNTtcclxuXHJcblx0XHRcdC8vY3JlYXRlIGEgZmlyZSBvYmplY3QgYW5kIGFkZCBpdCB0byB0aGUgZmlyZSBvYmplY3QgdmVjdG9yXHJcblx0XHRcdHRoaXMuZmlyZU9iamVjdHMucHVzaChuZXcgRmlyZVZPKHBhcnRpY2xlTWVzaCwgYW5pbWF0b3IpKTtcclxuXHRcdFx0dGhpcy52aWV3LnNjZW5lLmFkZENoaWxkKHBhcnRpY2xlTWVzaCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9zZXR1cCB0aW1lciBmb3IgdHJpZ2dlcmluZyBlYWNoIHBhcnRpY2xlIGFuaWFtdG9yXHJcblx0XHR0aGlzLmZpcmVUaW1lciA9IG5ldyBUaW1lcigxMDAwLCB0aGlzLmZpcmVPYmplY3RzLmxlbmd0aCk7XHJcblx0XHR0aGlzLmZpcmVUaW1lci5hZGRFdmVudExpc3RlbmVyKFRpbWVyRXZlbnQuVElNRVIsIChldmVudDpUaW1lckV2ZW50KSA9PiB0aGlzLm9uVGltZXIoZXZlbnQpKTtcclxuXHRcdHRoaXMuZmlyZVRpbWVyLnN0YXJ0KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXNlIHRoZSBsaXN0ZW5lcnNcclxuXHQgKi9cclxuXHRwcml2YXRlIGluaXRMaXN0ZW5lcnMoKTp2b2lkXHJcblx0e1xyXG5cdFx0d2luZG93Lm9ucmVzaXplICA9IChldmVudDpVSUV2ZW50KSA9PiB0aGlzLm9uUmVzaXplKGV2ZW50KTtcclxuXHJcblx0XHRkb2N1bWVudC5vbm1vdXNlZG93biA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VEb3duKGV2ZW50KTtcclxuXHRcdGRvY3VtZW50Lm9ubW91c2V1cCA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VVcChldmVudCk7XHJcblx0XHRkb2N1bWVudC5vbm1vdXNlbW92ZSA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VNb3ZlKGV2ZW50KTtcclxuXHJcblx0XHR0aGlzLm9uUmVzaXplKCk7XHJcblxyXG5cdFx0dGhpcy50aW1lciA9IG5ldyBSZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5vbkVudGVyRnJhbWUsIHRoaXMpO1xyXG5cdFx0dGhpcy50aW1lci5zdGFydCgpO1xyXG5cclxuXHRcdEFzc2V0TGlicmFyeS5hZGRFdmVudExpc3RlbmVyKExvYWRlckV2ZW50LlJFU09VUkNFX0NPTVBMRVRFLCAoZXZlbnQ6TG9hZGVyRXZlbnQpID0+IHRoaXMub25SZXNvdXJjZUNvbXBsZXRlKGV2ZW50KSk7XHJcblxyXG5cdFx0Ly9wbGFuZSB0ZXh0dXJlc1xyXG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvZmxvb3JfZGlmZnVzZS5qcGdcIikpO1xyXG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvZmxvb3Jfbm9ybWFsLmpwZ1wiKSk7XHJcblx0XHRBc3NldExpYnJhcnkubG9hZChuZXcgVVJMUmVxdWVzdChcImFzc2V0cy9mbG9vcl9zcGVjdWxhci5qcGdcIikpO1xyXG5cclxuXHRcdC8vcGFydGljbGUgdGV4dHVyZVxyXG5cdFx0QXNzZXRMaWJyYXJ5LmxvYWQobmV3IFVSTFJlcXVlc3QoXCJhc3NldHMvYmx1ZS5wbmdcIikpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGlzZXIgZm9yIHBhcnRpY2xlIHByb3BlcnRpZXNcclxuXHQgKi9cclxuXHRwcml2YXRlIGluaXRQYXJ0aWNsZUZ1bmMocHJvcDpQYXJ0aWNsZVByb3BlcnRpZXMpOnZvaWRcclxuXHR7XHJcblx0XHRwcm9wLnN0YXJ0VGltZSA9IE1hdGgucmFuZG9tKCkqNTtcclxuXHRcdHByb3AuZHVyYXRpb24gPSBNYXRoLnJhbmRvbSgpICogNCArIDAuMTtcclxuXHJcblx0XHR2YXIgZGVncmVlMTpudW1iZXIgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XHJcblx0XHR2YXIgZGVncmVlMjpudW1iZXIgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XHJcblx0XHR2YXIgcjpudW1iZXIgPSAxNTtcclxuXHRcdHByb3BbUGFydGljbGVWZWxvY2l0eU5vZGUuVkVMT0NJVFlfVkVDVE9SM0RdID0gbmV3IFZlY3RvcjNEKHIgKiBNYXRoLnNpbihkZWdyZWUxKSAqIE1hdGguY29zKGRlZ3JlZTIpLCByICogTWF0aC5jb3MoZGVncmVlMSkgKiBNYXRoLmNvcyhkZWdyZWUyKSwgciAqIE1hdGguc2luKGRlZ3JlZTIpKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYW4gYXJyYXkgb2YgYWN0aXZlIGxpZ2h0cyBpbiB0aGUgc2NlbmVcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldEFsbExpZ2h0cygpOkFycmF5PGFueT5cclxuXHR7XHJcblx0XHR2YXIgbGlnaHRzOkFycmF5PGFueT4gPSBuZXcgQXJyYXk8YW55PigpO1xyXG5cclxuXHRcdGxpZ2h0cy5wdXNoKHRoaXMuZGlyZWN0aW9uYWxMaWdodCk7XHJcblxyXG5cdFx0dmFyIGZpcmVWTzpGaXJlVk87XHJcblx0XHRmb3IgKHZhciBpOm51bWJlciAvKnVpbnQqLyA9IDA7IGkgPCB0aGlzLmZpcmVPYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGZpcmVWTyA9IHRoaXMuZmlyZU9iamVjdHNbaV07XHJcblx0XHRcdGlmIChmaXJlVk8ubGlnaHQpXHJcblx0XHRcdFx0bGlnaHRzLnB1c2goZmlyZVZPLmxpZ2h0KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbGlnaHRzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGltZXIgZXZlbnQgaGFuZGxlclxyXG5cdCAqL1xyXG5cdHByaXZhdGUgb25UaW1lcihldmVudDpUaW1lckV2ZW50KTp2b2lkXHJcblx0e1xyXG5cdFx0dmFyIGZpcmVPYmplY3Q6RmlyZVZPID0gdGhpcy5maXJlT2JqZWN0c1t0aGlzLmZpcmVUaW1lci5jdXJyZW50Q291bnQtMV07XHJcblxyXG5cdFx0Ly9zdGFydCB0aGUgYW5pbWF0b3JcclxuXHRcdGZpcmVPYmplY3QuYW5pbWF0b3Iuc3RhcnQoKTtcclxuXHJcblx0XHQvL2NyZWF0ZSB0aGUgbGlnaHRzb3VyY2VcclxuXHRcdHZhciBsaWdodDpQb2ludExpZ2h0ID0gbmV3IFBvaW50TGlnaHQoKTtcclxuXHRcdGxpZ2h0LmNvbG9yID0gMHhGRjMzMDE7XHJcblx0XHRsaWdodC5kaWZmdXNlID0gMDtcclxuXHRcdGxpZ2h0LnNwZWN1bGFyID0gMDtcclxuXHRcdGxpZ2h0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IGZpcmVPYmplY3QubWVzaC50cmFuc2Zvcm0ucG9zaXRpb247XHJcblxyXG5cdFx0Ly9hZGQgdGhlIGxpZ2h0c291cmNlIHRvIHRoZSBmaXJlIG9iamVjdFxyXG5cdFx0ZmlyZU9iamVjdC5saWdodCA9IGxpZ2h0O1xyXG5cclxuXHRcdC8vdXBkYXRlIHRoZSBsaWdodHBpY2tlclxyXG5cdFx0dGhpcy5saWdodFBpY2tlci5saWdodHMgPSB0aGlzLmdldEFsbExpZ2h0cygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTmF2aWdhdGlvbiBhbmQgcmVuZGVyIGxvb3BcclxuXHQgKi9cclxuXHRwcml2YXRlIG9uRW50ZXJGcmFtZShkdDpudW1iZXIpOnZvaWRcclxuXHR7XHJcblx0XHR0aGlzLnRpbWUgKz0gZHQ7XHJcblxyXG5cdFx0Ly9hbmltYXRlIGxpZ2h0c1xyXG5cdFx0dmFyIGZpcmVWTzpGaXJlVk87XHJcblx0XHRmb3IgKHZhciBpOm51bWJlciAvKnVpbnQqLyA9IDA7IGkgPCB0aGlzLmZpcmVPYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGZpcmVWTyA9IHRoaXMuZmlyZU9iamVjdHNbaV07XHJcblxyXG5cdFx0XHQvL3VwZGF0ZSBmbGFtZSBsaWdodFxyXG5cdFx0XHR2YXIgbGlnaHQgOiBQb2ludExpZ2h0ID0gZmlyZVZPLmxpZ2h0O1xyXG5cclxuXHRcdFx0aWYgKCFsaWdodClcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdGlmIChmaXJlVk8uc3RyZW5ndGggPCAxKVxyXG5cdFx0XHRcdGZpcmVWTy5zdHJlbmd0aCArPSAwLjE7XHJcblxyXG5cdFx0XHRsaWdodC5mYWxsT2ZmID0gMzgwK01hdGgucmFuZG9tKCkqMjA7XHJcblx0XHRcdGxpZ2h0LnJhZGl1cyA9IDIwMCtNYXRoLnJhbmRvbSgpKjMwO1xyXG5cdFx0XHRsaWdodC5kaWZmdXNlID0gbGlnaHQuc3BlY3VsYXIgPSBmaXJlVk8uc3RyZW5ndGgrTWF0aC5yYW5kb20oKSouMjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnZpZXcucmVuZGVyKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMaXN0ZW5lciBmdW5jdGlvbiBmb3IgcmVzb3VyY2UgY29tcGxldGUgZXZlbnQgb24gYXNzZXQgbGlicmFyeVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgb25SZXNvdXJjZUNvbXBsZXRlKGV2ZW50OkxvYWRlckV2ZW50KVxyXG5cdHtcclxuXHRcdHZhciBhc3NldHM6SUFzc2V0W10gPSBldmVudC5hc3NldHM7XHJcblx0XHR2YXIgbGVuZ3RoOm51bWJlciA9IGFzc2V0cy5sZW5ndGg7XHJcblxyXG5cdFx0Zm9yICh2YXIgYzpudW1iZXIgPSAwOyBjIDwgbGVuZ3RoOyBjKyspIHtcclxuXHRcdFx0dmFyIGFzc2V0OklBc3NldCA9IGFzc2V0c1tjXTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKGFzc2V0Lm5hbWUsIGV2ZW50LnVybCk7XHJcblxyXG5cdFx0XHRzd2l0Y2ggKGV2ZW50LnVybCkge1xyXG5cdFx0XHRcdC8vcGxhbmUgdGV4dHVyZXNcclxuXHRcdFx0XHRjYXNlIFwiYXNzZXRzL2Zsb29yX2RpZmZ1c2UuanBnXCIgOlxyXG5cdFx0XHRcdFx0dGhpcy5wbGFuZU1hdGVyaWFsLnRleHR1cmUgPSA8VGV4dHVyZTJEQmFzZT4gQXNzZXRMaWJyYXJ5LmdldEFzc2V0KGFzc2V0Lm5hbWUpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcImFzc2V0cy9mbG9vcl9ub3JtYWwuanBnXCIgOlxyXG5cdFx0XHRcdFx0dGhpcy5wbGFuZU1hdGVyaWFsLm5vcm1hbE1hcCA9IDxUZXh0dXJlMkRCYXNlPiBBc3NldExpYnJhcnkuZ2V0QXNzZXQoYXNzZXQubmFtZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwiYXNzZXRzL2Zsb29yX3NwZWN1bGFyLmpwZ1wiIDpcclxuXHRcdFx0XHRcdHRoaXMucGxhbmVNYXRlcmlhbC5zcGVjdWxhck1hcCA9IDxUZXh0dXJlMkRCYXNlPiBBc3NldExpYnJhcnkuZ2V0QXNzZXQoYXNzZXQubmFtZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Ly9wYXJ0aWNsZSB0ZXh0dXJlXHJcblx0XHRcdFx0Y2FzZSBcImFzc2V0cy9ibHVlLnBuZ1wiIDpcclxuXHRcdFx0XHRcdHRoaXMucGFydGljbGVNYXRlcmlhbC50ZXh0dXJlID0gPFRleHR1cmUyREJhc2U+IEFzc2V0TGlicmFyeS5nZXRBc3NldChhc3NldC5uYW1lKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQgLyoqXHJcblx0ICogTW91c2UgZG93biBsaXN0ZW5lciBmb3IgbmF2aWdhdGlvblxyXG5cdCAqL1xyXG5cdHByaXZhdGUgb25Nb3VzZURvd24oZXZlbnQ6TW91c2VFdmVudCk6dm9pZFxyXG5cdHtcclxuXHRcdHRoaXMubGFzdFBhbkFuZ2xlID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnBhbkFuZ2xlO1xyXG5cdFx0dGhpcy5sYXN0VGlsdEFuZ2xlID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnRpbHRBbmdsZTtcclxuXHRcdHRoaXMubGFzdE1vdXNlWCA9IGV2ZW50LmNsaWVudFg7XHJcblx0XHR0aGlzLmxhc3RNb3VzZVkgPSBldmVudC5jbGllbnRZO1xyXG5cdFx0dGhpcy5tb3ZlID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1vdXNlIHVwIGxpc3RlbmVyIGZvciBuYXZpZ2F0aW9uXHJcblx0ICovXHJcblx0cHJpdmF0ZSBvbk1vdXNlVXAoZXZlbnQ6TW91c2VFdmVudCk6dm9pZFxyXG5cdHtcclxuXHRcdHRoaXMubW92ZSA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBvbk1vdXNlTW92ZShldmVudDpNb3VzZUV2ZW50KVxyXG5cdHtcclxuXHRcdGlmICh0aGlzLm1vdmUpIHtcclxuXHRcdFx0dGhpcy5jYW1lcmFDb250cm9sbGVyLnBhbkFuZ2xlID0gMC4zKihldmVudC5jbGllbnRYIC0gdGhpcy5sYXN0TW91c2VYKSArIHRoaXMubGFzdFBhbkFuZ2xlO1xyXG5cdFx0XHR0aGlzLmNhbWVyYUNvbnRyb2xsZXIudGlsdEFuZ2xlID0gMC4zKihldmVudC5jbGllbnRZIC0gdGhpcy5sYXN0TW91c2VZKSArIHRoaXMubGFzdFRpbHRBbmdsZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIHN0YWdlIGxpc3RlbmVyIGZvciByZXNpemUgZXZlbnRzXHJcblx0ICovXHJcblx0cHJpdmF0ZSBvblJlc2l6ZShldmVudDpVSUV2ZW50ID0gbnVsbCk6dm9pZFxyXG5cdHtcclxuXHRcdHRoaXMudmlldy55ID0gMDtcclxuXHRcdHRoaXMudmlldy54ID0gMDtcclxuXHRcdHRoaXMudmlldy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cdFx0dGhpcy52aWV3LmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qIERhdGEgY2xhc3MgZm9yIHRoZSBmaXJlIG9iamVjdHNcclxuKi9cclxuY2xhc3MgRmlyZVZPXHJcbntcclxuXHRwdWJsaWMgbWVzaDpNZXNoO1xyXG5cdHB1YmxpYyBhbmltYXRvcjpQYXJ0aWNsZUFuaW1hdG9yO1xyXG5cdHB1YmxpYyBsaWdodDpQb2ludExpZ2h0O1xyXG5cdHB1YmxpYyBzdHJlbmd0aDpudW1iZXIgPSAwO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihtZXNoOk1lc2gsIGFuaW1hdG9yOlBhcnRpY2xlQW5pbWF0b3IpXHJcblx0e1xyXG5cdFx0dGhpcy5tZXNoID0gbWVzaDtcclxuXHRcdHRoaXMuYW5pbWF0b3IgPSBhbmltYXRvcjtcclxuXHR9XHJcbn1cclxuXHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKClcclxue1xyXG5cdG5ldyBCYXNpY19GaXJlKCk7XHJcbn0iXX0=