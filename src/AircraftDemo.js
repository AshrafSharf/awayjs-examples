var LoaderEvent = require("awayjs-core/lib/events/LoaderEvent");
var UVTransform = require("awayjs-core/lib/geom/UVTransform");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var AssetLibrary = require("awayjs-core/lib/library/AssetLibrary");
var AssetType = require("awayjs-core/lib/library/AssetType");
var URLRequest = require("awayjs-core/lib/net/URLRequest");
var Debug = require("awayjs-core/lib/utils/Debug");
var RequestAnimationFrame = require("awayjs-core/lib/utils/RequestAnimationFrame");
var DisplayObjectContainer = require("awayjs-display/lib/containers/DisplayObjectContainer");
var View = require("awayjs-display/lib/containers/View");
var DirectionalLight = require("awayjs-display/lib/entities/DirectionalLight");
var Skybox = require("awayjs-display/lib/entities/Skybox");
var StaticLightPicker = require("awayjs-display/lib/materials/lightpickers/StaticLightPicker");
var PrimitivePlanePrefab = require("awayjs-display/lib/prefabs/PrimitivePlanePrefab");
var SkyboxMaterial = require("awayjs-renderergl/lib/materials/SkyboxMaterial");
var TriangleMethodMaterial = require("awayjs-renderergl/lib/materials/TriangleMethodMaterial");
var EffectEnvMapMethod = require("awayjs-renderergl/lib/materials/methods/EffectEnvMapMethod");
var NormalSimpleWaterMethod = require("awayjs-renderergl/lib/materials/methods/NormalSimpleWaterMethod");
var SpecularFresnelMethod = require("awayjs-renderergl/lib/materials/methods/SpecularFresnelMethod");
var DefaultRenderer = require("awayjs-renderergl/lib/render/DefaultRenderer");
var OBJParser = require("awayjs-renderergl/lib/parsers/OBJParser");
var AircraftDemo = (function () {
    //}
    function AircraftDemo() {
        var _this = this;
        //{ state
        this._maxStates = 2;
        this._cameraIncrement = 0;
        this._rollIncrement = 0;
        this._loopIncrement = 0;
        this._state = 0;
        this._appTime = 0;
        this._seaInitialized = false;
        this._f14Initialized = false;
        this._skyboxInitialized = false;
        Debug.LOG_PI_ERRORS = false;
        Debug.THROW_ERRORS = false;
        this.initView();
        this.initLights();
        this.initAnimation();
        this.initParsers();
        this.loadAssets();
        window.onresize = function (event) { return _this.onResize(event); };
    }
    AircraftDemo.prototype.loadAssets = function () {
        this.loadAsset('assets/sea_normals.jpg');
        this.loadAsset('assets/f14/f14d.obj');
        this.loadAsset('assets/skybox/CubeTextureTest.cube');
    };
    AircraftDemo.prototype.loadAsset = function (path) {
        var _this = this;
        var token = AssetLibrary.load(new URLRequest(path));
        token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, function (event) { return _this.onResourceComplete(event); });
    };
    AircraftDemo.prototype.initParsers = function () {
        AssetLibrary.enableParser(OBJParser);
    };
    AircraftDemo.prototype.initAnimation = function () {
        this._timer = new RequestAnimationFrame(this.render, this);
    };
    AircraftDemo.prototype.initView = function () {
        this._view = new View(new DefaultRenderer());
        this._view.camera.z = -500;
        this._view.camera.y = 250;
        this._view.camera.rotationX = 20;
        this._view.camera.projection.near = 0.5;
        this._view.camera.projection.far = 14000;
        this._view.backgroundColor = 0x2c2c32;
        this.onResize();
    };
    AircraftDemo.prototype.initializeScene = function () {
        if (this._skyboxCubeTexture && this._f14Geom && this._seaNormalTexture) {
            this.initF14();
            this.initSea();
            this._timer.start();
        }
    };
    AircraftDemo.prototype.initLights = function () {
        var light = new DirectionalLight();
        light.color = 0x974523;
        light.direction = new Vector3D(-300, -300, -5000);
        light.ambient = 1;
        light.ambientColor = 0x7196ac;
        light.diffuse = 1.2;
        light.specular = 1.1;
        this._view.scene.addChild(light);
        this._lightPicker = new StaticLightPicker([light]);
    };
    AircraftDemo.prototype.initF14 = function () {
        var _this = this;
        this._f14Initialized = true;
        var f14Material = new TriangleMethodMaterial(this._seaNormalTexture, true, true, false); // will be the cubemap
        f14Material.lightPicker = this._lightPicker;
        this._view.scene.addChild(this._f14Geom);
        this._f14Geom.transform.scale = new Vector3D(20, 20, 20);
        this._f14Geom.rotationX = 90;
        this._f14Geom.y = 200;
        this._view.camera.lookAt(this._f14Geom.transform.position);
        document.onmousedown = function (event) { return _this.onMouseDown(event); };
    };
    AircraftDemo.prototype.initSea = function () {
        this._seaMaterial = new TriangleMethodMaterial(this._seaNormalTexture, true, true, false); // will be the cubemap
        this._waterMethod = new NormalSimpleWaterMethod(this._seaNormalTexture, this._seaNormalTexture);
        var fresnelMethod = new SpecularFresnelMethod();
        fresnelMethod.normalReflectance = .3;
        this._seaMaterial.alphaBlending = true;
        this._seaMaterial.lightPicker = this._lightPicker;
        this._seaMaterial.repeat = true;
        this._seaMaterial.animateUVs = true;
        this._seaMaterial.normalMethod = this._waterMethod;
        this._seaMaterial.addEffectMethod(new EffectEnvMapMethod(this._skyboxCubeTexture));
        this._seaMaterial.specularMethod = fresnelMethod;
        this._seaMaterial.gloss = 100;
        this._seaMaterial.specular = 1;
        this._seaGeom = new PrimitivePlanePrefab(50000, 50000, 1, 1, true, false);
        this._seaMesh = this._seaGeom.getNewObject();
        this._seaGeom.geometry.scaleUV(100, 100);
        this._seaMesh.subMeshes[0].uvTransform = new UVTransform();
        this._seaMesh.material = this._seaMaterial;
        this._view.scene.addChild(new Skybox(new SkyboxMaterial(this._skyboxCubeTexture)));
        this._view.scene.addChild(this._seaMesh);
    };
    AircraftDemo.prototype.onResourceComplete = function (event) {
        var loader = event.target;
        var numAssets = loader.baseDependency.assets.length;
        var i = 0;
        switch (event.url) {
            case "assets/sea_normals.jpg":
                this._seaNormalTexture = loader.baseDependency.assets[0];
                break;
            case 'assets/f14/f14d.obj':
                this._f14Geom = new DisplayObjectContainer();
                for (i = 0; i < numAssets; ++i) {
                    var asset = loader.baseDependency.assets[i];
                    switch (asset.assetType) {
                        case AssetType.MESH:
                            var mesh = asset;
                            this._f14Geom.addChild(mesh);
                            break;
                        case AssetType.GEOMETRY:
                            break;
                        case AssetType.MATERIAL:
                            break;
                    }
                }
                break;
            case 'assets/skybox/CubeTextureTest.cube':
                this._skyboxCubeTexture = loader.baseDependency.assets[0];
                break;
        }
        this.initializeScene();
    };
    AircraftDemo.prototype.render = function (dt) {
        if (this._f14Geom) {
            this._rollIncrement += 0.02;
            switch (this._state) {
                case 0:
                    this._f14Geom.rotationZ = Math.sin(this._rollIncrement) * 25;
                    break;
                case 1:
                    this._loopIncrement += 0.05;
                    this._f14Geom.z += Math.cos(this._loopIncrement) * 20;
                    this._f14Geom.y += Math.sin(this._loopIncrement) * 20;
                    this._f14Geom.rotationX += -1 * ((Math.PI / 180) * Math.atan2(this._f14Geom.z, this._f14Geom.y)); //* 20;
                    this._f14Geom.rotationZ = Math.sin(this._rollIncrement) * 25;
                    if (this._loopIncrement > (Math.PI * 2)) {
                        this._loopIncrement = 0;
                        this._state = 0;
                    }
                    break;
            }
        }
        if (this._f14Geom) {
            this._view.camera.lookAt(this._f14Geom.transform.position);
        }
        if (this._view.camera) {
            this._cameraIncrement += 0.01;
            this._view.camera.x = Math.cos(this._cameraIncrement) * 400;
            this._view.camera.z = Math.sin(this._cameraIncrement) * 400;
        }
        if (this._f14Geom) {
            this._view.camera.lookAt(this._f14Geom.transform.position);
        }
        if (this._seaMaterial) {
            this._seaMesh.subMeshes[0].uvTransform.offsetV -= 0.04;
        }
        this._appTime += dt;
        this._view.render();
    };
    AircraftDemo.prototype.onResize = function (event) {
        if (event === void 0) { event = null; }
        this._view.y = 0;
        this._view.x = 0;
        this._view.width = window.innerWidth;
        this._view.height = window.innerHeight;
    };
    AircraftDemo.prototype.onMouseDown = function (event) {
        this._state++;
        if (this._state >= this._maxStates)
            this._state = 0;
    };
    return AircraftDemo;
})();
window.onload = function () {
    new AircraftDemo();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9BaXJjcmFmdERlbW8udHMiXSwibmFtZXMiOlsiQWlyY3JhZnREZW1vIiwiQWlyY3JhZnREZW1vLmNvbnN0cnVjdG9yIiwiQWlyY3JhZnREZW1vLmxvYWRBc3NldHMiLCJBaXJjcmFmdERlbW8ubG9hZEFzc2V0IiwiQWlyY3JhZnREZW1vLmluaXRQYXJzZXJzIiwiQWlyY3JhZnREZW1vLmluaXRBbmltYXRpb24iLCJBaXJjcmFmdERlbW8uaW5pdFZpZXciLCJBaXJjcmFmdERlbW8uaW5pdGlhbGl6ZVNjZW5lIiwiQWlyY3JhZnREZW1vLmluaXRMaWdodHMiLCJBaXJjcmFmdERlbW8uaW5pdEYxNCIsIkFpcmNyYWZ0RGVtby5pbml0U2VhIiwiQWlyY3JhZnREZW1vLm9uUmVzb3VyY2VDb21wbGV0ZSIsIkFpcmNyYWZ0RGVtby5yZW5kZXIiLCJBaXJjcmFmdERlbW8ub25SZXNpemUiLCJBaXJjcmFmdERlbW8ub25Nb3VzZURvd24iXSwibWFwcGluZ3MiOiJBQUNBLElBQU8sV0FBVyxXQUFlLG9DQUFvQyxDQUFDLENBQUM7QUFDdkUsSUFBTyxXQUFXLFdBQWUsa0NBQWtDLENBQUMsQ0FBQztBQUNyRSxJQUFPLFFBQVEsV0FBZ0IsK0JBQStCLENBQUMsQ0FBQztBQUNoRSxJQUFPLFlBQVksV0FBZSxzQ0FBc0MsQ0FBQyxDQUFDO0FBSTFFLElBQU8sU0FBUyxXQUFlLG1DQUFtQyxDQUFDLENBQUM7QUFFcEUsSUFBTyxVQUFVLFdBQWUsZ0NBQWdDLENBQUMsQ0FBQztBQUdsRSxJQUFPLEtBQUssV0FBNEIsNkJBQTZCLENBQUMsQ0FBQztBQUN2RSxJQUFPLHFCQUFxQixXQUFZLDZDQUE2QyxDQUFDLENBQUM7QUFFdkYsSUFBTyxzQkFBc0IsV0FBWSxzREFBc0QsQ0FBQyxDQUFDO0FBQ2pHLElBQU8sSUFBSSxXQUFpQixvQ0FBb0MsQ0FBQyxDQUFDO0FBRWxFLElBQU8sZ0JBQWdCLFdBQWMsOENBQThDLENBQUMsQ0FBQztBQUVyRixJQUFPLE1BQU0sV0FBZ0Is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QkEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7UUFDL0RBLENBQUNBO1FBRURBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1lBQ3BCQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLElBQUlBLElBQUlBLENBQUNBO1lBQzlCQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEdBQUNBLEdBQUdBLENBQUNBO1lBQzFEQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEdBQUNBLEdBQUdBLENBQUNBO1FBQzlEQSxDQUFDQTtRQUVEQSxFQUFFQSxDQUFDQSxDQUFFQSxJQUFJQSxDQUFDQSxRQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNsQkEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7UUFDL0RBLENBQUNBO1FBRURBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBO1lBQ3BCQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxXQUFXQSxDQUFDQSxPQUFPQSxJQUFJQSxJQUFJQSxDQUFDQTtRQVEzREEsQ0FBQ0E7UUFFREEsSUFBSUEsQ0FBQ0EsUUFBUUEsSUFBSUEsRUFBRUEsQ0FBQ0E7UUFDcEJBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBO0lBQ3hCQSxDQUFDQTtJQUVNWiwrQkFBUUEsR0FBZkEsVUFBZ0JBLEtBQW9CQTtRQUFwQmEscUJBQW9CQSxHQUFwQkEsWUFBb0JBO1FBRWhDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNqQkEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDakJBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEtBQUtBLEdBQUdBLE1BQU1BLENBQUNBLFVBQVVBLENBQUNBO1FBQ3JDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxHQUFHQSxNQUFNQSxDQUFDQSxXQUFXQSxDQUFDQTtJQUMzQ0EsQ0FBQ0E7SUFFT2Isa0NBQVdBLEdBQW5CQSxVQUFvQkEsS0FBZ0JBO1FBRWhDYyxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQTtRQUVkQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxJQUFJQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQTtZQUMvQkEsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7SUFDeEJBLENBQUNBO0lBQ0xkLG1CQUFDQTtBQUFEQSxDQTNQQSxBQTJQQ0EsSUFBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLEdBQUc7SUFFWixJQUFJLFlBQVksRUFBRSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQSIsImZpbGUiOiJBaXJjcmFmdERlbW8uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXNzZXRFdmVudFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0Fzc2V0RXZlbnRcIik7XG5pbXBvcnQgTG9hZGVyRXZlbnRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2V2ZW50cy9Mb2FkZXJFdmVudFwiKTtcbmltcG9ydCBVVlRyYW5zZm9ybVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9VVlRyYW5zZm9ybVwiKTtcbmltcG9ydCBWZWN0b3IzRFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL1ZlY3RvcjNEXCIpO1xuaW1wb3J0IEFzc2V0TGlicmFyeVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbGlicmFyeS9Bc3NldExpYnJhcnlcIik7XG5pbXBvcnQgQXNzZXRMb2FkZXJcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2xpYnJhcnkvQXNzZXRMb2FkZXJcIik7XG5pbXBvcnQgQXNzZXRMb2FkZXJDb250ZXh0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2xpYnJhcnkvQXNzZXRMb2FkZXJDb250ZXh0XCIpO1xuaW1wb3J0IEFzc2V0TG9hZGVyVG9rZW5cdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9saWJyYXJ5L0Fzc2V0TG9hZGVyVG9rZW5cIik7XG5pbXBvcnQgQXNzZXRUeXBlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9saWJyYXJ5L0Fzc2V0VHlwZVwiKTtcbmltcG9ydCBJQXNzZXRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbGlicmFyeS9JQXNzZXRcIik7XG5pbXBvcnQgVVJMUmVxdWVzdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbmV0L1VSTFJlcXVlc3RcIik7XG5pbXBvcnQgSW1hZ2VDdWJlVGV4dHVyZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3RleHR1cmVzL0ltYWdlQ3ViZVRleHR1cmVcIik7XG5pbXBvcnQgSW1hZ2VUZXh0dXJlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi90ZXh0dXJlcy9JbWFnZVRleHR1cmVcIik7XG5pbXBvcnQgRGVidWcgICAgICAgICAgICAgICAgXHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi91dGlscy9EZWJ1Z1wiKTtcbmltcG9ydCBSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3V0aWxzL1JlcXVlc3RBbmltYXRpb25GcmFtZVwiKTtcblxuaW1wb3J0IERpc3BsYXlPYmplY3RDb250YWluZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRhaW5lcnMvRGlzcGxheU9iamVjdENvbnRhaW5lclwiKTtcbmltcG9ydCBWaWV3XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udGFpbmVycy9WaWV3XCIpO1xuaW1wb3J0IEhvdmVyQ29udHJvbGxlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRyb2xsZXJzL0hvdmVyQ29udHJvbGxlclwiKTtcbmltcG9ydCBEaXJlY3Rpb25hbExpZ2h0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvRGlyZWN0aW9uYWxMaWdodFwiKTtcbmltcG9ydCBNZXNoXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvTWVzaFwiKTtcbmltcG9ydCBTa3lib3hcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvU2t5Ym94XCIpO1xuaW1wb3J0IFN0YXRpY0xpZ2h0UGlja2VyXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9saWdodHBpY2tlcnMvU3RhdGljTGlnaHRQaWNrZXJcIik7XG5pbXBvcnQgUHJpbWl0aXZlUGxhbmVQcmVmYWJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvcHJlZmFicy9QcmltaXRpdmVQbGFuZVByZWZhYlwiKTtcblxuaW1wb3J0IFNreWJveE1hdGVyaWFsICAgICAgIFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvbWF0ZXJpYWxzL1NreWJveE1hdGVyaWFsXCIpO1xuaW1wb3J0IFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWxcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL21hdGVyaWFscy9UcmlhbmdsZU1ldGhvZE1hdGVyaWFsXCIpO1xuaW1wb3J0IEVmZmVjdEVudk1hcE1ldGhvZCAgIFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvbWF0ZXJpYWxzL21ldGhvZHMvRWZmZWN0RW52TWFwTWV0aG9kXCIpO1xuaW1wb3J0IE5vcm1hbFNpbXBsZVdhdGVyTWV0aG9kXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9tYXRlcmlhbHMvbWV0aG9kcy9Ob3JtYWxTaW1wbGVXYXRlck1ldGhvZFwiKTtcbmltcG9ydCBTcGVjdWxhckZyZXNuZWxNZXRob2RcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL21hdGVyaWFscy9tZXRob2RzL1NwZWN1bGFyRnJlc25lbE1ldGhvZFwiKTtcbmltcG9ydCBEZWZhdWx0UmVuZGVyZXJcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9yZW5kZXIvRGVmYXVsdFJlbmRlcmVyXCIpO1xuaW1wb3J0IEFXRFBhcnNlclx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcGFyc2Vycy9BV0RQYXJzZXJcIik7XG5pbXBvcnQgT0JKUGFyc2VyXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9wYXJzZXJzL09CSlBhcnNlclwiKTtcblxuY2xhc3MgQWlyY3JhZnREZW1vXG57XG4gICAgLy97IHN0YXRlXG4gICAgcHJpdmF0ZSBfbWF4U3RhdGVzOm51bWJlciA9IDI7XG4gICAgcHJpdmF0ZSBfY2FtZXJhSW5jcmVtZW50Om51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfcm9sbEluY3JlbWVudDpudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2xvb3BJbmNyZW1lbnQ6bnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9zdGF0ZTpudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2FwcFRpbWU6bnVtYmVyID0gMDtcbiAgICAvL31cbiAgICBcbiAgICBwcml2YXRlIF9saWdodFBpY2tlcjpTdGF0aWNMaWdodFBpY2tlcjtcbiAgICBwcml2YXRlIF92aWV3OlZpZXc7XG4gICAgcHJpdmF0ZSBfdGltZXI6UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgIFxuICAgIC8veyBzZWFcbiAgICBwcml2YXRlIF9zZWFHZW9tOlByaW1pdGl2ZVBsYW5lUHJlZmFiO1xuICAgIHByaXZhdGUgX3NlYU1lc2g6TWVzaDtcbiAgICBwcml2YXRlIF9zZWFOb3JtYWxUZXh0dXJlOkltYWdlVGV4dHVyZTtcbiAgICBwcml2YXRlIF9zZWFJbml0aWFsaXplZDpib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfc2VhTWF0ZXJpYWw6VHJpYW5nbGVNZXRob2RNYXRlcmlhbDtcbiAgICAvL31cbiAgICBcbiAgICAvL3sgZjE0XG4gICAgcHJpdmF0ZSBfZjE0R2VvbTpEaXNwbGF5T2JqZWN0Q29udGFpbmVyO1xuICAgIHByaXZhdGUgX2YxNEluaXRpYWxpemVkOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAvL31cbiAgICBcbiAgICAvL3sgc2t5Ym94XG4gICAgcHJpdmF0ZSBfd2F0ZXJNZXRob2Q6Tm9ybWFsU2ltcGxlV2F0ZXJNZXRob2Q7XG4gICAgcHJpdmF0ZSBfc2t5Ym94Q3ViZVRleHR1cmU6SW1hZ2VDdWJlVGV4dHVyZTtcbiAgICBwcml2YXRlIF9za3lib3hJbml0aWFsaXplZDpib29sZWFuID0gZmFsc2U7XG4gICAgLy99XG4gICAgXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgRGVidWcuTE9HX1BJX0VSUk9SUyA9IGZhbHNlO1xuICAgICAgICBEZWJ1Zy5USFJPV19FUlJPUlMgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaW5pdFZpZXcoKTtcbiAgICAgICAgdGhpcy5pbml0TGlnaHRzKCk7XG4gICAgICAgIHRoaXMuaW5pdEFuaW1hdGlvbigpO1xuICAgICAgICB0aGlzLmluaXRQYXJzZXJzKCk7XG4gICAgICAgIHRoaXMubG9hZEFzc2V0cygpO1xuICAgICAgICBcbiAgICAgICAgd2luZG93Lm9ucmVzaXplID0gKGV2ZW50OlVJRXZlbnQpID0+IHRoaXMub25SZXNpemUoZXZlbnQpO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGxvYWRBc3NldHMoKTp2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmxvYWRBc3NldCgnYXNzZXRzL3NlYV9ub3JtYWxzLmpwZycpO1xuICAgICAgICB0aGlzLmxvYWRBc3NldCgnYXNzZXRzL2YxNC9mMTRkLm9iaicpO1xuICAgICAgICB0aGlzLmxvYWRBc3NldCgnYXNzZXRzL3NreWJveC9DdWJlVGV4dHVyZVRlc3QuY3ViZScpO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGxvYWRBc3NldChwYXRoOnN0cmluZyk6dm9pZFxuICAgIHtcbiAgICAgICAgdmFyIHRva2VuOkFzc2V0TG9hZGVyVG9rZW4gPSBBc3NldExpYnJhcnkubG9hZChuZXcgVVJMUmVxdWVzdChwYXRoKSk7XG4gICAgICAgIHRva2VuLmFkZEV2ZW50TGlzdGVuZXIoTG9hZGVyRXZlbnQuUkVTT1VSQ0VfQ09NUExFVEUsIChldmVudDpMb2FkZXJFdmVudCkgPT4gdGhpcy5vblJlc291cmNlQ29tcGxldGUoZXZlbnQpKTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBpbml0UGFyc2VycygpOnZvaWRcbiAgICB7XG4gICAgICAgIEFzc2V0TGlicmFyeS5lbmFibGVQYXJzZXIoT0JKUGFyc2VyKTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBpbml0QW5pbWF0aW9uKCk6dm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBuZXcgUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCB0aGlzLnJlbmRlciwgdGhpcyApO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdFZpZXcoKTp2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3ID0gbmV3IFZpZXcobmV3IERlZmF1bHRSZW5kZXJlcigpKTtcbiAgICAgICAgdGhpcy5fdmlldy5jYW1lcmEuelx0PSAtNTAwO1xuICAgICAgICB0aGlzLl92aWV3LmNhbWVyYS55XHQ9IDI1MDtcbiAgICAgICAgdGhpcy5fdmlldy5jYW1lcmEucm90YXRpb25YXHQ9IDIwO1xuICAgICAgICB0aGlzLl92aWV3LmNhbWVyYS5wcm9qZWN0aW9uLm5lYXIgPSAwLjU7XG4gICAgICAgIHRoaXMuX3ZpZXcuY2FtZXJhLnByb2plY3Rpb24uZmFyID0gMTQwMDA7XG4gICAgICAgIHRoaXMuX3ZpZXcuYmFja2dyb3VuZENvbG9yID0gMHgyYzJjMzI7XG5cbiAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGluaXRpYWxpemVTY2VuZSgpOnZvaWRcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuX3NreWJveEN1YmVUZXh0dXJlICYmIHRoaXMuX2YxNEdlb20gJiYgdGhpcy5fc2VhTm9ybWFsVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0RjE0KCk7XG4gICAgICAgICAgICB0aGlzLmluaXRTZWEoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBpbml0TGlnaHRzKCk6dm9pZFxuICAgIHtcbiAgICAgICAgdmFyIGxpZ2h0OkRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgpO1xuICAgICAgICBsaWdodC5jb2xvclx0PSAweDk3NDUyMztcbiAgICAgICAgbGlnaHQuZGlyZWN0aW9uXHQ9IG5ldyBWZWN0b3IzRCgtMzAwLCAtMzAwLCAtNTAwMCk7XG4gICAgICAgIGxpZ2h0LmFtYmllbnQgPSAxO1xuICAgICAgICBsaWdodC5hbWJpZW50Q29sb3IgPSAweDcxOTZhYztcbiAgICAgICAgbGlnaHQuZGlmZnVzZSA9IDEuMjtcbiAgICAgICAgbGlnaHQuc3BlY3VsYXIgPSAxLjE7XG4gICAgICAgIHRoaXMuX3ZpZXcuc2NlbmUuYWRkQ2hpbGQobGlnaHQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fbGlnaHRQaWNrZXIgPSBuZXcgU3RhdGljTGlnaHRQaWNrZXIoW2xpZ2h0XSk7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgaW5pdEYxNCgpOnZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX2YxNEluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIHZhciBmMTRNYXRlcmlhbDogVHJpYW5nbGVNZXRob2RNYXRlcmlhbCA9IG5ldyBUcmlhbmdsZU1ldGhvZE1hdGVyaWFsKHRoaXMuX3NlYU5vcm1hbFRleHR1cmUsIHRydWUsIHRydWUsIGZhbHNlKTsgLy8gd2lsbCBiZSB0aGUgY3ViZW1hcFxuICAgICAgICBmMTRNYXRlcmlhbC5saWdodFBpY2tlciA9IHRoaXMuX2xpZ2h0UGlja2VyO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fdmlldy5zY2VuZS5hZGRDaGlsZCh0aGlzLl9mMTRHZW9tKTtcbiAgICAgICAgdGhpcy5fZjE0R2VvbS50cmFuc2Zvcm0uc2NhbGUgPSBuZXcgVmVjdG9yM0QoMjAsIDIwLCAyMCk7XG4gICAgICAgIHRoaXMuX2YxNEdlb20ucm90YXRpb25YID0gOTA7XG4gICAgICAgIHRoaXMuX2YxNEdlb20ueSA9IDIwMDtcbiAgICAgICAgdGhpcy5fdmlldy5jYW1lcmEubG9va0F0KHRoaXMuX2YxNEdlb20udHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2Vkb3duID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHRoaXMub25Nb3VzZURvd24oZXZlbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdFNlYSgpOnZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX3NlYU1hdGVyaWFsID0gbmV3IFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWwodGhpcy5fc2VhTm9ybWFsVGV4dHVyZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOyAvLyB3aWxsIGJlIHRoZSBjdWJlbWFwXG4gICAgICAgIHRoaXMuX3dhdGVyTWV0aG9kID0gbmV3IE5vcm1hbFNpbXBsZVdhdGVyTWV0aG9kKHRoaXMuX3NlYU5vcm1hbFRleHR1cmUsIHRoaXMuX3NlYU5vcm1hbFRleHR1cmUpO1xuICAgICAgICB2YXIgZnJlc25lbE1ldGhvZDpTcGVjdWxhckZyZXNuZWxNZXRob2QgID0gbmV3IFNwZWN1bGFyRnJlc25lbE1ldGhvZCgpO1xuICAgICAgICBmcmVzbmVsTWV0aG9kLm5vcm1hbFJlZmxlY3RhbmNlID0gLjM7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9zZWFNYXRlcmlhbC5hbHBoYUJsZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2VhTWF0ZXJpYWwubGlnaHRQaWNrZXIgPSB0aGlzLl9saWdodFBpY2tlcjtcbiAgICAgICAgdGhpcy5fc2VhTWF0ZXJpYWwucmVwZWF0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2VhTWF0ZXJpYWwuYW5pbWF0ZVVWcyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NlYU1hdGVyaWFsLm5vcm1hbE1ldGhvZCA9IHRoaXMuX3dhdGVyTWV0aG9kIDtcbiAgICAgICAgdGhpcy5fc2VhTWF0ZXJpYWwuYWRkRWZmZWN0TWV0aG9kKG5ldyBFZmZlY3RFbnZNYXBNZXRob2QodGhpcy5fc2t5Ym94Q3ViZVRleHR1cmUpKTtcbiAgICAgICAgdGhpcy5fc2VhTWF0ZXJpYWwuc3BlY3VsYXJNZXRob2QgPSBmcmVzbmVsTWV0aG9kO1xuICAgICAgICB0aGlzLl9zZWFNYXRlcmlhbC5nbG9zcyA9IDEwMDtcbiAgICAgICAgdGhpcy5fc2VhTWF0ZXJpYWwuc3BlY3VsYXIgPSAxO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2VhR2VvbSA9IG5ldyBQcmltaXRpdmVQbGFuZVByZWZhYiggNTAwMDAsIDUwMDAwLCAxLCAxLCB0cnVlLCBmYWxzZSApO1xuICAgICAgICB0aGlzLl9zZWFNZXNoID0gPE1lc2g+IHRoaXMuX3NlYUdlb20uZ2V0TmV3T2JqZWN0KCk7XG4gICAgICAgIHRoaXMuX3NlYUdlb20uZ2VvbWV0cnkuc2NhbGVVViggMTAwLCAxMDAgKTtcbiAgICAgICAgdGhpcy5fc2VhTWVzaC5zdWJNZXNoZXNbMF0udXZUcmFuc2Zvcm0gPSBuZXcgVVZUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5fc2VhTWVzaC5tYXRlcmlhbCA9IHRoaXMuX3NlYU1hdGVyaWFsO1xuICAgICAgICB0aGlzLl92aWV3LnNjZW5lLmFkZENoaWxkKCBuZXcgU2t5Ym94KCBuZXcgU2t5Ym94TWF0ZXJpYWwodGhpcy5fc2t5Ym94Q3ViZVRleHR1cmUpICkpO1xuICAgICAgICB0aGlzLl92aWV3LnNjZW5lLmFkZENoaWxkKCB0aGlzLl9zZWFNZXNoICk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBvblJlc291cmNlQ29tcGxldGUoZXZlbnQ6TG9hZGVyRXZlbnQpXG4gICAge1xuICAgICAgICB2YXIgbG9hZGVyOkFzc2V0TG9hZGVyID0gPEFzc2V0TG9hZGVyPiBldmVudC50YXJnZXQ7XG4gICAgICAgIHZhciBudW1Bc3NldHM6bnVtYmVyID0gbG9hZGVyLmJhc2VEZXBlbmRlbmN5LmFzc2V0cy5sZW5ndGg7XG4gICAgICAgIHZhciBpOm51bWJlciA9IDA7XG4gICAgICAgIFxuICAgICAgICBzd2l0Y2ggKGV2ZW50LnVybCkge1xuICAgICAgICAgICAgY2FzZSBcImFzc2V0cy9zZWFfbm9ybWFscy5qcGdcIjpcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWFOb3JtYWxUZXh0dXJlID0gPEltYWdlVGV4dHVyZT4gbG9hZGVyLmJhc2VEZXBlbmRlbmN5LmFzc2V0c1swXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Fzc2V0cy9mMTQvZjE0ZC5vYmonOlxuICAgICAgICAgICAgICAgIHRoaXMuX2YxNEdlb20gPSBuZXcgRGlzcGxheU9iamVjdENvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1Bc3NldHM7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQ6SUFzc2V0ID0gbG9hZGVyLmJhc2VEZXBlbmRlbmN5LmFzc2V0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhc3NldC5hc3NldFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQXNzZXRUeXBlLk1FU0g6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2g6TWVzaCA9IDxNZXNoPiBhc3NldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mMTRHZW9tLmFkZENoaWxkKG1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBc3NldFR5cGUuR0VPTUVUUlk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFzc2V0VHlwZS5NQVRFUklBTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Fzc2V0cy9za3lib3gvQ3ViZVRleHR1cmVUZXN0LmN1YmUnOlxuICAgICAgICAgICAgICAgIHRoaXMuX3NreWJveEN1YmVUZXh0dXJlID0gPEltYWdlQ3ViZVRleHR1cmU+IGxvYWRlci5iYXNlRGVwZW5kZW5jeS5hc3NldHNbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVNjZW5lKCk7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgcmVuZGVyKGR0Om51bWJlcikgLy9hbmltYXRlIGJhc2VkIG9uIGR0IGZvciBmaXJlZm94XG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZjE0R2VvbSkge1xuICAgICAgICAgICAgdGhpcy5fcm9sbEluY3JlbWVudCArPSAwLjAyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZjE0R2VvbS5yb3RhdGlvblogPSBNYXRoLnNpbih0aGlzLl9yb2xsSW5jcmVtZW50KSoyNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9vcEluY3JlbWVudCArPSAwLjA1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mMTRHZW9tLnogKz0gTWF0aC5jb3ModGhpcy5fbG9vcEluY3JlbWVudCkqMjA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2YxNEdlb20ueSArPSBNYXRoLnNpbih0aGlzLl9sb29wSW5jcmVtZW50KSoyMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZjE0R2VvbS5yb3RhdGlvblggKz0gLTEqKChNYXRoLlBJLzE4MCkqTWF0aC5hdGFuMih0aGlzLl9mMTRHZW9tLnosIHRoaXMuX2YxNEdlb20ueSkpOy8vKiAyMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZjE0R2VvbS5yb3RhdGlvblogPSBNYXRoLnNpbih0aGlzLl9yb2xsSW5jcmVtZW50KSoyNTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb29wSW5jcmVtZW50ID4gKE1hdGguUEkqMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvb3BJbmNyZW1lbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5fZjE0R2VvbSkge1xuICAgICAgICAgICAgdGhpcy5fdmlldy5jYW1lcmEubG9va0F0KHRoaXMuX2YxNEdlb20udHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXcuY2FtZXJhKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW1lcmFJbmNyZW1lbnQgKz0gMC4wMTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcuY2FtZXJhLnggPSBNYXRoLmNvcyh0aGlzLl9jYW1lcmFJbmNyZW1lbnQpKjQwMDtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcuY2FtZXJhLnogPSBNYXRoLnNpbih0aGlzLl9jYW1lcmFJbmNyZW1lbnQpKjQwMDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCB0aGlzLl9mMTRHZW9tICkge1xuICAgICAgICAgICAgdGhpcy5fdmlldy5jYW1lcmEubG9va0F0KHRoaXMuX2YxNEdlb20udHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX3NlYU1hdGVyaWFsKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWFNZXNoLnN1Yk1lc2hlc1swXS51dlRyYW5zZm9ybS5vZmZzZXRWIC09IDAuMDQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgdGhpcy53YXRlck1ldGhvZC53YXRlcjFPZmZzZXRYICs9IC4wMDE7XG4gICAgICAgICAgICAgdGhpcy53YXRlck1ldGhvZC53YXRlcjFPZmZzZXRZICs9IC4xO1xuICAgICAgICAgICAgIHRoaXMud2F0ZXJNZXRob2Qud2F0ZXIyT2Zmc2V0WCArPSAuMDAwNztcbiAgICAgICAgICAgICB0aGlzLndhdGVyTWV0aG9kLndhdGVyMk9mZnNldFkgKz0gLjY7XG4gICAgICAgICAgICAgLy8qL1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9hcHBUaW1lICs9IGR0O1xuICAgICAgICB0aGlzLl92aWV3LnJlbmRlcigpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgb25SZXNpemUoZXZlbnQ6VUlFdmVudCA9IG51bGwpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3LnkgPSAwO1xuICAgICAgICB0aGlzLl92aWV3LnggPSAwO1xuICAgICAgICB0aGlzLl92aWV3LndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuX3ZpZXcuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIG9uTW91c2VEb3duKGV2ZW50Ok1vdXNlRXZlbnQpXG4gICAge1xuICAgICAgICB0aGlzLl9zdGF0ZSsrO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID49IHRoaXMuX21heFN0YXRlcylcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gMDtcbiAgICB9XG59XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKVxue1xuICAgIG5ldyBBaXJjcmFmdERlbW8oKTtcbn0iXX0=