(function e(i,t,n){function r(a,o){if(!t[a]){if(!i[a]){var l=typeof require=="function"&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=t[a]={exports:{}};i[a][0].call(c.exports,function(e){var t=i[a][1][e];return r(t?t:e)},c,c.exports,e,i,t,n)}return t[a].exports}var s=typeof require=="function"&&require;for(var a=0;a<n.length;a++)r(n[a]);return r})({"./src/AWD3ViewerMinimal.ts":[function(e,i,t){var n=e("awayjs-core/lib/events/AssetEvent");var r=e("awayjs-core/lib/net/URLRequest");var s=e("awayjs-core/lib/events/LoaderEvent");var a=e("awayjs-core/lib/events/ParserEvent");var o=e("awayjs-core/lib/utils/RequestAnimationFrame");var l=e("awayjs-display/lib/containers/View");var d=e("awayjs-display/lib/entities/Mesh");var c=e("awayjs-display/lib/entities/Billboard");var p=e("awayjs-display/lib/controllers/HoverController");var w=e("awayjs-display/lib/containers/Loader");var u=e("awayjs-player/lib/renderer/Renderer2D");var y=e("awayjs-parsers/lib/AWDParser");var v=e("awayjs-player/lib/partition/Partition2D");var h=e("awayjs-player/lib/display/MovieClip");var f=e("awayjs-core/lib/projections/CoordinateSystem");var j=e("awayjs-core/lib/projections/PerspectiveProjection");var _=e("awayjs-display/lib/entities/Camera");var b=e("awayjs-display/lib/entities/TextField");var m=function(){function e(){this._time=0;this.init()}e.prototype.init=function(){this.initEngine();this.initObjects();this.initListeners()};e.prototype.initEngine=function(){this._view=new l(new u);this._view.backgroundColor=0;this._stage_width=550;this._stage_height=400;this._isperspective=true;this._projection=new j;this._projection.coordinateSystem=f.RIGHT_HANDED;this._projection.fieldOfView=30;this._projection.originX=0;this._projection.originY=0;this._camera_perspective=new _;this._camera_perspective.projection=this._projection;this._hoverControl=new p(this._camera_perspective,null,180,0,1e3);this._view.camera=this._camera_perspective};e.prototype.initObjects=function(){var e=this;var i=new w;i.addEventListener(n.ASSET_COMPLETE,function(i){return e.onAssetComplete(i)});i.addEventListener(s.RESOURCE_COMPLETE,function(i){return e.onRessourceComplete(i)});i.addEventListener(a.PARSE_ERROR,function(i){return e.onParseError(i)});i.load(new r("assets/AWD3/Icycle2_awd/icycle_2_awd.awd"),null,null,new y(this._view))};e.prototype.initListeners=function(){var e=this;window.onresize=function(i){return e.onResize(i)};this.onResize();this._timer=new o(this.onEnterFrame,this);this._timer.start()};e.prototype.onAssetComplete=function(e){if(e.asset.isAsset(b)){var i=e.asset}else if(e.asset.isAsset(d)){var t=e.asset;t.debugVisible=true}else if(e.asset.isAsset(c)){var n=e.asset}else if(e.asset.isAsset(h)){var r=e.asset;if(r.name=="border"||r.name=="dream"||r.name=="IAP"){console.log("NAME:",r.name);r.mouseEnabled=false;r.mouseChildren=false}this._rootTimeLine=r;this._rootTimeLine.partition=new v(this._rootTimeLine)}};e.prototype.onParseError=function(e){console.log(e.message)};e.prototype.onRessourceComplete=function(e){if(this._rootTimeLine){this._view.scene.addChild(this._rootTimeLine)}};e.prototype.onEnterFrame=function(e){this._time+=e;if(this._rootTimeLine!=undefined){this._rootTimeLine.update(e)}this._view.render()};e.prototype.onResize=function(e){if(e===void 0){e=null}this._view.y=0;this._view.x=0;this._view.width=window.innerWidth;this._view.height=window.innerHeight;this._projection.fieldOfView=Math.atan(.464/2)*360/Math.PI;this._projection.originX=.5-.5*(window.innerHeight/464)*(700/window.innerWidth)};return e}();window.onload=function(){new m}},{"awayjs-core/lib/events/AssetEvent":undefined,"awayjs-core/lib/events/LoaderEvent":undefined,"awayjs-core/lib/events/ParserEvent":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/projections/CoordinateSystem":undefined,"awayjs-core/lib/projections/PerspectiveProjection":undefined,"awayjs-core/lib/utils/RequestAnimationFrame":undefined,"awayjs-display/lib/containers/Loader":undefined,"awayjs-display/lib/containers/View":undefined,"awayjs-display/lib/controllers/HoverController":undefined,"awayjs-display/lib/entities/Billboard":undefined,"awayjs-display/lib/entities/Camera":undefined,"awayjs-display/lib/entities/Mesh":undefined,"awayjs-display/lib/entities/TextField":undefined,"awayjs-parsers/lib/AWDParser":undefined,"awayjs-player/lib/display/MovieClip":undefined,"awayjs-player/lib/partition/Partition2D":undefined,"awayjs-player/lib/renderer/Renderer2D":undefined}]},{},["./src/AWD3ViewerMinimal.ts"]);

//# sourceMappingURL=AWD3ViewerMinimal.js.map