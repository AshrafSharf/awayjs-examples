{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/ObjLoaderMasterChief.ts",
    "ObjLoaderMasterChief.js"
  ],
  "names": [
    "e",
    "t",
    "n",
    "r",
    "s",
    "o",
    "u",
    "a",
    "require",
    "i",
    "f",
    "Error",
    "code",
    "l",
    "exports",
    "call",
    "length",
    "./src/ObjLoaderMasterChief.ts",
    "module",
    "BitmapImage2D",
    "LoaderEvent",
    "Vector3D",
    "AssetLibrary",
    "URLRequest",
    "Single2DTexture",
    "Debug",
    "RequestAnimationFrame",
    "DisplayObjectContainer",
    "View",
    "DirectionalLight",
    "Mesh",
    "StaticLightPicker",
    "DefaultRenderer",
    "MethodMaterial",
    "MethodRendererPool",
    "OBJParser",
    "ObjLoaderMasterChief",
    "_this",
    "this",
    "meshes",
    "Array",
    "spartan",
    "spartanFlag",
    "terrainObjFlag",
    "LOG_PI_ERRORS",
    "THROW_ERRORS",
    "view",
    "camera",
    "z",
    "y",
    "projection",
    "near",
    "backgroundColor",
    "raf",
    "render",
    "light",
    "color",
    "direction",
    "ambient",
    "ambientColor",
    "diffuse",
    "specular",
    "transform",
    "scale",
    "scene",
    "addChild",
    "enableParser",
    "token",
    "load",
    "addEventListener",
    "RESOURCE_COMPLETE",
    "event",
    "onResourceComplete",
    "window",
    "onresize",
    "onResize",
    "start",
    "prototype",
    "terrain",
    "rotationY",
    "loader",
    "target",
    "baseDependency",
    "assets",
    "console",
    "log",
    "c",
    "d",
    "name",
    "url",
    "assetType",
    "mesh",
    "push",
    "mat",
    "lightPicker",
    "terrainMaterial",
    "material",
    "geometry",
    "scaleUV",
    "x",
    "width",
    "innerWidth",
    "height",
    "innerHeight",
    "onload",
    "awayjs-core/lib/data/BitmapImage2D",
    "undefined",
    "awayjs-core/lib/events/LoaderEvent",
    "awayjs-core/lib/geom/Vector3D",
    "awayjs-core/lib/library/AssetLibrary",
    "awayjs-core/lib/net/URLRequest",
    "awayjs-core/lib/utils/Debug",
    "awayjs-core/lib/utils/RequestAnimationFrame",
    "awayjs-display/lib/containers/DisplayObjectContainer",
    "awayjs-display/lib/containers/View",
    "awayjs-display/lib/entities/DirectionalLight",
    "awayjs-display/lib/entities/Mesh",
    "awayjs-display/lib/materials/lightpickers/StaticLightPicker",
    "awayjs-display/lib/textures/Single2DTexture",
    "awayjs-methodmaterials/lib/MethodMaterial",
    "awayjs-methodmaterials/lib/pool/MethodRendererPool",
    "awayjs-parsers/lib/OBJParser",
    "awayjs-renderergl/lib/DefaultRenderer"
  ],
  "mappings": "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",
  "file": "ObjLoaderMasterChief.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import BitmapImage2D\t\t\t\t= require(\"awayjs-core/lib/data/BitmapImage2D\");\nimport LoaderEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport AssetLibrary\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport AssetLoader\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoader\");\nimport AssetLoaderToken\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoaderToken\");\nimport IAsset   \t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport Single2DTexture\t\t\t\t= require(\"awayjs-display/lib/textures/Single2DTexture\");\nimport Debug\t\t\t\t\t\t= require(\"awayjs-core/lib/utils/Debug\");\nimport RequestAnimationFrame\t\t= require(\"awayjs-core/lib/utils/RequestAnimationFrame\");\n\nimport DisplayObjectContainer\t\t= require(\"awayjs-display/lib/containers/DisplayObjectContainer\");\nimport View\t\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/View\");\nimport DirectionalLight\t\t\t\t= require(\"awayjs-display/lib/entities/DirectionalLight\");\nimport Mesh\t\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Mesh\");\nimport StaticLightPicker\t\t\t= require(\"awayjs-display/lib/materials/lightpickers/StaticLightPicker\");\n\nimport DefaultRenderer\t\t\t\t= require(\"awayjs-renderergl/lib/DefaultRenderer\");\n\nimport MethodMaterial\t\t\t\t= require(\"awayjs-methodmaterials/lib/MethodMaterial\");\nimport MethodRendererPool\t\t\t= require(\"awayjs-methodmaterials/lib/pool/MethodRendererPool\");\n\nimport OBJParser\t\t\t\t\t= require(\"awayjs-parsers/lib/OBJParser\");\n\nclass ObjLoaderMasterChief\n{\n\tprivate token:AssetLoaderToken;\n\tprivate view:View;\n\tprivate raf:RequestAnimationFrame;\n\tprivate meshes:Array<Mesh> = new Array<Mesh>();\n\tprivate mat:MethodMaterial;\n\n\tprivate terrainMaterial:MethodMaterial;\n\n\tprivate light:DirectionalLight;\n\n\tprivate spartan:DisplayObjectContainer = new DisplayObjectContainer();\n\tprivate terrain:Mesh;\n\n\tconstructor()\n\t{\n\t\tDebug.LOG_PI_ERRORS = false;\n\t\tDebug.THROW_ERRORS = false;\n\n\t\tthis.view = new View(new DefaultRenderer(MethodRendererPool));\n\t\tthis.view.camera.z = -50;\n\t\tthis.view.camera.y = 20;\n\t\tthis.view.camera.projection.near = 0.1;\n\t\tthis.view.backgroundColor = 0xCEC8C6;\n\n\t\tthis.raf = new RequestAnimationFrame(this.render, this);\n\n\t\tthis.light = new DirectionalLight();\n\t\tthis.light.color = 0xc1582d;\n\t\tthis.light.direction = new Vector3D(1, 0, 0);\n\t\tthis.light.ambient = 0.4;\n\t\tthis.light.ambientColor = 0x85b2cd;\n\t\tthis.light.diffuse = 2.8;\n\t\tthis.light.specular = 1.8;\n\n\t\tthis.spartan.transform.scale = new Vector3D(.25, .25, .25);\n\t\tthis.spartan.y = 0;\n\n\t\tthis.view.scene.addChild(this.light);\n\n\t\tAssetLibrary.enableParser(OBJParser);\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/Halo_3_SPARTAN4.obj'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/terrain.obj'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/masterchief_base.png'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/stone_tx.jpg'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\twindow.onresize = (event:UIEvent) => this.onResize();\n\n\t\tthis.raf.start();\n\t}\n\n\tprivate render()\n\t{\n\t\tif ( this.terrain)\n\t\t\tthis.terrain.rotationY += 0.4;\n\n\t\tthis.spartan.rotationY += 0.4;\n\t\tthis.view.render();\n\t}\n\n\tprivate spartanFlag    :boolean = false;\n\tprivate terrainObjFlag :boolean = false;\n\n\tpublic onResourceComplete (event:LoaderEvent)\n\t{\n\t\tvar loader:AssetLoader = <AssetLoader> event.target;\n\t\tvar l:number = loader.baseDependency.assets.length;\n\n\t\tconsole.log( '------------------------------------------------------------------------------');\n\t\tconsole.log( 'away.events.LoaderEvent.RESOURCE_COMPLETE' , event , l , loader );\n\t\tconsole.log( '------------------------------------------------------------------------------');\n\n\t\tvar loader:AssetLoader = <AssetLoader> event.target;\n\t\tvar l:number = loader.baseDependency.assets.length;\n\n\t\tfor (var c:number = 0; c < l; c++) {\n\n\t\t\tvar d:IAsset = loader.baseDependency.assets[c];\n\n\t\t\tconsole.log( d.name , event.url);\n\n\t\t\tswitch (d.assetType) {\n\t\t\t\tcase  Mesh.assetType:\n\t\t\t\t\tif (event.url =='assets/Halo_3_SPARTAN4.obj') {\n\t\t\t\t\t\tvar mesh:Mesh = <Mesh> d;\n\n\t\t\t\t\t\tthis.spartan.addChild(mesh);\n\t\t\t\t\t\tthis.spartanFlag = true;\n\t\t\t\t\t\tthis.meshes.push(mesh);\n\t\t\t\t\t} else if (event.url =='assets/terrain.obj') {\n\t\t\t\t\t\tthis.terrainObjFlag = true;\n\t\t\t\t\t\tthis.terrain = <Mesh> d;\n\t\t\t\t\t\tthis.terrain.y = 98;\n\t\t\t\t\t\tthis.view.scene.addChild(this.terrain);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase BitmapImage2D.assetType :\n\t\t\t\t\tif (event.url == 'assets/masterchief_base.png' ) {\n\t\t\t\t\t\tthis.mat = new MethodMaterial( new Single2DTexture(<BitmapImage2D> d), true, true, false );\n\t\t\t\t\t\tthis.mat.lightPicker = new StaticLightPicker([this.light]);\n\t\t\t\t\t} else if (event.url == 'assets/stone_tx.jpg') {\n\t\t\t\t\t\tthis.terrainMaterial = new MethodMaterial(new Single2DTexture(<BitmapImage2D> d), true, true, false);\n\t\t\t\t\t\tthis.terrainMaterial.lightPicker = new StaticLightPicker([this.light]);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (this.terrainObjFlag && this.terrainMaterial) {\n\t\t\tthis.terrain.material = this.terrainMaterial;\n\t\t\tthis.terrain.geometry.scaleUV(20, 20);\n\t\t}\n\n\t\tif (this.mat && this.spartanFlag)\n\t\t\tfor (var c:number = 0; c < this.meshes.length; c++)\n\t\t\t\tthis.meshes[c].material = this.mat;\n\n\t\tthis.view.scene.addChild(this.spartan);\n\t\tthis.onResize();\n\t}\n\n\tpublic onResize(event:UIEvent = null)\n\t{\n\t\tthis.view.y = 0;\n\t\tthis.view.x = 0;\n\n\t\tthis.view.width = window.innerWidth;\n\t\tthis.view.height = window.innerHeight;\n\t}\n}\n\nwindow.onload = function ()\n{\n\tnew ObjLoaderMasterChief(); // Start the demo\n}",
    null
  ],
  "sourceRoot": ""
}