{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/ObjLoaderMasterChief.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "ObjLoaderMasterChief.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import LoaderEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport AssetLibrary\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport AssetLoader\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoader\");\nimport AssetLoaderToken\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoaderToken\");\nimport AssetType   \t\t\t\t\t= require(\"awayjs-core/lib/library/AssetType\");\nimport IAsset   \t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ImageTexture\t\t\t\t\t= require(\"awayjs-core/lib/textures/ImageTexture\");\nimport Debug\t\t\t\t\t\t= require(\"awayjs-core/lib/utils/Debug\");\nimport RequestAnimationFrame\t\t= require(\"awayjs-core/lib/utils/RequestAnimationFrame\");\n\nimport DisplayObjectContainer\t\t= require(\"awayjs-display/lib/containers/DisplayObjectContainer\");\nimport View\t\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/View\");\nimport DirectionalLight\t\t\t\t= require(\"awayjs-display/lib/entities/DirectionalLight\");\nimport Mesh\t\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Mesh\");\nimport StaticLightPicker\t\t\t= require(\"awayjs-display/lib/materials/lightpickers/StaticLightPicker\");\n\nimport DefaultRenderer\t\t\t\t= require(\"awayjs-renderergl/lib/DefaultRenderer\");\n\nimport MethodMaterial\t\t\t\t= require(\"awayjs-methodmaterials/lib/MethodMaterial\");\nimport MethodRendererPool\t\t\t= require(\"awayjs-methodmaterials/lib/pool/MethodRendererPool\");\n\nimport OBJParser\t\t\t\t\t= require(\"awayjs-parsers/lib/OBJParser\");\n\nclass ObjLoaderMasterChief\n{\n\tprivate token:AssetLoaderToken;\n\tprivate view:View;\n\tprivate raf:RequestAnimationFrame;\n\tprivate meshes:Array<Mesh> = new Array<Mesh>();\n\tprivate mat:MethodMaterial;\n\n\tprivate terrainMaterial:MethodMaterial;\n\n\tprivate light:DirectionalLight;\n\n\tprivate spartan:DisplayObjectContainer = new DisplayObjectContainer();\n\tprivate terrain:Mesh;\n\n\tconstructor()\n\t{\n\t\tDebug.LOG_PI_ERRORS = false;\n\t\tDebug.THROW_ERRORS = false;\n\n\t\tthis.view = new View(new DefaultRenderer(MethodRendererPool));\n\t\tthis.view.camera.z = -50;\n\t\tthis.view.camera.y = 20;\n\t\tthis.view.camera.projection.near = 0.1;\n\t\tthis.view.backgroundColor = 0xCEC8C6;\n\n\t\tthis.raf = new RequestAnimationFrame(this.render, this);\n\n\t\tthis.light = new DirectionalLight();\n\t\tthis.light.color = 0xc1582d;\n\t\tthis.light.direction = new Vector3D(1, 0, 0);\n\t\tthis.light.ambient = 0.4;\n\t\tthis.light.ambientColor = 0x85b2cd;\n\t\tthis.light.diffuse = 2.8;\n\t\tthis.light.specular = 1.8;\n\n\t\tthis.spartan.transform.scale = new Vector3D(.25, .25, .25);\n\t\tthis.spartan.y = 0;\n\n\t\tthis.view.scene.addChild(this.light);\n\n\t\tAssetLibrary.enableParser(OBJParser);\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/Halo_3_SPARTAN4.obj'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/terrain.obj'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/masterchief_base.png'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\tthis.token = AssetLibrary.load(new URLRequest('assets/stone_tx.jpg'));\n\t\tthis.token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\n\t\twindow.onresize = (event:UIEvent) => this.onResize();\n\n\t\tthis.raf.start();\n\t}\n\n\tprivate render()\n\t{\n\t\tif ( this.terrain)\n\t\t\tthis.terrain.rotationY += 0.4;\n\n\t\tthis.spartan.rotationY += 0.4;\n\t\tthis.view.render();\n\t}\n\n\tprivate spartanFlag    :boolean = false;\n\tprivate terrainObjFlag :boolean = false;\n\n\tpublic onResourceComplete (event:LoaderEvent)\n\t{\n\t\tvar loader:AssetLoader = <AssetLoader> event.target;\n\t\tvar l:number = loader.baseDependency.assets.length;\n\n\t\tconsole.log( '------------------------------------------------------------------------------');\n\t\tconsole.log( 'away.events.LoaderEvent.RESOURCE_COMPLETE' , event , l , loader );\n\t\tconsole.log( '------------------------------------------------------------------------------');\n\n\t\tvar loader:AssetLoader = <AssetLoader> event.target;\n\t\tvar l:number = loader.baseDependency.assets.length;\n\n\t\tfor (var c:number = 0; c < l; c++) {\n\n\t\t\tvar d:IAsset = loader.baseDependency.assets[c];\n\n\t\t\tconsole.log( d.name , event.url);\n\n\t\t\tswitch (d.assetType) {\n\t\t\t\tcase AssetType.MESH:\n\t\t\t\t\tif (event.url =='assets/Halo_3_SPARTAN4.obj') {\n\t\t\t\t\t\tvar mesh:Mesh = <Mesh> d;\n\n\t\t\t\t\t\tthis.spartan.addChild(mesh);\n\t\t\t\t\t\tthis.spartanFlag = true;\n\t\t\t\t\t\tthis.meshes.push(mesh);\n\t\t\t\t\t} else if (event.url =='assets/terrain.obj') {\n\t\t\t\t\t\tthis.terrainObjFlag = true;\n\t\t\t\t\t\tthis.terrain = <Mesh> d;\n\t\t\t\t\t\tthis.terrain.y = 98;\n\t\t\t\t\t\tthis.view.scene.addChild(this.terrain);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.TEXTURE :\n\t\t\t\t\tif (event.url == 'assets/masterchief_base.png' ) {\n\t\t\t\t\t\tthis.mat = new MethodMaterial( <ImageTexture> d, true, true, false );\n\t\t\t\t\t\tthis.mat.lightPicker = new StaticLightPicker([this.light]);\n\t\t\t\t\t} else if (event.url == 'assets/stone_tx.jpg') {\n\t\t\t\t\t\tthis.terrainMaterial = new MethodMaterial(<ImageTexture> d, true, true, false);\n\t\t\t\t\t\tthis.terrainMaterial.lightPicker = new StaticLightPicker([this.light]);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (this.terrainObjFlag && this.terrainMaterial) {\n\t\t\tthis.terrain.material = this.terrainMaterial;\n\t\t\tthis.terrain.geometry.scaleUV(20, 20);\n\t\t}\n\n\t\tif (this.mat && this.spartanFlag)\n\t\t\tfor (var c:number = 0; c < this.meshes.length; c++)\n\t\t\t\tthis.meshes[c].material = this.mat;\n\n\t\tthis.view.scene.addChild(this.spartan);\n\t\tthis.onResize();\n\t}\n\n\tpublic onResize(event:UIEvent = null)\n\t{\n\t\tthis.view.y = 0;\n\t\tthis.view.x = 0;\n\n\t\tthis.view.width = window.innerWidth;\n\t\tthis.view.height = window.innerHeight;\n\t}\n}\n\nwindow.onload = function ()\n{\n\tnew ObjLoaderMasterChief(); // Start the demo\n}"
  ],
  "sourceRoot": ""
}