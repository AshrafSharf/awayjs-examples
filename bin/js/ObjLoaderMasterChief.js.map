{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/ObjLoaderMasterChief.ts",
    "ObjLoaderMasterChief.js"
  ],
  "names": [
    "e",
    "t",
    "n",
    "r",
    "s",
    "o",
    "u",
    "a",
    "require",
    "i",
    "f",
    "Error",
    "code",
    "l",
    "exports",
    "call",
    "length",
    "./src/ObjLoaderMasterChief.ts",
    "module",
    "BitmapImage2D",
    "LoaderEvent",
    "Vector3D",
    "AssetLibrary",
    "URLRequest",
    "Single2DTexture",
    "Debug",
    "RequestAnimationFrame",
    "DisplayObjectContainer",
    "View",
    "DirectionalLight",
    "Mesh",
    "StaticLightPicker",
    "DefaultRenderer",
    "MethodMaterial",
    "OBJParser",
    "ObjLoaderMasterChief",
    "_this",
    "this",
    "meshes",
    "Array",
    "spartan",
    "spartanFlag",
    "LOG_PI_ERRORS",
    "THROW_ERRORS",
    "view",
    "camera",
    "z",
    "y",
    "projection",
    "near",
    "backgroundColor",
    "raf",
    "render",
    "light",
    "color",
    "direction",
    "ambient",
    "ambientColor",
    "diffuse",
    "specular",
    "scene",
    "addChild",
    "transform",
    "scale",
    "enableParser",
    "session",
    "getLoaderSession",
    "addEventListener",
    "RESOURCE_COMPLETE",
    "event",
    "onResourceComplete",
    "load",
    "window",
    "onresize",
    "onResize",
    "start",
    "prototype",
    "terrain",
    "rotationY",
    "loader",
    "target",
    "baseDependency",
    "assets",
    "console",
    "log",
    "c",
    "d",
    "name",
    "url",
    "assetType",
    "mesh",
    "push",
    "geometry",
    "scaleUV",
    "mat",
    "lightPicker",
    "terrainMaterial",
    "material",
    "x",
    "width",
    "innerWidth",
    "height",
    "innerHeight",
    "onload",
    "awayjs-core/lib/data/BitmapImage2D",
    "undefined",
    "awayjs-core/lib/events/LoaderEvent",
    "awayjs-core/lib/geom/Vector3D",
    "awayjs-core/lib/library/AssetLibrary",
    "awayjs-core/lib/net/URLRequest",
    "awayjs-core/lib/utils/Debug",
    "awayjs-core/lib/utils/RequestAnimationFrame",
    "awayjs-display/lib/containers/DisplayObjectContainer",
    "awayjs-display/lib/containers/View",
    "awayjs-display/lib/entities/DirectionalLight",
    "awayjs-display/lib/entities/Mesh",
    "awayjs-display/lib/materials/lightpickers/StaticLightPicker",
    "awayjs-display/lib/textures/Single2DTexture",
    "awayjs-methodmaterials/lib/MethodMaterial",
    "awayjs-parsers/lib/OBJParser",
    "awayjs-renderergl/lib/DefaultRenderer"
  ],
  "mappings": "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",
  "file": "ObjLoaderMasterChief.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import BitmapImage2D\t\t\t\t= require(\"awayjs-core/lib/data/BitmapImage2D\");\nimport LoaderEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport AssetLibrary\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport LoaderSession\t\t\t\t\t= require(\"awayjs-core/lib/library/LoaderSession\");\nimport IAsset   \t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport Single2DTexture\t\t\t\t= require(\"awayjs-display/lib/textures/Single2DTexture\");\nimport Debug\t\t\t\t\t\t= require(\"awayjs-core/lib/utils/Debug\");\nimport RequestAnimationFrame\t\t= require(\"awayjs-core/lib/utils/RequestAnimationFrame\");\n\nimport DisplayObjectContainer\t\t= require(\"awayjs-display/lib/containers/DisplayObjectContainer\");\nimport View\t\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/View\");\nimport DirectionalLight\t\t\t\t= require(\"awayjs-display/lib/entities/DirectionalLight\");\nimport Mesh\t\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Mesh\");\nimport StaticLightPicker\t\t\t= require(\"awayjs-display/lib/materials/lightpickers/StaticLightPicker\");\n\nimport DefaultRenderer\t\t\t\t= require(\"awayjs-renderergl/lib/DefaultRenderer\");\n\nimport MethodMaterial\t\t\t\t= require(\"awayjs-methodmaterials/lib/MethodMaterial\");\n\nimport OBJParser\t\t\t\t\t= require(\"awayjs-parsers/lib/OBJParser\");\n\nclass ObjLoaderMasterChief\n{\n\tprivate view:View;\n\tprivate raf:RequestAnimationFrame;\n\tprivate meshes:Array<Mesh> = new Array<Mesh>();\n\tprivate mat:MethodMaterial;\n\n\tprivate terrainMaterial:MethodMaterial;\n\n\tprivate light:DirectionalLight;\n\n\tprivate spartan:DisplayObjectContainer = new DisplayObjectContainer();\n\tprivate terrain:Mesh;\n\n\tconstructor()\n\t{\n\t\tDebug.LOG_PI_ERRORS = false;\n\t\tDebug.THROW_ERRORS = false;\n\n\t\tthis.view = new View(new DefaultRenderer());\n\t\tthis.view.camera.z = -50;\n\t\tthis.view.camera.y = 20;\n\t\tthis.view.camera.projection.near = 0.1;\n\t\tthis.view.backgroundColor = 0xCEC8C6;\n\n\t\tthis.raf = new RequestAnimationFrame(this.render, this);\n\n\t\tthis.light = new DirectionalLight();\n\t\tthis.light.color = 0xc1582d;\n\t\tthis.light.direction = new Vector3D(1, 0, 0);\n\t\tthis.light.ambient = 0.4;\n\t\tthis.light.ambientColor = 0x85b2cd;\n\t\tthis.light.diffuse = 2.8;\n\t\tthis.light.specular = 1.8;\n\t\tthis.view.scene.addChild(this.light);\n\n\t\tthis.spartan.transform.scale = new Vector3D(.25, .25, .25);\n\t\tthis.spartan.y = 0;\n\t\tthis.view.scene.addChild(this.spartan);\n\n\t\tAssetLibrary.enableParser(OBJParser);\n\n\t\tvar session:LoaderSession;\n\t\t\n\t\tsession = AssetLibrary.getLoaderSession();\n\t\tsession.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\t\tsession.load(new URLRequest('assets/Halo_3_SPARTAN4.obj'));\n\n\t\tsession = AssetLibrary.getLoaderSession();\n\t\tsession.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\t\tsession.load(new URLRequest('assets/terrain.obj'));\n\n\t\tsession = AssetLibrary.getLoaderSession();\n\t\tsession.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\t\tsession.load(new URLRequest('assets/masterchief_base.png'));\n\n\t\tsession = AssetLibrary.getLoaderSession();\n\t\tsession.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\t\tsession.load(new URLRequest('assets/stone_tx.jpg'));\n\n\t\twindow.onresize = (event:UIEvent) => this.onResize();\n\n\t\tthis.raf.start();\n\t}\n\n\tprivate render()\n\t{\n\t\tif ( this.terrain)\n\t\t\tthis.terrain.rotationY += 0.4;\n\n\t\tthis.spartan.rotationY += 0.4;\n\t\tthis.view.render();\n\t}\n\n\tprivate spartanFlag    :boolean = false;\n\n\tpublic onResourceComplete (event:LoaderEvent)\n\t{\n\t\tvar loader:LoaderSession = <LoaderSession> event.target;\n\t\tvar l:number = loader.baseDependency.assets.length;\n\n\t\tconsole.log( '------------------------------------------------------------------------------');\n\t\tconsole.log( 'away.events.LoaderEvent.RESOURCE_COMPLETE' , event , l , loader );\n\t\tconsole.log( '------------------------------------------------------------------------------');\n\n\t\tvar loader:LoaderSession = <LoaderSession> event.target;\n\t\tvar l:number = loader.baseDependency.assets.length;\n\n\t\tfor (var c:number = 0; c < l; c++) {\n\n\t\t\tvar d:IAsset = loader.baseDependency.assets[c];\n\n\t\t\tconsole.log( d.name , event.url);\n\n\t\t\tswitch (d.assetType) {\n\t\t\t\tcase  Mesh.assetType:\n\t\t\t\t\tif (event.url =='assets/Halo_3_SPARTAN4.obj') {\n\t\t\t\t\t\tvar mesh:Mesh = <Mesh> d;\n\n\t\t\t\t\t\tthis.spartan.addChild(mesh);\n\t\t\t\t\t\tthis.spartanFlag = true;\n\t\t\t\t\t\tthis.meshes.push(mesh);\n\t\t\t\t\t} else if (event.url =='assets/terrain.obj') {\n\t\t\t\t\t\tthis.terrain = <Mesh> d;\n\t\t\t\t\t\tthis.terrain.y = 98;\n\t\t\t\t\t\tthis.terrain.geometry.scaleUV(20, 20);\n\t\t\t\t\t\tthis.view.scene.addChild(this.terrain);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase BitmapImage2D.assetType :\n\t\t\t\t\tif (event.url == 'assets/masterchief_base.png' ) {\n\t\t\t\t\t\tthis.mat = new MethodMaterial( new Single2DTexture(<BitmapImage2D> d), true, true, false );\n\t\t\t\t\t\tthis.mat.lightPicker = new StaticLightPicker([this.light]);\n\t\t\t\t\t} else if (event.url == 'assets/stone_tx.jpg') {\n\t\t\t\t\t\tthis.terrainMaterial = new MethodMaterial(new Single2DTexture(<BitmapImage2D> d), true, true, false);\n\t\t\t\t\t\tthis.terrainMaterial.lightPicker = new StaticLightPicker([this.light]);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (this.terrain && this.terrainMaterial)\n\t\t\tthis.terrain.material = this.terrainMaterial;\n\n\t\tif (this.mat && this.spartanFlag)\n\t\t\tfor (var c:number = 0; c < this.meshes.length; c++)\n\t\t\t\tthis.meshes[c].material = this.mat;\n\n\t\tthis.onResize();\n\t}\n\n\tpublic onResize(event:UIEvent = null)\n\t{\n\t\tthis.view.y = 0;\n\t\tthis.view.x = 0;\n\n\t\tthis.view.width = window.innerWidth;\n\t\tthis.view.height = window.innerHeight;\n\t}\n}\n\nwindow.onload = function ()\n{\n\tnew ObjLoaderMasterChief(); // Start the demo\n}",
    null
  ],
  "sourceRoot": ""
}