(function e(i,t,r){function a(s,o){if(!t[s]){if(!i[s]){var l=typeof require=="function"&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=t[s]={exports:{}};i[s][0].call(d.exports,function(e){var t=i[s][1][e];return a(t?t:e)},d,d.exports,e,i,t,r)}return t[s].exports}var n=typeof require=="function"&&require;for(var s=0;s<r.length;s++)a(r[s]);return a})({1:[function(e,i,t){var r=e("awayjs-core/lib/events/LoaderEvent");var a=e("awayjs-core/lib/geom/Vector3D");var n=e("awayjs-core/lib/library/AssetLibrary");var s=e("awayjs-core/lib/library/AssetType");var o=e("awayjs-core/lib/net/URLRequest");var l=e("awayjs-core/lib/utils/RequestAnimationFrame");var h=e("awayjs-display/lib/containers/View");var d=e("awayjs-display/lib/entities/DirectionalLight");var c=e("awayjs-display/lib/events/MouseEvent");var u=e("awayjs-display/lib/materials/lightpickers/StaticLightPicker");var w=e("awayjs-renderergl/lib/DefaultRenderer");var v=e("awayjs-renderergl/lib/pick/JSPickingCollider");var y=e("awayjs-methodmaterials/lib/MethodMaterial");var f=e("awayjs-methodmaterials/lib/pool/MethodRendererPool");var m=e("awayjs-parsers/lib/AWDParser");var _=function(){function e(){var e=this;this._lookAtPosition=new a;this._cameraIncrement=0;this._mouseOverMaterial=new y(16711680);this.initView();this.loadAssets();this.initLights();window.onresize=function(i){return e.onResize(i)};this.onResize()}e.prototype.initView=function(){this._renderer=new w(f);this._view=new h(this._renderer);this._view.camera.projection.far=6e3;this._view.forceMouseMove=true};e.prototype.loadAssets=function(){var e=this;this._timer=new l(this.render,this);this._timer.start();n.enableParser(m);this._token=n.load(new o("assets/suzanne.awd"));this._token.addEventListener(r.RESOURCE_COMPLETE,function(i){return e.onResourceComplete(i)})};e.prototype.initLights=function(){this._light=new d;this._light.color=6828057;this._light.direction=new a(1,0,0);this._light.ambient=.1;this._light.ambientColor=8762061;this._light.diffuse=2.8;this._light.specular=1.8;this._view.scene.addChild(this._light);this._lightPicker=new u([this._light])};e.prototype.onResize=function(e){if(e===void 0){e=null}this._view.y=0;this._view.x=0;this._view.width=window.innerWidth;this._view.height=window.innerHeight};e.prototype.render=function(e){if(this._view.camera){this._view.camera.lookAt(this._lookAtPosition);this._cameraIncrement+=.01;this._view.camera.x=Math.cos(this._cameraIncrement)*1400;this._view.camera.z=Math.sin(this._cameraIncrement)*1400;this._light.x=Math.cos(this._cameraIncrement)*1400;this._light.y=Math.sin(this._cameraIncrement)*1400}this._view.render()};e.prototype.onResourceComplete=function(e){var i=this;var t=e.target;var r=t.baseDependency.assets.length;for(var n=0;n<r;++n){var o=t.baseDependency.assets[n];switch(o.assetType){case s.MESH:var l=o;this._suzane=l;this._suzane.material.lightPicker=this._lightPicker;this._suzane.y=-100;this._mouseOutMaterial=this._suzane.material;for(var h=0;h<80;h++){var d=l.clone();var u=this.getRandom(50,200);d.x=this.getRandom(-2e3,2e3);d.y=this.getRandom(-2e3,2e3);d.z=this.getRandom(-2e3,2e3);d.transform.scale=new a(u,u,u);d.rotationY=this.getRandom(0,360);d.addEventListener(c.MOUSE_OVER,function(e){return i.onMouseOver(e)});d.addEventListener(c.MOUSE_OUT,function(e){return i.onMouseOut(e)});this._view.scene.addChild(d)}l.transform.scale=new a(500,500,500);l.pickingCollider=new v(this._renderer.stage);l.addEventListener(c.MOUSE_OVER,function(e){return i.onMouseOver(e)});l.addEventListener(c.MOUSE_OUT,function(e){return i.onMouseOut(e)});this._view.scene.addChild(l);break;case s.GEOMETRY:break;case s.MATERIAL:break}}};e.prototype.onMouseOver=function(e){e.object.material=this._mouseOverMaterial;console.log("mouseover")};e.prototype.onMouseOut=function(e){e.object.material=this._mouseOutMaterial;console.log("mouseout")};e.prototype.getRandom=function(e,i){return Math.random()*(i-e)+e};return e}();window.onload=function(){new _}},{"awayjs-core/lib/events/LoaderEvent":undefined,"awayjs-core/lib/geom/Vector3D":undefined,"awayjs-core/lib/library/AssetLibrary":undefined,"awayjs-core/lib/library/AssetType":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/utils/RequestAnimationFrame":undefined,"awayjs-display/lib/containers/View":undefined,"awayjs-display/lib/entities/DirectionalLight":undefined,"awayjs-display/lib/events/MouseEvent":undefined,"awayjs-display/lib/materials/lightpickers/StaticLightPicker":undefined,"awayjs-methodmaterials/lib/MethodMaterial":undefined,"awayjs-methodmaterials/lib/pool/MethodRendererPool":undefined,"awayjs-parsers/lib/AWDParser":undefined,"awayjs-renderergl/lib/DefaultRenderer":undefined,"awayjs-renderergl/lib/pick/JSPickingCollider":undefined}]},{},[1]);

//# sourceMappingURL=AWDSuzanne.js.map