{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/CubePrimitive.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "CubePrimitive.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import BlendMode\t\t\t\t\t= require(\"awayjs-core/lib/base/BlendMode\");\nimport AwayEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport URLLoader\t\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport URLLoaderDataFormat\t\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserUtils\t\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport PerspectiveProjection\t\t= require(\"awayjs-core/lib/projections/PerspectiveProjection\");\nimport ImageTexture\t\t\t\t\t= require(\"awayjs-core/lib/textures/ImageTexture\");\nimport RequestAnimationFrame\t\t= require(\"awayjs-core/lib/utils/RequestAnimationFrame\");\n\nimport Scene\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/Scene\");\nimport View\t\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/View\");\nimport DirectionalLight\t\t\t\t= require(\"awayjs-display/lib/entities/DirectionalLight\");\nimport Mesh\t\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Mesh\");\nimport StaticLightPicker\t\t\t= require(\"awayjs-display/lib/materials/lightpickers/StaticLightPicker\");\nimport PrimitiveCubePrefab\t\t\t= require(\"awayjs-display/lib/prefabs/PrimitiveCubePrefab\");\nimport PrimitiveTorusPrefab\t\t\t= require(\"awayjs-display/lib/prefabs/PrimitiveTorusPrefab\");\n\nimport DefaultRenderer\t\t\t\t= require(\"awayjs-renderergl/lib/DefaultRenderer\");\n\nimport MethodMaterial\t\t\t\t= require(\"awayjs-methodmaterials/lib/MethodMaterial\");\nimport MethodRendererPool\t\t\t= require(\"awayjs-methodmaterials/lib/pool/MethodRendererPool\");\n\nclass CubePrimitive\n{\n\tprivate _view:View;\n\tprivate _cube:PrimitiveCubePrefab;\n\tprivate _torus:PrimitiveTorusPrefab;\n\tprivate _mesh:Mesh;\n\tprivate _mesh2:Mesh;\n\tprivate _raf:RequestAnimationFrame;\n\tprivate _image:HTMLImageElement;\n\tprivate _cameraAxis:Vector3D;\n\tprivate _light:DirectionalLight;\n\tprivate _lightPicker:StaticLightPicker;\n\n\tconstructor()\n\t{\n\t\tthis.initView();\n\t\tthis.initCamera();\n\t\tthis.initLights();\n\t\tthis.initGeometry();\n\t\tthis.loadResources();\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initView():void\n\t{\n\t\tthis._view = new View(new DefaultRenderer(MethodRendererPool));\n\t\tthis._view.backgroundColor = 0x000000;\n\t\tthis._view.camera.x = 130;\n\t\tthis._view.camera.y = 0;\n\t\tthis._view.camera.z = 0;\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initGeometry():void\n\t{\n\t\tthis._cube = new PrimitiveCubePrefab(20.0, 20.0, 20.0);\n\t\tthis._torus = new PrimitiveTorusPrefab(150, 80, 32, 16, true);\n\n\t\tthis._mesh = <Mesh> this._torus.getNewObject();\n\t\tthis._mesh2 = <Mesh> this._cube.getNewObject();\n\t\tthis._mesh2.x = 130;\n\t\tthis._mesh2.z = 40;\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initLights():void\n\t{\n\t\tthis._light = new DirectionalLight();\n\t\tthis._light.color = 0xffffff;\n\t\tthis._light.direction = new Vector3D(1, 0, 0);\n\t\tthis._light.ambient = 0.4;\n\t\tthis._light.ambientColor = 0x85b2cd;\n\t\tthis._light.diffuse = 2.8;\n\t\tthis._light.specular = 1.8;\n\n\t\tthis._lightPicker = new StaticLightPicker([this._light]);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initCamera():void\n\t{\n\t\tthis._cameraAxis = new Vector3D(0, 0, 1);\n\t\tthis._view.camera.projection = new PerspectiveProjection(120);\n\t\tthis._view.camera.projection.near = 0.1;\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate loadResources()\n\t{\n\t\twindow.onresize = (event:UIEvent) => this.onResize(event);\n\t\tthis.onResize();\n\n\t\tthis._raf = new RequestAnimationFrame(this.render, this);\n\t\tthis._raf.start();\n\n\t\tvar urlRequest:URLRequest = new URLRequest(\"assets/spacy_texture.png\");\n\t\tvar imgLoader:URLLoader = new URLLoader();\n\t\timgLoader.dataFormat = URLLoaderDataFormat.BLOB;\n\n\t\timgLoader.addEventListener(AwayEvent.COMPLETE, (event:AwayEvent) => this.urlCompleteHandler(event));\n\t\timgLoader.load(urlRequest);\n\t}\n\n\t/**\n\t *\n\t * @param event\n\t */\n\tprivate urlCompleteHandler(event:AwayEvent)\n\t{\n\t\tvar imageLoader:URLLoader = <URLLoader> event.target;\n\n\t\tthis._image = ParserUtils.blobToImage(imageLoader.data);\n\n\t\tthis._image.onload = (event:Event) => this.imageCompleteHandler(event);\n\t}\n\n\t/**\n\t *\n\t * @param e\n\t */\n\tprivate imageCompleteHandler(event:Event)\n\t{\n\t\tvar ts:ImageTexture = new ImageTexture(this._image);\n\t\tvar matTx:MethodMaterial = new MethodMaterial(ts, true, true, false);\n\t\tmatTx.blendMode = BlendMode.ADD;\n\t\tmatTx.bothSides = true;\n\t\tmatTx.lightPicker = this._lightPicker;\n\n\t\tthis._mesh.material = matTx;\n\t\tthis._mesh2.material = matTx;\n\n\t\tthis._view.scene.addChild(this._mesh);\n\t\tthis._view.scene.addChild(this._mesh2);\n    }\n\n\t/**\n\t *\n\t * @param dt\n\t */\n\tpublic render(dt:number = null):void\n\t{\n\t\tthis._view.camera.rotate(this._cameraAxis, 1);\n\t\tthis._mesh.rotationY += 1;\n\t\tthis._mesh2.rotationX += 0.4;\n\t\tthis._mesh2.rotationY += 0.4;\n\t\tthis._view.render();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic onResize(event:UIEvent = null)\n\t{\n\t\tthis._view.y = 0;\n\t\tthis._view.x = 0;\n\n\t\tthis._view.width = window.innerWidth;\n\t\tthis._view.height = window.innerHeight;\n\t}\n}\n\nwindow.onload = function()\n{\n\tnew CubePrimitive();\n}\n"
  ],
  "sourceRoot": ""
}