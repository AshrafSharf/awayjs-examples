(function e(i,t,n){function o(s,a){if(!t[s]){if(!i[s]){var l=typeof require=="function"&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[s]={exports:{}};i[s][0].call(c.exports,function(e){var t=i[s][1][e];return o(t?t:e)},c,c.exports,e,i,t,n)}return t[s].exports}var r=typeof require=="function"&&require;for(var s=0;s<n.length;s++)o(n[s]);return o})({1:[function(e,i,t){var n=e("awayjs-core/lib/library/AssetLibrary");var o=e("awayjs-core/lib/library/AssetType");var r=e("awayjs-core/lib/events/AssetEvent");var s=e("awayjs-core/lib/net/URLRequest");var a=e("awayjs-core/lib/events/LoaderEvent");var l=e("awayjs-core/lib/projections/OrthographicProjection");var u=e("awayjs-core/lib/utils/RequestAnimationFrame");var c=e("awayjs-display/lib/containers/View");var w=e("awayjs-display/lib/containers/Loader");var d=e("awayjs-display/lib/sort/RenderableNullSort");var h=e("awayjs-renderergl/lib/DefaultRenderer");var f=e("awayjs-methodmaterials/lib/pool/MethodRendererPool");var v=e("awayjs-parsers/lib/AWDParser");var y=e("awayjs-player/lib/fl/partition/Partition2D");var p=function(){function e(){this._time=0;this.init()}e.prototype.init=function(){this.initEngine();this.initObjects();this.initListeners()};e.prototype.initEngine=function(){this._view=new c(new h(f));this._view.renderer.renderableSorter=new d;this._view.backgroundColor=16777215;this._view.camera.projection=new l(500);this._view.camera.projection.far=5e5;this._view.camera.projection.near=.1;this._view.camera.x=0;this._view.camera.y=0;this._view.camera.z=300;this._view.camera.rotationX=-180;this._view.camera.rotationY=0;this._view.camera.rotationZ=-180};e.prototype.initObjects=function(){var e=this;n.enableParser(v);var i=new w;i.addEventListener(r.ASSET_COMPLETE,function(i){return e.onAssetComplete(i)});i.addEventListener(a.RESOURCE_COMPLETE,function(i){return e.onRessourceComplete(i)});i.load(new s("assets/AWD3/ScareCrow.awd"))};e.prototype.initListeners=function(){var e=this;window.onresize=function(i){return e.onResize(i)};document.onkeydown=function(i){return e.onKeyDown(i)};document.onmousedown=function(i){return e.onMouseDown(i)};document.onmouseup=function(i){return e.onMouseUp(i)};document.onmousemove=function(i){return e.onMouseMove(i)};document.onmousewheel=function(i){return e.onMouseWheel(i)};this.onResize();this._timer=new u(this.onEnterFrame,this);this._timer.start()};e.prototype.onAssetComplete=function(e){if(e.asset.assetType==o.TIMELINE){this._rootTimeLine=e.asset;this._rootTimeLine.partition=new y(this._rootTimeLine)}};e.prototype.onRessourceComplete=function(e){if(this._rootTimeLine){this._view.scene.addChild(this._rootTimeLine)}};e.prototype.onEnterFrame=function(e){this._time+=e;if(this._rootTimeLine!=undefined){this._rootTimeLine.update(e)}this._view.render()};e.prototype.onKeyDown=function(e){if(e.keyCode==109){var i=this._view.camera.projection;i.projectionHeight+=5}else if(e.keyCode==107){var i=this._view.camera.projection;i.projectionHeight-=5}};e.prototype.onMouseDown=function(e){this._lastMouseX=e.clientX;this._lastMouseY=e.clientY;this._move=true};e.prototype.onMouseUp=function(e){this._move=false};e.prototype.onMouseMove=function(e){if(this._move){if(e.clientX>this._lastMouseX+10)this._view.camera.x+=10;else if(e.clientX>this._lastMouseX)this._view.camera.x++;else if(e.clientX<this._lastMouseX-10)this._view.camera.x-=10;else if(e.clientX<this._lastMouseX)this._view.camera.x--;if(e.clientY>this._lastMouseY+10)this._view.camera.y+=10;else if(e.clientY>this._lastMouseY)this._view.camera.y++;else if(e.clientY<this._lastMouseY-10)this._view.camera.y-=10;else if(e.clientY<this._lastMouseY)this._view.camera.y--;this._lastMouseX=e.clientX;this._lastMouseY=e.clientY}};e.prototype.onMouseWheel=function(e){};e.prototype.onResize=function(e){if(e===void 0){e=null}this._view.y=0;this._view.x=0;this._view.width=window.innerWidth;this._view.height=window.innerHeight};return e}();window.onload=function(){new p}},{"awayjs-core/lib/events/AssetEvent":undefined,"awayjs-core/lib/events/LoaderEvent":undefined,"awayjs-core/lib/library/AssetLibrary":undefined,"awayjs-core/lib/library/AssetType":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/projections/OrthographicProjection":undefined,"awayjs-core/lib/utils/RequestAnimationFrame":undefined,"awayjs-display/lib/containers/Loader":undefined,"awayjs-display/lib/containers/View":undefined,"awayjs-display/lib/sort/RenderableNullSort":undefined,"awayjs-methodmaterials/lib/pool/MethodRendererPool":undefined,"awayjs-parsers/lib/AWDParser":undefined,"awayjs-player/lib/fl/partition/Partition2D":undefined,"awayjs-renderergl/lib/DefaultRenderer":undefined}]},{},[1]);

//# sourceMappingURL=AWD3Viewer.js.map