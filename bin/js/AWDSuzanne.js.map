{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/AWDSuzanne.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "AWDSuzanne.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import AssetEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport LoaderEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport AssetLibrary\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport AssetLoader\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoader\");\nimport AssetLoaderContext\t\t\t= require(\"awayjs-core/lib/library/AssetLoaderContext\");\nimport AssetLoaderToken\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoaderToken\");\nimport AssetType\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetType\");\nimport IAsset\t\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport RequestAnimationFrame\t\t= require(\"awayjs-core/lib/utils/RequestAnimationFrame\");\n\nimport View\t\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/View\");\nimport HoverController\t\t\t\t= require(\"awayjs-display/lib/controllers/HoverController\");\nimport DirectionalLight\t\t\t\t= require(\"awayjs-display/lib/entities/DirectionalLight\");\nimport Mesh\t\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Mesh\");\nimport MouseEvent\t\t\t\t\t= require(\"awayjs-display/lib/events/MouseEvent\");\nimport StaticLightPicker\t\t\t= require(\"awayjs-display/lib/materials/lightpickers/StaticLightPicker\");\n\nimport DefaultRenderer\t\t\t\t= require(\"awayjs-renderergl/lib/DefaultRenderer\");\nimport JSPickingCollider\t\t\t= require(\"awayjs-renderergl/lib/pick/JSPickingCollider\");\n\nimport MethodMaterial\t\t\t\t= require(\"awayjs-methodmaterials/lib/MethodMaterial\");\nimport MethodRendererPool\t\t\t= require(\"awayjs-methodmaterials/lib/pool/MethodRendererPool\");\nimport AWDParser\t\t\t\t\t= require(\"awayjs-parsers/lib/AWDParser\");\n\nclass AWDSuzanne\n{\n\n\tprivate _renderer:DefaultRenderer;\n\tprivate _view:View;\n\tprivate _token:AssetLoaderToken;\n\tprivate _timer:RequestAnimationFrame;\n\tprivate _suzane:Mesh;\n\tprivate _light:DirectionalLight;\n\tprivate _lightPicker:StaticLightPicker;\n\tprivate _lookAtPosition:Vector3D = new Vector3D ();\n\tprivate _cameraIncrement:number = 0;\n\tprivate _mouseOverMaterial:MethodMaterial = new MethodMaterial(0xFF0000);\n\tprivate _mouseOutMaterial:MethodMaterial;\n\n\tconstructor()\n\t{\n\t\tthis.initView();\n\t\tthis.loadAssets();\n\t\tthis.initLights();\n\n\t\twindow.onresize  = (event:UIEvent) => this.onResize(event);\n\n\t\tthis.onResize();\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initView():void\n\t{\n\t\tthis._renderer = new DefaultRenderer(MethodRendererPool)\n\t\tthis._view = new View(this._renderer);\n\t\tthis._view.camera.projection.far = 6000;\n\t\tthis._view.forceMouseMove = true;\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate loadAssets():void\n\t{\n\t\tthis._timer = new RequestAnimationFrame(this.render, this);\n\t\tthis._timer.start();\n\n\t\tAssetLibrary.enableParser(AWDParser);\n\n\t\tthis._token = AssetLibrary.load(new URLRequest('assets/suzanne.awd'));\n\t\tthis._token.addEventListener(LoaderEvent.RESOURCE_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initLights():void\n\t{\n\t\tthis._light = new DirectionalLight();\n\t\tthis._light.color = 0x683019;\n\t\tthis._light.direction = new Vector3D(1, 0, 0);\n\t\tthis._light.ambient = 0.1;\n\t\tthis._light.ambientColor = 0x85b2cd;\n\t\tthis._light.diffuse = 2.8;\n\t\tthis._light.specular = 1.8;\n\t\tthis._view.scene.addChild(this._light);\n\t\tthis._lightPicker = new StaticLightPicker([this._light]);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate onResize(event:UIEvent = null):void\n\t{\n\t\tthis._view.y = 0;\n\t\tthis._view.x = 0;\n\t\tthis._view.width = window.innerWidth;\n\t\tthis._view.height = window.innerHeight;\n\t}\n\n\t/**\n\t *\n\t * @param dt\n\t */\n\tprivate render(dt:number) //animate based on dt for firefox\n\t{\n\t\tif (this._view.camera) {\n\t\t\tthis._view.camera.lookAt(this._lookAtPosition);\n\t\t\tthis._cameraIncrement += 0.01;\n\t\t\tthis._view.camera.x = Math.cos(this._cameraIncrement)*1400;\n\t\t\tthis._view.camera.z = Math.sin(this._cameraIncrement)*1400;\n\n\t\t\tthis._light.x = Math.cos(this._cameraIncrement)*1400;\n\t\t\tthis._light.y = Math.sin(this._cameraIncrement)*1400;\n\n\t\t}\n\n\t\tthis._view.render();\n\t}\n\n\t/**\n\t *\n\t * @param e\n\t */\n\tpublic onResourceComplete(e:LoaderEvent)\n\t{\n\t\tvar loader:AssetLoader = <AssetLoader> e.target;\n\t\tvar numAssets:number = loader.baseDependency.assets.length;\n\n\t\tfor (var i:number = 0; i < numAssets; ++i) {\n\t\t\tvar asset:IAsset = loader.baseDependency.assets[ i ];\n\n\t\t\tswitch(asset.assetType) {\n\t\t\t\tcase AssetType.MESH:\n\n\t\t\t\t\tvar mesh:Mesh = <Mesh> asset;\n\n\t\t\t\t\tthis._suzane = mesh;\n\t\t\t\t\t(<MethodMaterial> this._suzane.material).lightPicker = this._lightPicker;\n\t\t\t\t\tthis._suzane.y = -100;\n\t\t\t\t\tthis._mouseOutMaterial = <MethodMaterial> this._suzane.material;\n\n\t\t\t\t\tfor (var c:number = 0; c < 80; c++) {\n\n\t\t\t\t\t\tvar clone:Mesh = <Mesh> mesh.clone();\n\t\t\t\t\t\tvar scale:number = this.getRandom(50, 200);\n\t\t\t\t\t\tclone.x = this.getRandom(-2000, 2000);\n\t\t\t\t\t\tclone.y = this.getRandom(-2000, 2000);\n\t\t\t\t\t\tclone.z = this.getRandom(-2000, 2000);\n\t\t\t\t\t\tclone.transform.scale = new Vector3D(scale, scale, scale);\n\t\t\t\t\t\tclone.rotationY = this.getRandom (0, 360);\n\t\t\t\t\t\tclone.addEventListener(MouseEvent.MOUSE_OVER, (event:MouseEvent) => this.onMouseOver(event));\n\t\t\t\t\t\tclone.addEventListener(MouseEvent.MOUSE_OUT, (event:MouseEvent) => this.onMouseOut(event));\n\t\t\t\t\t\tthis._view.scene.addChild(clone);\n\t\t\t\t\t}\n\n\t\t\t\t\tmesh.transform.scale = new Vector3D(500, 500, 500);\n\t\t\t\t\tmesh.pickingCollider = new JSPickingCollider(this._renderer.stage);\n\n\t\t\t\t\tmesh.addEventListener(MouseEvent.MOUSE_OVER, (event:MouseEvent) => this.onMouseOver(event));\n\t\t\t\t\tmesh.addEventListener(MouseEvent.MOUSE_OUT, (event:MouseEvent) => this.onMouseOut(event));\n\t\t\t\t\tthis._view.scene.addChild(mesh);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase AssetType.GEOMETRY:\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase AssetType.MATERIAL:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onMouseOver(event:MouseEvent)\n\t{\n\t\t(<Mesh> event.object).material = this._mouseOverMaterial;\n\n\t\tconsole.log(\"mouseover\");\n\t}\n\n\tprivate onMouseOut(event:MouseEvent)\n\t{\n\t\t(<Mesh> event.object).material = this._mouseOutMaterial;\n\n\t\tconsole.log(\"mouseout\");\n\t}\n\n\t/**\n\t *\n\t * @param min\n\t * @param max\n\t * @returns {number}\n\t */\n\tprivate getRandom(min:number, max:number):number\n\t{\n\t\treturn Math.random()*(max - min) + min;\n\t}\n}\n\nwindow.onload = function()\n{\n\tnew AWDSuzanne();\n}\n\n"
  ],
  "sourceRoot": ""
}