{"version":3,"sources":["webpack:///./src/AWDSuzanne.ts"],"names":[],"mappings":"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","file":"js/AWDSuzanne.js","sourcesContent":["import {LoaderEvent}\t\t\t\t\tfrom \"awayjs-core/lib/events/LoaderEvent\";\nimport {Vector3D}\t\t\t\t\t\tfrom \"awayjs-core/lib/geom/Vector3D\";\nimport {AssetLibrary}\t\t\t\t\tfrom \"awayjs-core/lib/library/AssetLibrary\";\nimport {Loader}\t\t\t\t\t\tfrom \"awayjs-core/lib/library/Loader\";\nimport {IAsset}\t\t\t\t\t\tfrom \"awayjs-core/lib/library/IAsset\";\nimport {URLRequest}\t\t\t\t\tfrom \"awayjs-core/lib/net/URLRequest\";\nimport {RequestAnimationFrame}\t\tfrom \"awayjs-core/lib/utils/RequestAnimationFrame\";\n\nimport {View}\t\t\t\t\t\t\tfrom \"awayjs-display/lib/View\";\nimport {DirectionalLight}\t\t\t\tfrom \"awayjs-display/lib/display/DirectionalLight\";\nimport {Sprite}\t\t\t\t\t\tfrom \"awayjs-display/lib/display/Sprite\";\nimport {JSPickingCollider}\t\t\tfrom \"awayjs-display/lib/pick/JSPickingCollider\";\nimport {MouseEvent}\t\t\t\t\tfrom \"awayjs-display/lib/events/MouseEvent\";\nimport {StaticLightPicker}\t\t\tfrom \"awayjs-display/lib/materials/lightpickers/StaticLightPicker\";\n\nimport {DefaultRenderer}\t\t\t\tfrom \"awayjs-renderergl/lib/DefaultRenderer\";\n\nimport {MethodMaterial}\t\t\t\tfrom \"awayjs-methodmaterials/lib/MethodMaterial\";\nimport {AWDParser}\t\t\t\t\tfrom \"awayjs-parsers/lib/AWDParser\";\n\nclass AWDSuzanne\n{\n\n\tprivate _renderer:DefaultRenderer;\n\tprivate _view:View;\n\tprivate _timer:RequestAnimationFrame;\n\tprivate _suzane:Sprite;\n\tprivate _light:DirectionalLight;\n\tprivate _lightPicker:StaticLightPicker;\n\tprivate _lookAtPosition:Vector3D = new Vector3D();\n\tprivate _cameraIncrement:number = 0;\n\tprivate _mouseOverMaterial:MethodMaterial = new MethodMaterial(0xFF0000);\n\tprivate _mouseOutMaterial:MethodMaterial;\n\n\tconstructor()\n\t{\n\t\tthis.initView();\n\t\tthis.loadAssets();\n\t\tthis.initLights();\n\n\t\twindow.onresize  = (event:UIEvent) => this.onResize(event);\n\n\t\tthis.onResize();\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initView():void\n\t{\n\t\tthis._renderer = new DefaultRenderer();\n\t\tthis._view = new View(this._renderer);\n\t\tthis._view.camera.projection.far = 6000;\n\t\tthis._view.forceMouseMove = true;\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate loadAssets():void\n\t{\n\t\tthis._timer = new RequestAnimationFrame(this.render, this);\n\t\tthis._timer.start();\n\n\t\tAssetLibrary.enableParser(AWDParser);\n\n\t\tvar session:Loader = AssetLibrary.getLoader();\n\t\tsession.addEventListener(LoaderEvent.LOAD_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\t\tsession.load(new URLRequest('assets/suzanne.awd'));\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initLights():void\n\t{\n\t\tthis._light = new DirectionalLight();\n\t\tthis._light.color = 0x683019;\n\t\tthis._light.direction = new Vector3D(1, 0, 0);\n\t\tthis._light.ambient = 0.1;\n\t\tthis._light.ambientColor = 0x85b2cd;\n\t\tthis._light.diffuse = 2.8;\n\t\tthis._light.specular = 1.8;\n\t\tthis._view.scene.addChild(this._light);\n\t\tthis._lightPicker = new StaticLightPicker([this._light]);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate onResize(event:UIEvent = null):void\n\t{\n\t\tthis._view.y = 0;\n\t\tthis._view.x = 0;\n\t\tthis._view.width = window.innerWidth;\n\t\tthis._view.height = window.innerHeight;\n\t}\n\n\t/**\n\t *\n\t * @param dt\n\t */\n\tprivate render(dt:number) //animate based on dt for firefox\n\t{\n\t\tif (this._view.camera) {\n\t\t\tthis._view.camera.lookAt(this._lookAtPosition);\n\t\t\tthis._cameraIncrement += 0.01;\n\t\t\tthis._view.camera.x = Math.cos(this._cameraIncrement)*1400;\n\t\t\tthis._view.camera.z = Math.sin(this._cameraIncrement)*1400;\n\n\t\t\tthis._light.x = Math.cos(this._cameraIncrement)*1400;\n\t\t\tthis._light.y = Math.sin(this._cameraIncrement)*1400;\n\n\t\t}\n\n\t\tthis._view.render();\n\t}\n\n\t/**\n\t *\n\t * @param e\n\t */\n\tpublic onResourceComplete(e:LoaderEvent)\n\t{\n\t\tvar loader:Loader = e.target;\n\t\tvar numAssets:number = loader.baseDependency.assets.length;\n\n\t\tfor (var i:number = 0; i < numAssets; ++i) {\n\t\t\tvar asset:IAsset = loader.baseDependency.assets[ i ];\n\n\t\t\tswitch(asset.assetType) {\n\t\t\t\tcase Sprite.assetType:\n\n\t\t\t\t\tvar sprite:Sprite = <Sprite> asset;\n\n\t\t\t\t\tthis._suzane = sprite;\n\t\t\t\t\t(<MethodMaterial> this._suzane.material).lightPicker = this._lightPicker;\n\t\t\t\t\tthis._suzane.y = -100;\n\t\t\t\t\tthis._mouseOutMaterial = <MethodMaterial> this._suzane.material;\n\n\t\t\t\t\tfor (var c:number = 0; c < 80; c++) {\n\n\t\t\t\t\t\tvar clone:Sprite = <Sprite> sprite.clone();\n\t\t\t\t\t\tvar scale:number = this.getRandom(50, 200);\n\t\t\t\t\t\tclone.x = this.getRandom(-2000, 2000);\n\t\t\t\t\t\tclone.y = this.getRandom(-2000, 2000);\n\t\t\t\t\t\tclone.z = this.getRandom(-2000, 2000);\n\t\t\t\t\t\tclone.transform.scaleTo(scale, scale, scale);\n\t\t\t\t\t\tclone.rotationY = this.getRandom (0, 360);\n\t\t\t\t\t\tclone.addEventListener(MouseEvent.MOUSE_OVER, (event:MouseEvent) => this.onMouseOver(event));\n\t\t\t\t\t\tclone.addEventListener(MouseEvent.MOUSE_OUT, (event:MouseEvent) => this.onMouseOut(event));\n\t\t\t\t\t\tthis._view.scene.addChild(clone);\n\t\t\t\t\t}\n\n\t\t\t\t\tsprite.transform.scaleTo(500, 500, 500);\n\t\t\t\t\tsprite.pickingCollider = new JSPickingCollider();\n\n\t\t\t\t\tsprite.addEventListener(MouseEvent.MOUSE_OVER, (event:MouseEvent) => this.onMouseOver(event));\n\t\t\t\t\tsprite.addEventListener(MouseEvent.MOUSE_OUT, (event:MouseEvent) => this.onMouseOut(event));\n\t\t\t\t\tthis._view.scene.addChild(sprite);\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onMouseOver(event:MouseEvent)\n\t{\n\t\t(<Sprite> event.entity).material = this._mouseOverMaterial;\n\n\t\tconsole.log(\"mouseover\");\n\t}\n\n\tprivate onMouseOut(event:MouseEvent)\n\t{\n\t\t(<Sprite> event.entity).material = this._mouseOutMaterial;\n\n\t\tconsole.log(\"mouseout\");\n\t}\n\n\t/**\n\t *\n\t * @param min\n\t * @param max\n\t * @returns {number}\n\t */\n\tprivate getRandom(min:number, max:number):number\n\t{\n\t\treturn Math.random()*(max - min) + min;\n\t}\n}\n\nwindow.onload = function()\n{\n\tnew AWDSuzanne();\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/AWDSuzanne.ts\n **/"],"sourceRoot":""}