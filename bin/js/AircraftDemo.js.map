{"version":3,"sources":["webpack:///./src/AircraftDemo.ts"],"names":[],"mappings":"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","file":"AircraftDemo.js","sourcesContent":["import BitmapImage2D\t\t\t\tfrom \"awayjs-core/lib/image/BitmapImage2D\";\nimport BitmapImageCube\t\t\t\tfrom \"awayjs-core/lib/image/BitmapImageCube\";\nimport Sampler2D\t\t\t\t\tfrom \"awayjs-core/lib/image/Sampler2D\";\nimport LoaderEvent\t\t\t\t\tfrom \"awayjs-core/lib/events/LoaderEvent\";\nimport Matrix\t\t\t\t       \tfrom \"awayjs-core/lib/geom/Matrix\";\nimport Vector3D\t\t\t\t\t\tfrom \"awayjs-core/lib/geom/Vector3D\";\nimport AssetLibrary\t\t\t\t\tfrom \"awayjs-core/lib/library/AssetLibrary\";\nimport Loader\t\t\t        \tfrom \"awayjs-core/lib/library/Loader\";\nimport IAsset\t\t\t\t\t\tfrom \"awayjs-core/lib/library/IAsset\";\nimport URLRequest\t\t\t\t\tfrom \"awayjs-core/lib/net/URLRequest\";\nimport Debug                \t\tfrom \"awayjs-core/lib/utils/Debug\";\nimport RequestAnimationFrame\t\tfrom \"awayjs-core/lib/utils/RequestAnimationFrame\";\n\nimport DisplayObjectContainer\t\tfrom \"awayjs-display/lib/display/DisplayObjectContainer\";\nimport View\t\t\t\t\t\t\tfrom \"awayjs-display/lib/View\";\nimport DirectionalLight\t\t\t\tfrom \"awayjs-display/lib/display/DirectionalLight\";\nimport Sprite\t\t\t\t\t\tfrom \"awayjs-display/lib/display/Sprite\";\nimport Skybox\t\t\t\t\t\tfrom \"awayjs-display/lib/display/Skybox\";\nimport StaticLightPicker\t\t\tfrom \"awayjs-display/lib/materials/lightpickers/StaticLightPicker\";\nimport PrimitivePlanePrefab\t\t\tfrom \"awayjs-display/lib/prefabs/PrimitivePlanePrefab\";\nimport SingleCubeTexture\t\t\tfrom \"awayjs-display/lib/textures/SingleCubeTexture\";\nimport Single2DTexture\t\t\t\tfrom \"awayjs-display/lib/textures/Single2DTexture\";\nimport ElementsType                 from \"awayjs-display/lib/graphics/ElementsType\";\nimport Style                        from \"awayjs-display/lib/base/Style\";\n\nimport DefaultRenderer\t\t\t\tfrom \"awayjs-renderergl/lib/DefaultRenderer\";\n\nimport MethodMaterial\t\t\t\tfrom \"awayjs-methodmaterials/lib/MethodMaterial\";\nimport EffectEnvMapMethod   \t\tfrom \"awayjs-methodmaterials/lib/methods/EffectEnvMapMethod\";\nimport NormalSimpleWaterMethod\t\tfrom \"awayjs-methodmaterials/lib/methods/NormalSimpleWaterMethod\";\nimport SpecularFresnelMethod\t\tfrom \"awayjs-methodmaterials/lib/methods/SpecularFresnelMethod\";\n\nimport OBJParser\t\t\t\t\tfrom \"awayjs-parsers/lib/OBJParser\";\n\nclass AircraftDemo\n{\n    //{ state\n    private _maxStates:number = 2;\n    private _cameraIncrement:number = 0;\n    private _rollIncrement:number = 0;\n    private _loopIncrement:number = 0;\n    private _state:number = 0;\n    private _appTime:number = 0;\n    //}\n    \n    private _lightPicker:StaticLightPicker;\n    private _view:View;\n    private _timer:RequestAnimationFrame;\n    \n    //{ sea\n    private _seaGeom:PrimitivePlanePrefab;\n    private _seaSprite:Sprite;\n    private _seaNormalImage:BitmapImage2D;\n    private _seaInitialized:boolean = false;\n    private _seaMaterial:MethodMaterial;\n    //}\n    \n    //{ f14\n    private _f14Geom:DisplayObjectContainer;\n    private _f14Initialized:boolean = false;\n    //}\n    \n    //{ skybox\n    private _waterMethod:NormalSimpleWaterMethod;\n    private _skyboxImageCube:BitmapImageCube;\n    private _skyboxInitialized:boolean = false;\n    //}\n    \n    constructor()\n    {\n        Debug.LOG_PI_ERRORS = false;\n        Debug.THROW_ERRORS = false;\n        \n        this.initView();\n        this.initLights();\n        this.initAnimation();\n        this.initParsers();\n        this.loadAssets();\n        \n        window.onresize = (event:UIEvent) => this.onResize(event);\n    }\n    \n    private loadAssets()\n    {\n        this.loadAsset('assets/sea_normals.jpg');\n        this.loadAsset('assets/f14/f14d.obj');\n        this.loadAsset('assets/skybox/CubeTextureTest.cube');\n    }\n    \n    private loadAsset(path:string)\n    {\n        var session:Loader = AssetLibrary.getLoader();\n        session.addEventListener(LoaderEvent.LOAD_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n        session.load(new URLRequest(path));\n    }\n    \n    private initParsers()\n    {\n        AssetLibrary.enableParser(OBJParser);\n    }\n    \n    private initAnimation()\n    {\n        this._timer = new RequestAnimationFrame( this.render, this );\n    }\n\n    private initView()\n    {\n        this._view = new View(new DefaultRenderer());\n        this._view.camera.z\t= -500;\n        this._view.camera.y\t= 250;\n        this._view.camera.rotationX\t= 20;\n        this._view.camera.projection.near = 0.5;\n        this._view.camera.projection.far = 14000;\n        this._view.backgroundColor = 0x2c2c32;\n\n        this.onResize();\n    }\n    \n    private initializeScene()\n    {\n        if(this._skyboxImageCube && this._f14Geom && this._seaNormalImage) {\n            this.initF14();\n            this.initSea();\n            this._timer.start();\n        }\n    }\n    \n    private initLights()\n    {\n        var light:DirectionalLight = new DirectionalLight();\n        light.color\t= 0x974523;\n        light.direction\t= new Vector3D(-300, -300, -5000);\n        light.ambient = 1;\n        light.ambientColor = 0x7196ac;\n        light.diffuse = 1.2;\n        light.specular = 1.1;\n        this._view.scene.addChild(light);\n        \n        this._lightPicker = new StaticLightPicker([light]);\n    }\n    \n    private initF14()\n    {\n        this._f14Initialized = true;\n        \n        var f14Material: MethodMaterial = new MethodMaterial(this._seaNormalImage); // will be the cubemap\n        f14Material.style.sampler = new Sampler2D(true, true, false);\n        f14Material.lightPicker = this._lightPicker;\n        \n        this._view.scene.addChild(this._f14Geom);\n        this._f14Geom.transform.scaleTo(20, 20, 20);\n        this._f14Geom.rotationX = 90;\n        this._f14Geom.y = 200;\n        this._view.camera.lookAt(this._f14Geom.transform.position);\n        \n        document.onmousedown = (event:MouseEvent) => this.onMouseDown(event);\n    }\n\n    private initSea()\n    {\n        this._seaMaterial = new MethodMaterial(this._seaNormalImage); // will be the cubemap\n        this._seaMaterial.style.sampler = new Sampler2D(true, true, false)\n        this._waterMethod = new NormalSimpleWaterMethod(new Single2DTexture(this._seaNormalImage), new Single2DTexture(this._seaNormalImage));\n        var fresnelMethod:SpecularFresnelMethod  = new SpecularFresnelMethod();\n        fresnelMethod.normalReflectance = .3;\n        fresnelMethod.gloss = 10;\n        fresnelMethod.strength = 1;\n        \n        this._seaMaterial.alphaBlending = true;\n        this._seaMaterial.lightPicker = this._lightPicker;\n        this._seaMaterial.style.sampler = new Sampler2D(true);\n        this._seaMaterial.animateUVs = true;\n        this._seaMaterial.normalMethod = this._waterMethod ;\n        this._seaMaterial.addEffectMethod(new EffectEnvMapMethod(new SingleCubeTexture(this._skyboxImageCube)));\n        this._seaMaterial.specularMethod = fresnelMethod;\n        \n        this._seaGeom = new PrimitivePlanePrefab(this._seaMaterial, ElementsType.TRIANGLE, 50000, 50000, 1, 1, true, false );\n        this._seaSprite = <Sprite> this._seaGeom.getNewObject();\n        this._seaSprite.graphics.scaleUV( 100, 100 );\n        this._seaSprite.style = new Style();\n        this._seaSprite.style.uvMatrix = new Matrix();\n        this._view.scene.addChild( new Skybox(this._skyboxImageCube));\n        this._view.scene.addChild( this._seaSprite );\n    }\n    \n    public onResourceComplete(event:LoaderEvent)\n    {\n        var loader:Loader = event.target;\n        var numAssets:number = loader.baseDependency.assets.length;\n        var i:number = 0;\n        \n        switch (event.url) {\n            case \"assets/sea_normals.jpg\":\n                this._seaNormalImage = <BitmapImage2D> loader.baseDependency.assets[0];\n                break;\n            case 'assets/f14/f14d.obj':\n                this._f14Geom = new DisplayObjectContainer();\n                for (i = 0; i < numAssets; ++i) {\n                    var asset:IAsset = loader.baseDependency.assets[i];\n                    switch (asset.assetType) {\n                        case Sprite.assetType:\n                            var sprite:Sprite = <Sprite> asset;\n                            this._f14Geom.addChild(sprite);\n                            break;\n                    }\n                }\n                break;\n            case 'assets/skybox/CubeTextureTest.cube':\n                this._skyboxImageCube = <BitmapImageCube> loader.baseDependency.assets[0];\n                break;\n        }\n        \n        this.initializeScene();\n    }\n    \n    private render(dt:number) //animate based on dt for firefox\n    {\n        if (this._f14Geom) {\n            this._rollIncrement += 0.02;\n            \n            switch (this._state) {\n                case 0 :\n                    this._f14Geom.rotationZ = Math.sin(this._rollIncrement)*25;\n                    break;\n                case 1 :\n                    this._loopIncrement += 0.05;\n                    this._f14Geom.z += Math.cos(this._loopIncrement)*20;\n                    this._f14Geom.y += Math.sin(this._loopIncrement)*20;\n                    this._f14Geom.rotationX += -1*((Math.PI/180)*Math.atan2(this._f14Geom.z, this._f14Geom.y));//* 20;\n                    this._f14Geom.rotationZ = Math.sin(this._rollIncrement)*25;\n                    \n                    if (this._loopIncrement > (Math.PI*2)) {\n                        this._loopIncrement = 0;\n                        this._state = 0;\n                    }\n                    break;\n            }\n        }\n        \n        if (this._f14Geom) {\n            this._view.camera.lookAt(this._f14Geom.transform.position);\n        }\n        \n        if (this._view.camera) {\n            this._cameraIncrement += 0.01;\n            this._view.camera.x = Math.cos(this._cameraIncrement)*400;\n            this._view.camera.z = Math.sin(this._cameraIncrement)*400;\n        }\n        \n        if ( this._f14Geom ) {\n            this._view.camera.lookAt(this._f14Geom.transform.position);\n        }\n        \n        if (this._seaMaterial) {\n            this._seaSprite.style.uvMatrix.ty -= 0.04;\n            \n            /*\n             this.waterMethod.water1OffsetX += .001;\n             this.waterMethod.water1OffsetY += .1;\n             this.waterMethod.water2OffsetX += .0007;\n             this.waterMethod.water2OffsetY += .6;\n             //*/\n        }\n        \n        this._appTime += dt;\n        this._view.render();\n    }\n    \n    public onResize(event:UIEvent = null)\n    {\n        this._view.y = 0;\n        this._view.x = 0;\n        this._view.width = window.innerWidth;\n        this._view.height = window.innerHeight;\n    }\n    \n    private onMouseDown(event:MouseEvent)\n    {\n        this._state++;\n        \n        if (this._state >= this._maxStates)\n            this._state = 0;\n    }\n}\n\nwindow.onload = function ()\n{\n    new AircraftDemo();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/AircraftDemo.ts\n **/"],"sourceRoot":""}