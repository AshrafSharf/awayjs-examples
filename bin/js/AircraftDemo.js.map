{"version":3,"sources":["webpack:///./src/AircraftDemo.ts"],"names":[],"mappings":"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","file":"js/AircraftDemo.js","sourcesContent":["import {BitmapImage2D}\t\t\t\tfrom \"awayjs-core/lib/image/BitmapImage2D\";\nimport {BitmapImageCube}\t\t\t\tfrom \"awayjs-core/lib/image/BitmapImageCube\";\nimport {Sampler2D}\t\t\t\t\tfrom \"awayjs-core/lib/image/Sampler2D\";\nimport {LoaderEvent}\t\t\t\t\tfrom \"awayjs-core/lib/events/LoaderEvent\";\nimport {Matrix}\t\t\t\t       \tfrom \"awayjs-core/lib/geom/Matrix\";\nimport {Vector3D}\t\t\t\t\t\tfrom \"awayjs-core/lib/geom/Vector3D\";\nimport {AssetLibrary}\t\t\t\t\tfrom \"awayjs-core/lib/library/AssetLibrary\";\nimport {Loader}\t\t\t        \tfrom \"awayjs-core/lib/library/Loader\";\nimport {IAsset}\t\t\t\t\t\tfrom \"awayjs-core/lib/library/IAsset\";\nimport {URLRequest}\t\t\t\t\tfrom \"awayjs-core/lib/net/URLRequest\";\nimport {Debug}\t\t\t\t\t\tfrom \"awayjs-core/lib/utils/Debug\";\nimport {RequestAnimationFrame}\t\tfrom \"awayjs-core/lib/utils/RequestAnimationFrame\";\n\nimport {DisplayObjectContainer}\t\tfrom \"awayjs-display/lib/display/DisplayObjectContainer\";\nimport {View}\t\t\t\t\t\t\tfrom \"awayjs-display/lib/View\";\nimport {DirectionalLight}\t\t\t\tfrom \"awayjs-display/lib/display/DirectionalLight\";\nimport {Sprite}\t\t\t\t\t\tfrom \"awayjs-display/lib/display/Sprite\";\nimport {Skybox}\t\t\t\t\t\tfrom \"awayjs-display/lib/display/Skybox\";\nimport {StaticLightPicker}\t\t\tfrom \"awayjs-display/lib/materials/lightpickers/StaticLightPicker\";\nimport {PrimitivePlanePrefab}\t\t\tfrom \"awayjs-display/lib/prefabs/PrimitivePlanePrefab\";\nimport {SingleCubeTexture}\t\t\tfrom \"awayjs-display/lib/textures/SingleCubeTexture\";\nimport {Single2DTexture}\t\t\t\tfrom \"awayjs-display/lib/textures/Single2DTexture\";\nimport {ElementsType}\t\t\t\tfrom \"awayjs-display/lib/graphics/ElementsType\";\nimport {Style}\t\t\t\t\t\tfrom \"awayjs-display/lib/base/Style\";\n\nimport {DefaultRenderer}\t\t\t\tfrom \"awayjs-renderergl/lib/DefaultRenderer\";\n\nimport {MethodMaterial}\t\t\t\tfrom \"awayjs-methodmaterials/lib/MethodMaterial\";\nimport {EffectEnvMapMethod}\t\t\tfrom \"awayjs-methodmaterials/lib/methods/EffectEnvMapMethod\";\nimport {NormalSimpleWaterMethod}\t\tfrom \"awayjs-methodmaterials/lib/methods/NormalSimpleWaterMethod\";\nimport {SpecularFresnelMethod}\t\tfrom \"awayjs-methodmaterials/lib/methods/SpecularFresnelMethod\";\n\nimport {OBJParser}\t\t\t\t\tfrom \"awayjs-parsers/lib/OBJParser\";\n\nclass AircraftDemo\n{\n\t//{ state\n\tprivate _maxStates:number = 2;\n\tprivate _cameraIncrement:number = 0;\n\tprivate _rollIncrement:number = 0;\n\tprivate _loopIncrement:number = 0;\n\tprivate _state:number = 0;\n\tprivate _appTime:number = 0;\n\t//}\n\t\n\tprivate _lightPicker:StaticLightPicker;\n\tprivate _view:View;\n\tprivate _timer:RequestAnimationFrame;\n\t\n\t//{ sea\n\tprivate _seaGeom:PrimitivePlanePrefab;\n\tprivate _seaSprite:Sprite;\n\tprivate _seaNormalImage:BitmapImage2D;\n\tprivate _seaInitialized:boolean = false;\n\tprivate _seaMaterial:MethodMaterial;\n\t//}\n\t\n\t//{ f14\n\tprivate _f14Geom:DisplayObjectContainer;\n\tprivate _f14Initialized:boolean = false;\n\t//}\n\t\n\t//{ skybox\n\tprivate _waterMethod:NormalSimpleWaterMethod;\n\tprivate _skyboxImageCube:BitmapImageCube;\n\tprivate _skyboxInitialized:boolean = false;\n\t//}\n\t\n\tconstructor()\n\t{\n\t\tDebug.LOG_PI_ERRORS = false;\n\t\tDebug.THROW_ERRORS = false;\n\t\t\n\t\tthis.initView();\n\t\tthis.initLights();\n\t\tthis.initAnimation();\n\t\tthis.initParsers();\n\t\tthis.loadAssets();\n\t\t\n\t\twindow.onresize = (event:UIEvent) => this.onResize(event);\n\t}\n\t\n\tprivate loadAssets()\n\t{\n\t\tthis.loadAsset('assets/sea_normals.jpg');\n\t\tthis.loadAsset('assets/f14/f14d.obj');\n\t\tthis.loadAsset('assets/skybox/CubeTextureTest.cube');\n\t}\n\t\n\tprivate loadAsset(path:string)\n\t{\n\t\tvar session:Loader = AssetLibrary.getLoader();\n\t\tsession.addEventListener(LoaderEvent.LOAD_COMPLETE, (event:LoaderEvent) => this.onResourceComplete(event));\n\t\tsession.load(new URLRequest(path));\n\t}\n\t\n\tprivate initParsers()\n\t{\n\t\tAssetLibrary.enableParser(OBJParser);\n\t}\n\t\n\tprivate initAnimation()\n\t{\n\t\tthis._timer = new RequestAnimationFrame( this.render, this );\n\t}\n\n\tprivate initView()\n\t{\n\t\tthis._view = new View(new DefaultRenderer());\n\t\tthis._view.camera.z\t= -500;\n\t\tthis._view.camera.y\t= 250;\n\t\tthis._view.camera.rotationX\t= 20;\n\t\tthis._view.camera.projection.near = 0.5;\n\t\tthis._view.camera.projection.far = 14000;\n\t\tthis._view.backgroundColor = 0x2c2c32;\n\n\t\tthis.onResize();\n\t}\n\t\n\tprivate initializeScene()\n\t{\n\t\tif(this._skyboxImageCube && this._f14Geom && this._seaNormalImage) {\n\t\t\tthis.initF14();\n\t\t\tthis.initSea();\n\t\t\tthis._timer.start();\n\t\t}\n\t}\n\t\n\tprivate initLights()\n\t{\n\t\tvar light:DirectionalLight = new DirectionalLight();\n\t\tlight.color\t= 0x974523;\n\t\tlight.direction\t= new Vector3D(-300, -300, -5000);\n\t\tlight.ambient = 1;\n\t\tlight.ambientColor = 0x7196ac;\n\t\tlight.diffuse = 1.2;\n\t\tlight.specular = 1.1;\n\t\tthis._view.scene.addChild(light);\n\t\t\n\t\tthis._lightPicker = new StaticLightPicker([light]);\n\t}\n\t\n\tprivate initF14()\n\t{\n\t\tthis._f14Initialized = true;\n\t\t\n\t\tvar f14Material: MethodMaterial = new MethodMaterial(this._seaNormalImage); // will be the cubemap\n\t\tf14Material.style.sampler = new Sampler2D(true, true, false);\n\t\tf14Material.lightPicker = this._lightPicker;\n\t\t\n\t\tthis._view.scene.addChild(this._f14Geom);\n\t\tthis._f14Geom.transform.scaleTo(20, 20, 20);\n\t\tthis._f14Geom.rotationX = 90;\n\t\tthis._f14Geom.y = 200;\n\t\tthis._view.camera.lookAt(this._f14Geom.transform.position);\n\t\t\n\t\tdocument.onmousedown = (event:MouseEvent) => this.onMouseDown(event);\n\t}\n\n\tprivate initSea()\n\t{\n\t\tthis._seaMaterial = new MethodMaterial(this._seaNormalImage); // will be the cubemap\n\t\tthis._seaMaterial.style.sampler = new Sampler2D(true, true, false)\n\t\tthis._waterMethod = new NormalSimpleWaterMethod(new Single2DTexture(this._seaNormalImage), new Single2DTexture(this._seaNormalImage));\n\t\tvar fresnelMethod:SpecularFresnelMethod  = new SpecularFresnelMethod();\n\t\tfresnelMethod.normalReflectance = .3;\n\t\tfresnelMethod.gloss = 10;\n\t\tfresnelMethod.strength = 1;\n\t\t\n\t\tthis._seaMaterial.alphaBlending = true;\n\t\tthis._seaMaterial.lightPicker = this._lightPicker;\n\t\tthis._seaMaterial.style.sampler = new Sampler2D(true);\n\t\tthis._seaMaterial.animateUVs = true;\n\t\tthis._seaMaterial.normalMethod = this._waterMethod ;\n\t\tthis._seaMaterial.addEffectMethod(new EffectEnvMapMethod(new SingleCubeTexture(this._skyboxImageCube)));\n\t\tthis._seaMaterial.specularMethod = fresnelMethod;\n\t\t\n\t\tthis._seaGeom = new PrimitivePlanePrefab(this._seaMaterial, ElementsType.TRIANGLE, 50000, 50000, 1, 1, true, false );\n\t\tthis._seaSprite = <Sprite> this._seaGeom.getNewObject();\n\t\tthis._seaSprite.graphics.scaleUV( 100, 100 );\n\t\tthis._seaSprite.style = new Style();\n\t\tthis._seaSprite.style.uvMatrix = new Matrix();\n\t\tthis._view.scene.addChild( new Skybox(this._skyboxImageCube));\n\t\tthis._view.scene.addChild( this._seaSprite );\n\t}\n\t\n\tpublic onResourceComplete(event:LoaderEvent)\n\t{\n\t\tvar loader:Loader = event.target;\n\t\tvar numAssets:number = loader.baseDependency.assets.length;\n\t\tvar i:number = 0;\n\t\t\n\t\tswitch (event.url) {\n\t\t\tcase \"assets/sea_normals.jpg\":\n\t\t\t\tthis._seaNormalImage = <BitmapImage2D> loader.baseDependency.assets[0];\n\t\t\t\tbreak;\n\t\t\tcase 'assets/f14/f14d.obj':\n\t\t\t\tthis._f14Geom = new DisplayObjectContainer();\n\t\t\t\tfor (i = 0; i < numAssets; ++i) {\n\t\t\t\t\tvar asset:IAsset = loader.baseDependency.assets[i];\n\t\t\t\t\tswitch (asset.assetType) {\n\t\t\t\t\t\tcase Sprite.assetType:\n\t\t\t\t\t\t\tvar sprite:Sprite = <Sprite> asset;\n\t\t\t\t\t\t\tthis._f14Geom.addChild(sprite);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'assets/skybox/CubeTextureTest.cube':\n\t\t\t\tthis._skyboxImageCube = <BitmapImageCube> loader.baseDependency.assets[0];\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tthis.initializeScene();\n\t}\n\t\n\tprivate render(dt:number) //animate based on dt for firefox\n\t{\n\t\tif (this._f14Geom) {\n\t\t\tthis._rollIncrement += 0.02;\n\t\t\t\n\t\t\tswitch (this._state) {\n\t\t\t\tcase 0 :\n\t\t\t\t\tthis._f14Geom.rotationZ = Math.sin(this._rollIncrement)*25;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1 :\n\t\t\t\t\tthis._loopIncrement += 0.05;\n\t\t\t\t\tthis._f14Geom.z += Math.cos(this._loopIncrement)*20;\n\t\t\t\t\tthis._f14Geom.y += Math.sin(this._loopIncrement)*20;\n\t\t\t\t\tthis._f14Geom.rotationX += -1*((Math.PI/180)*Math.atan2(this._f14Geom.z, this._f14Geom.y));//* 20;\n\t\t\t\t\tthis._f14Geom.rotationZ = Math.sin(this._rollIncrement)*25;\n\t\t\t\t\t\n\t\t\t\t\tif (this._loopIncrement > (Math.PI*2)) {\n\t\t\t\t\t\tthis._loopIncrement = 0;\n\t\t\t\t\t\tthis._state = 0;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (this._f14Geom) {\n\t\t\tthis._view.camera.lookAt(this._f14Geom.transform.position);\n\t\t}\n\t\t\n\t\tif (this._view.camera) {\n\t\t\tthis._cameraIncrement += 0.01;\n\t\t\tthis._view.camera.x = Math.cos(this._cameraIncrement)*400;\n\t\t\tthis._view.camera.z = Math.sin(this._cameraIncrement)*400;\n\t\t}\n\t\t\n\t\tif ( this._f14Geom ) {\n\t\t\tthis._view.camera.lookAt(this._f14Geom.transform.position);\n\t\t}\n\t\t\n\t\tif (this._seaMaterial) {\n\t\t\tthis._seaSprite.style.uvMatrix.ty -= 0.04;\n\t\t\t\n\t\t\t/*\n\t\t\t this.waterMethod.water1OffsetX += .001;\n\t\t\t this.waterMethod.water1OffsetY += .1;\n\t\t\t this.waterMethod.water2OffsetX += .0007;\n\t\t\t this.waterMethod.water2OffsetY += .6;\n\t\t\t //*/\n\t\t}\n\t\t\n\t\tthis._appTime += dt;\n\t\tthis._view.render();\n\t}\n\t\n\tpublic onResize(event:UIEvent = null)\n\t{\n\t\tthis._view.y = 0;\n\t\tthis._view.x = 0;\n\t\tthis._view.width = window.innerWidth;\n\t\tthis._view.height = window.innerHeight;\n\t}\n\t\n\tprivate onMouseDown(event:MouseEvent)\n\t{\n\t\tthis._state++;\n\t\t\n\t\tif (this._state >= this._maxStates)\n\t\t\tthis._state = 0;\n\t}\n}\n\nwindow.onload = function ()\n{\n\tnew AircraftDemo();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/AircraftDemo.ts\n **/"],"sourceRoot":""}