{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/TorusPrimitive.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import URLLoaderEvent\t\t\t\t= require(\"awayjs-core/lib/events/URLLoaderEvent\");\nimport LoaderEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport AssetLibrary\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport URLLoader\t\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport URLLoaderDataFormat\t\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserUtils\t\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport PerspectiveProjection\t\t= require(\"awayjs-core/lib/projections/PerspectiveProjection\");\nimport RequestAnimationFrame\t\t= require(\"awayjs-core/lib/utils/RequestAnimationFrame\");\n\nimport View\t\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/View\");\nimport DirectionalLight\t\t\t\t= require(\"awayjs-display/lib/entities/DirectionalLight\");\nimport Mesh\t\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Mesh\");\nimport Skybox\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Skybox\");\nimport PrimitiveTorusPrefab\t\t\t= require(\"awayjs-display/lib/prefabs/PrimitiveTorusPrefab\");\nimport StaticLightPicker\t\t\t= require(\"awayjs-display/lib/materials/lightpickers/StaticLightPicker\");\nimport Single2DTexture\t\t\t\t= require(\"awayjs-display/lib/textures/Single2DTexture\");\n\nimport DefaultRenderer\t\t\t\t= require(\"awayjs-renderergl/lib/DefaultRenderer\");\n\nimport MethodMaterial\t\t\t\t= require(\"awayjs-methodmaterials/lib/MethodMaterial\");\n\nclass TorusPrimitive\n{\n\tprivate _view:View;\n\tprivate _torus:PrimitiveTorusPrefab;\n\tprivate _mesh:Mesh;\n\tprivate _raf:RequestAnimationFrame;\n\tprivate _image:HTMLImageElement;\n\tprivate _texture:Single2DTexture;\n\tprivate _material:MethodMaterial;\n\tprivate _light:DirectionalLight;\n\tprivate _lightPicker:StaticLightPicker;\n\n\tconstructor ()\n\t{\n\t\tthis.initView();\n\n\t\tthis._raf = new RequestAnimationFrame(this.render, this);\n\t\tthis._raf.start();\n\n\t\tthis.loadResources();\n\t\twindow.onresize = (event:UIEvent) => this.onResize(event);\n\n\t\tthis.onResize();\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initView()\n\t{\n\t\tthis._view = new View(new DefaultRenderer());// Create the Away3D View\n\t\tthis._view.backgroundColor = 0x000000;// Change the background color to black\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate loadResources()\n\t{\n\t\tvar imgLoader:URLLoader = new URLLoader();\n\t\timgLoader.dataFormat = URLLoaderDataFormat.BLOB;\n\t\timgLoader.addEventListener(URLLoaderEvent.LOAD_COMPLETE, (event:URLLoaderEvent) => this.urlCompleteHandler(event));\n\t\timgLoader.load(new URLRequest(\"assets/dots.png\"));\n\t}\n\n\t/**\n\t *\n\t * @param event\n\t */\n\tprivate urlCompleteHandler (event:URLLoaderEvent)\n\t{\n\t\tthis._image = ParserUtils.blobToImage((<URLLoader> event.target).data);\n\t\tthis._image.onload = (event:Event) => this.imageCompleteHandler(event);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initLights()\n\t{\n\t\tthis._light = new DirectionalLight();\n\t\tthis._light.diffuse = .7;\n\t\tthis._light.specular = 1;\n\t\tthis._view.scene.addChild(this._light);\n\n\t\tthis._lightPicker = new StaticLightPicker([this._light]);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initMaterial(image:HTMLImageElement)\n\t{\n\t\tthis._texture = new Single2DTexture(ParserUtils.imageToBitmapImage2D(image));\n\n\t\tthis._material = new MethodMaterial(this._texture, true, true, false);\n\t\tthis._material.lightPicker = this._lightPicker;\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initTorus()\n\t{\n\t\tthis._torus = new PrimitiveTorusPrefab(220, 80, 32, 16, false);\n\n\t\tthis._mesh = <Mesh> this._torus.getNewObject();\n\t\tthis._mesh.material = this._material;\n\n\t\tthis._view.scene.addChild(this._mesh);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate imageCompleteHandler(event:Event)\n\t{\n\t\tthis.initLights ();\n\t\tthis.initMaterial(<HTMLImageElement> event.target);\n\t\tthis.initTorus ();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic render(dt:number = null)\n\t{\n\t\tif (this._mesh)\n\t\t\tthis._mesh.rotationY += 1;\n\n\t\tthis._view.render();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic onResize(event:UIEvent = null)\n\t{\n\t\tthis._view.y = 0;\n\t\tthis._view.x = 0;\n\t\tthis._view.width = window.innerWidth;\n\t\tthis._view.height = window.innerHeight;\n\t}\n}\n\nwindow.onload = function()\n{\n\tnew TorusPrimitive();\n}"
  ]
}