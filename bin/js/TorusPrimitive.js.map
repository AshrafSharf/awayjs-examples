{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/TorusPrimitive.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "TorusPrimitive.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import AwayEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\nimport LoaderEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport AssetLibrary\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport URLLoader\t\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport URLLoaderDataFormat\t\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserUtils\t\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport PerspectiveProjection\t\t= require(\"awayjs-core/lib/projections/PerspectiveProjection\");\nimport ImageTexture\t\t\t\t\t= require(\"awayjs-core/lib/textures/ImageTexture\");\nimport RequestAnimationFrame\t\t= require(\"awayjs-core/lib/utils/RequestAnimationFrame\");\n\nimport View\t\t\t\t\t\t\t= require(\"awayjs-display/lib/containers/View\");\nimport DirectionalLight\t\t\t\t= require(\"awayjs-display/lib/entities/DirectionalLight\");\nimport Mesh\t\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Mesh\");\nimport Skybox\t\t\t\t\t\t= require(\"awayjs-display/lib/entities/Skybox\");\nimport PrimitiveTorusPrefab\t\t\t= require(\"awayjs-display/lib/prefabs/PrimitiveTorusPrefab\");\nimport StaticLightPicker\t\t\t= require(\"awayjs-display/lib/materials/lightpickers/StaticLightPicker\");\n\nimport DefaultRenderer\t\t\t\t= require(\"awayjs-renderergl/lib/DefaultRenderer\");\n\nimport MethodMaterial\t\t\t\t= require(\"awayjs-methodmaterials/lib/MethodMaterial\");\nimport MethodRendererPool\t\t\t= require(\"awayjs-methodmaterials/lib/pool/MethodRendererPool\");\n\nclass TorusPrimitive\n{\n\tprivate _view:View;\n\tprivate _torus:PrimitiveTorusPrefab;\n\tprivate _mesh:Mesh;\n\tprivate _raf:RequestAnimationFrame;\n\tprivate _image:HTMLImageElement;\n\tprivate _texture:ImageTexture;\n\tprivate _material:MethodMaterial;\n\tprivate _light:DirectionalLight;\n\tprivate _lightPicker:StaticLightPicker;\n\n\tconstructor ()\n\t{\n\t\tthis.initView();\n\n\t\tthis._raf = new RequestAnimationFrame(this.render, this);\n\t\tthis._raf.start();\n\n\t\tthis.loadResources();\n\t\twindow.onresize = (event:UIEvent) => this.onResize(event);\n\n\t\tthis.onResize();\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initView()\n\t{\n\t\tthis._view = new View(new DefaultRenderer(MethodRendererPool));// Create the Away3D View\n\t\tthis._view.backgroundColor = 0x000000;// Change the background color to black\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate loadResources()\n\t{\n\t\tvar imgLoader:URLLoader = new URLLoader();\n\t\timgLoader.dataFormat = URLLoaderDataFormat.BLOB;\n\t\timgLoader.addEventListener(AwayEvent.COMPLETE, (event:AwayEvent) => this.urlCompleteHandler(event));\n\t\timgLoader.load(new URLRequest(\"assets/dots.png\"));\n\t}\n\n\t/**\n\t *\n\t * @param event\n\t */\n\tprivate urlCompleteHandler (event:AwayEvent)\n\t{\n\t\tthis._image = ParserUtils.blobToImage((<URLLoader> event.target).data);\n\t\tthis._image.onload = (event:Event) => this.imageCompleteHandler(event);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initLights()\n\t{\n\t\tthis._light = new DirectionalLight();\n\t\tthis._light.diffuse = .7;\n\t\tthis._light.specular = 1;\n\t\tthis._view.scene.addChild(this._light);\n\n\t\tthis._lightPicker = new StaticLightPicker([this._light]);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initMaterial(image:HTMLImageElement)\n\t{\n\t\tthis._texture = new ImageTexture(image);\n\n\t\tthis._material = new MethodMaterial(this._texture, true, true, false);\n\t\tthis._material.lightPicker = this._lightPicker;\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initTorus()\n\t{\n\t\tthis._torus = new PrimitiveTorusPrefab(220, 80, 32, 16, false);\n\n\t\tthis._mesh = <Mesh> this._torus.getNewObject();\n\t\tthis._mesh.material = this._material;\n\n\t\tthis._view.scene.addChild(this._mesh);\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate imageCompleteHandler(event:Event)\n\t{\n\t\tthis.initLights ();\n\t\tthis.initMaterial(<HTMLImageElement> event.target);\n\t\tthis.initTorus ();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic render(dt:number = null)\n\t{\n\t\tif (this._mesh)\n\t\t\tthis._mesh.rotationY += 1;\n\n\t\tthis._view.render();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic onResize(event:UIEvent = null)\n\t{\n\t\tthis._view.y = 0;\n\t\tthis._view.x = 0;\n\t\tthis._view.width = window.innerWidth;\n\t\tthis._view.height = window.innerHeight;\n\t}\n}\n\nwindow.onload = function()\n{\n\tnew TorusPrimitive();\n}"
  ],
  "sourceRoot": ""
}